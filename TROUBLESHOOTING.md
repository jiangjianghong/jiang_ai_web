# 故障排除指南

本文档提供了常见问题的解决方案，特别是与 CORS 代理和 API 请求相关的问题。

## CORS 代理问题

### 所有代理服务都不可用

**症状：** 应用显示"所有代理服务都不可用"错误，代理状态指示器显示红色。

**解决方案：**

1. **检查网络连接**
   - 确保您的网络连接正常
   - 某些网络（如公司网络）可能会阻止对公共代理服务的访问

2. **尝试刷新页面**
   - 有时简单地刷新页面就能解决问题
   - 代理服务可能暂时不可用，刷新后会重新检测

3. **使用浏览器 CORS 插件**
   - 安装 [CORS Unblock](https://chrome.google.com/webstore/detail/cors-unblock/lfhmikememgdcahcdlaciloancbhjino) 或类似插件
   - 启用插件后刷新页面

4. **尝试其他浏览器**
   - Edge 浏览器的 CORS 策略相对宽松
   - Firefox 可以通过配置调整 CORS 策略

### 代理请求超时

**症状：** 请求长时间无响应，最终显示超时错误。

**解决方案：**

1. **检查网络连接速度**
   - 慢速网络可能导致请求超时
   - 尝试使用更快的网络连接

2. **尝试其他代理服务**
   - 点击代理状态指示器查看可用的代理服务
   - 如果一个代理服务超时，系统会自动尝试下一个

3. **减少请求数据量**
   - 如果您正在请求大量数据，尝试减少请求范围
   - 对于 Notion API，可以使用过滤器减少返回的数据量

## Notion API 问题

### API 密钥无效

**症状：** 收到 401 错误，提示"API 密钥无效或已过期"。

**解决方案：**

1. **检查 API 密钥**
   - 确保您输入的 API 密钥正确
   - 检查 API 密钥是否已过期
   - 在 Notion 开发者页面重新生成 API 密钥

2. **检查 Integration 权限**
   - 确保您的 Notion Integration 有足够的权限
   - 检查 Integration 是否已被添加到您要访问的数据库

### 数据库 ID 无效

**症状：** 收到 404 错误，提示"数据库不存在"。

**解决方案：**

1. **检查数据库 ID**
   - 确保您输入的数据库 ID 正确
   - 数据库 ID 通常是 URL 中 "?" 前面的一串字符

2. **检查 Integration 访问权限**
   - 确保您的 Integration 已被添加到该数据库
   - 在 Notion 中打开数据库，点击右上角的 "Share"，添加您的 Integration

## 浏览器问题

### 控制台显示 CORS 错误

**症状：** 浏览器控制台显示 CORS 相关错误。

**解决方案：**

1. **确保代理服务正常工作**
   - 检查代理状态指示器是否显示绿色
   - 如果显示红色，参考上面的"所有代理服务都不可用"解决方案

2. **使用浏览器 CORS 插件**
   - 安装 CORS 浏览器插件
   - 启用插件后刷新页面

3. **使用特殊浏览器启动模式**
   - Chrome: 使用 `--disable-web-security` 参数启动
   - Firefox: 在 `about:config` 中设置 `security.fileuri.strict_origin_policy` 为 `false`

### 缓存问题

**症状：** 更新后的内容没有显示，或者旧错误仍然出现。

**解决方案：**

1. **强制刷新页面**
   - Windows: Ctrl+F5
   - Mac: Cmd+Shift+R

2. **清除浏览器缓存**
   - 打开浏览器设置
   - 找到清除浏览数据选项
   - 选择清除缓存

3. **使用隐私模式**
   - 在隐私模式下打开应用
   - 这将避免使用缓存的资源

## 其他问题

### 应用加载缓慢

**症状：** 应用加载时间异常长。

**解决方案：**

1. **检查网络连接**
   - 确保您的网络连接正常
   - 尝试使用更快的网络连接

2. **清除浏览器缓存**
   - 缓存的旧资源可能导致加载问题
   - 清除缓存后重新加载页面

3. **检查浏览器扩展**
   - 某些浏览器扩展可能会干扰应用加载
   - 尝试在隐私模式下打开应用

### 应用崩溃

**症状：** 应用突然停止响应或白屏。

**解决方案：**

1. **检查浏览器控制台错误**
   - 打开浏览器开发者工具 (F12)
   - 查看控制台中的错误信息

2. **刷新页面**
   - 简单地刷新页面可能解决临时问题

3. **清除本地存储**
   - 打开浏览器开发者工具 (F12)
   - 转到 Application > Storage > Clear Site Data
   - 清除后重新加载页面

## 获取帮助

如果您尝试了上述解决方案但问题仍然存在，请提供以下信息寻求帮助：

1. 浏览器版本和操作系统
2. 错误消息截图或文本
3. 问题发生的步骤
4. 代理状态指示器显示的信息
5. 您尝试过的解决方案