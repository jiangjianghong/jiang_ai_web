var zs=Object.defineProperty,Us=Object.defineProperties;var Js=Object.getOwnPropertyDescriptors;var is=Object.getOwnPropertySymbols;var Gs=Object.prototype.hasOwnProperty,Vs=Object.prototype.propertyIsEnumerable;var os=(r,l,x)=>l in r?zs(r,l,{enumerable:!0,configurable:!0,writable:!0,value:x}):r[l]=x,Z=(r,l)=>{for(var x in l||(l={}))Gs.call(l,x)&&os(r,x,l[x]);if(is)for(var x of is(l))Vs.call(l,x)&&os(r,x,l[x]);return r},ve=(r,l)=>Us(r,Js(l));var b=(r,l,x)=>new Promise((a,g)=>{var w=m=>{try{f(x.next(m))}catch(d){g(d)}},N=m=>{try{f(x.throw(m))}catch(d){g(d)}},f=m=>m.done?a(m.value):Promise.resolve(m.value).then(w,N);f((x=x.apply(r,l)).next())});import{j as e,A as Oe,m as F}from"./ui-vendor-ZFeOVBt2.js";import{r as t}from"./router-vendor-C8QFrNcQ.js";import{u as ds,a as Te,b as xs,c as Hs,S as Ys,d as Ks,e as J,C as Zs,P as Xs,s as qs,f as Qs,g as et,h as st,i as tt}from"./index-CiAu4rh6.js";import"./react-vendor-DKqf9w2B.js";function at(){const{syncStatus:r}=ds(),{currentUser:l}=Te(),{autoSyncEnabled:x}=xs(),[,a]=t.useState(0);if(t.useEffect(()=>{const m=()=>{if(!r.lastSyncTime)return 6e4;const h=Math.floor((new Date().getTime()-r.lastSyncTime.getTime())/1e3);return h<60?1e3:h<3600?6e4:3e5};let d;const p=()=>{const k=m();d=setTimeout(()=>{a(h=>h+1),p()},k)};return p(),()=>{d&&clearTimeout(d)}},[r.lastSyncTime]),!l)return null;const g=m=>{if(!m)return"ä»æœªåŒæ­¥";const p=Math.floor((new Date().getTime()-m.getTime())/1e3);return p<60?`${p}ç§’å‰`:p<3600?`${Math.floor(p/60)}åˆ†é’Ÿå‰`:p<86400?`${Math.floor(p/3600)}å°æ—¶å‰`:`${Math.floor(p/86400)}å¤©å‰`},w=()=>r.syncInProgress?e.jsx("i",{className:"fa-solid fa-sync fa-spin text-blue-500"}):r.syncError?e.jsx("i",{className:"fa-solid fa-exclamation-triangle text-red-500"}):r.isOnline?r.pendingChanges>0?e.jsx("i",{className:"fa-solid fa-clock text-orange-500"}):e.jsx("i",{className:"fa-solid fa-check-circle text-green-500"}):e.jsx("i",{className:"fa-solid fa-wifi-slash text-gray-500"}),N=()=>r.syncInProgress?"åŒæ­¥ä¸­...":r.syncError?"åŒæ­¥å¤±è´¥":r.isOnline?x?r.pendingChanges>0?`${r.pendingChanges} ä¸ªæ›´æ”¹å¾…åŒæ­¥`:"è‡ªåŠ¨åŒæ­¥":"æ‰‹åŠ¨åŒæ­¥":"ç¦»çº¿æ¨¡å¼",f=()=>r.syncError?r.syncError:`ä¸Šæ¬¡åŒæ­¥: ${g(r.lastSyncTime)}`;return e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[w(),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:N()})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${r.isOnline?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:"text-xs text-gray-500",children:r.isOnline?"åœ¨çº¿":"ç¦»çº¿"})]})]}),e.jsx("p",{className:"text-xs text-gray-500",children:f()}),e.jsx(Oe,{children:r.syncError&&e.jsx(F.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"bg-red-50 border border-red-200 rounded p-2",children:e.jsxs("p",{className:"text-xs text-red-600",children:[e.jsx("i",{className:"fa-solid fa-info-circle mr-1"}),r.syncError]})})}),e.jsx(Oe,{children:r.syncInProgress&&e.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"w-full bg-gray-200 rounded-full h-1",children:e.jsx(F.div,{className:"bg-blue-500 h-1 rounded-full",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:2,ease:"easeInOut"}})})})]})})}function rt({onSuccess:r}){const[l,x]=t.useState(!0),[a,g]=t.useState(""),[w,N]=t.useState(""),[f,m]=t.useState(""),[d,p]=t.useState(!1),[k,h]=t.useState(""),[P,o]=t.useState(!1),[S,T]=t.useState(""),[y,C]=t.useState(!1),[E,I]=t.useState(""),{login:i,register:u,sendVerificationEmail:c,resetPasswordForEmail:D,error:L}=Te(),G=k||L,Ne=O=>b(null,null,function*(){if(O.preventDefault(),!a||!w){h("è¯·å¡«å†™å®Œæ•´ä¿¡æ¯");return}if(!l&&!f.trim()){h("è¯·è¾“å…¥ç”¨æˆ·å");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)){h("è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€");return}if(!l){if(f.length<2||f.length>20){h("ç”¨æˆ·åé•¿åº¦éœ€åœ¨2-20ä¸ªå­—ç¬¦ä¹‹é—´");return}if(!/^[a-zA-Z0-9\u4e00-\u9fa5_-]+$/.test(f)){h("ç”¨æˆ·ååªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—ã€ä¸­æ–‡ã€ä¸‹åˆ’çº¿å’ŒçŸ­æ¨ªçº¿");return}}p(!0),h("");try{l?(yield i(a,w),r()):(yield u(a,w),o(!0),T(a),localStorage.setItem("pendingDisplayName",f))}catch(q){console.error("è®¤è¯å¤±è´¥:",q)}finally{p(!1)}}),X=()=>b(null,null,function*(){try{yield c(),alert("éªŒè¯é‚®ä»¶å·²é‡æ–°å‘é€ï¼Œè¯·æ£€æŸ¥é‚®ç®±")}catch(O){alert("å‘é€éªŒè¯é‚®ä»¶å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•")}}),R=()=>b(null,null,function*(){if(h(""),!E||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(E)){h("è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€");return}p(!0);try{yield D(E),C(!1),I(""),alert("âœ… å¯†ç é‡ç½®é‚®ä»¶å·²å‘é€ï¼Œè¯·æ£€æŸ¥æ‚¨çš„é‚®ç®±ï¼")}catch(_){console.error("å‘é€å¯†ç é‡ç½®é‚®ä»¶å¤±è´¥:",_),h(_.message||"å‘é€å¤±è´¥ï¼Œè¯·é‡è¯•")}finally{p(!1)}});return P?e.jsx(F.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("i",{className:"fa-solid fa-envelope-circle-check text-green-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-green-800",children:"æ³¨å†ŒæˆåŠŸï¼è¯·éªŒè¯æ‚¨çš„é‚®ç®±"}),e.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["æˆ‘ä»¬å·²å‘ ",e.jsx("strong",{children:S})," å‘é€äº†éªŒè¯é‚®ä»¶ã€‚ è¯·ç‚¹å‡»é‚®ä»¶ä¸­çš„é“¾æ¥å®ŒæˆéªŒè¯åå³å¯ä½¿ç”¨å®Œæ•´åŠŸèƒ½ã€‚"]}),e.jsxs("div",{className:"mt-3 flex space-x-2",children:[e.jsx("button",{onClick:X,className:"text-xs bg-green-100 hover:bg-green-200 text-green-800 px-2 py-1 rounded",children:"é‡æ–°å‘é€éªŒè¯é‚®ä»¶"}),e.jsx("button",{onClick:()=>{o(!1),x(!0),g(""),N(""),m("")},className:"text-xs bg-blue-100 hover:bg-blue-200 text-blue-800 px-2 py-1 rounded",children:"è¿”å›ç™»å½•"})]})]})]})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:y?"é‡ç½®å¯†ç ":l?"ç™»å½•è´¦å·":"æ³¨å†Œè´¦å·"}),e.jsx("p",{className:"text-sm text-gray-600",children:y?"è¯·è¾“å…¥æ‚¨çš„é‚®ç®±åœ°å€":l?"ä½¿ç”¨é‚®ç®±ç™»å½•æ‚¨çš„è´¦å·":"åˆ›å»ºæ–°è´¦å·å¹¶è®¾ç½®ç”¨æˆ·å"})]}),G&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:G}),y?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"é‚®ç®± *"}),e.jsx("input",{type:"email",value:E,onChange:O=>I(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"è¯·è¾“å…¥æ‚¨çš„é‚®ç®±",disabled:d})]}),e.jsx("button",{onClick:R,disabled:d||!E,className:"w-full bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white py-2 px-4 rounded-md transition-colors",children:d?"å‘é€ä¸­...":"å‘é€é‡ç½®é‚®ä»¶"}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>{C(!1),I(""),h("")},className:"text-blue-500 hover:text-blue-600 text-sm",disabled:d,children:"è¿”å›ç™»å½•"})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("form",{onSubmit:Ne,className:"space-y-4",children:[!l&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ç”¨æˆ·å *"}),e.jsx("input",{type:"text",value:f,onChange:O=>m(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"è¯·è¾“å…¥ç”¨æˆ·åï¼ˆ2-20ä¸ªå­—ç¬¦ï¼‰",disabled:d,maxLength:20}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"æ”¯æŒä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—ã€ä¸‹åˆ’çº¿å’ŒçŸ­æ¨ªçº¿"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"é‚®ç®± *"}),e.jsx("input",{type:"email",value:a,onChange:O=>g(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"è¯·è¾“å…¥é‚®ç®±",disabled:d})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"å¯†ç  *"}),e.jsx("input",{type:"password",value:w,onChange:O=>N(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"è¯·è¾“å…¥å¯†ç ï¼ˆè‡³å°‘6ä½ï¼‰",disabled:d,minLength:6})]}),e.jsx("button",{type:"submit",disabled:d,className:"w-full bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white py-2 px-4 rounded-md transition-colors",children:d?"å¤„ç†ä¸­...":l?"ç™»å½•":"æ³¨å†Œ"}),l&&e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:()=>{C(!0),h("")},className:"text-sm text-blue-500 hover:text-blue-600 hover:underline font-medium",children:"å¿˜è®°å¯†ç ï¼Ÿ"})})]}),!y&&e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{onClick:()=>x(!l),className:"text-blue-500 hover:text-blue-600",disabled:d,children:l?"æ²¡æœ‰è´¦å·ï¼Ÿç‚¹å‡»æ³¨å†Œ":"å·²æœ‰è´¦å·ï¼Ÿç‚¹å‡»ç™»å½•"})})]})]})}function lt({isOpen:r,onClose:l,onConfirm:x,title:a,message:g,confirmText:w="ç¡®å®š",cancelText:N="å–æ¶ˆ",type:f="warning"}){t.useEffect(()=>{if(!r)return;const k=h=>{h.key==="Escape"&&l()};return document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}},[r,l]);const d=(()=>{switch(f){case"danger":return{icon:"fa-solid fa-triangle-exclamation text-red-500",confirmButton:"bg-red-500 hover:bg-red-600 text-white",borderColor:"border-red-200"};case"warning":return{icon:"fa-solid fa-exclamation-triangle text-orange-500",confirmButton:"bg-orange-500 hover:bg-orange-600 text-white",borderColor:"border-orange-200"};case"info":return{icon:"fa-solid fa-info-circle text-blue-500",confirmButton:"bg-blue-500 hover:bg-blue-600 text-white",borderColor:"border-blue-200"}}})(),p=()=>{x(),l()};return e.jsx(Oe,{children:r&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center",children:[e.jsx(F.div,{className:"absolute inset-0 bg-black/50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:l}),e.jsx(F.div,{className:`relative bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 border-2 ${d.borderColor}`,initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:20,stiffness:300},children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("i",{className:`${d.icon} text-2xl`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:a}),e.jsx("div",{className:"text-sm text-gray-600 whitespace-pre-line",children:g})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:l,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:N}),e.jsx("button",{onClick:p,className:`px-4 py-2 rounded-lg transition-colors ${d.confirmButton}`,children:w})]})]})})]})})}function cs({label:r,selectedColor:l,onChange:x}){return e.jsxs("div",{className:"space-y-3 select-none",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 select-none",children:r}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:Hs.map(a=>e.jsx(F.button,{type:"button",onClick:()=>x(a.rgb),className:`w-8 h-8 rounded-lg border-2 transition-all duration-200 hover:scale-110 ${l===a.rgb?"border-blue-500 shadow-lg":"border-gray-300 hover:border-gray-400"}`,style:{backgroundColor:a.preview},title:a.name,whileHover:{scale:1.1},whileTap:{scale:.95},children:l===a.rgb&&e.jsx(F.div,{className:"w-full h-full flex items-center justify-center",initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:.3,type:"spring",stiffness:200},children:e.jsx("svg",{className:`w-3.5 h-3.5 ${a.name==="ç™½è‰²"||a.name==="é»„è‰²"?"text-gray-700":"text-white"}`,fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"})})})},a.name))})]})}function nt(r={}){const{enableAutoSync:l=!0,syncDelay:x=100}=r,a=Ys.getInstance(),[g,w]=t.useState(!0),[N,f]=t.useState(null),[m,d]=t.useState(!0),p=t.useCallback(i=>{if(!i||!i.id||typeof i.id!="string"||!i.name||typeof i.name!="string"||!i.url||typeof i.url!="string")return!1;try{new URL(i.url)}catch(u){return!1}return!0},[]),k=t.useCallback(()=>{try{const i=a.getItem("websites");if(i){const u=JSON.parse(i);if(Array.isArray(u)&&u.length>0){const c=u.filter(p);if(c.length>0)return c}}}catch(i){console.warn("è¯»å–ç¼“å­˜å¤±è´¥:",i),f("è¯»å–æœ¬åœ°æ•°æ®å¤±è´¥")}return[]},[a]),[h,P]=t.useState(()=>{const i=k();return w(!1),i}),o=t.useCallback(i=>{try{a.setItem("websites",JSON.stringify(i))||console.warn("ä¿å­˜åˆ°ç¼“å­˜å¤±è´¥ï¼šç”¨æˆ·æœªåŒæ„Cookieä½¿ç”¨")}catch(u){console.error("ä¿å­˜åˆ°ç¼“å­˜å¤±è´¥:",u),f("ä¿å­˜æ•°æ®å¤±è´¥")}},[a]);t.useEffect(()=>{if(!l||!m)return;const i=setTimeout(()=>{const u=k();(u.length!==h.length||JSON.stringify(u.map(c=>c.id).sort())!==JSON.stringify(h.map(c=>c.id).sort()))&&(console.log("ğŸ”„ å»¶è¿Ÿæ£€æŸ¥å‘ç°ä¸åŒçš„ç¼“å­˜æ•°æ®ï¼Œæ›´æ–°æ˜¾ç¤º"),P(u)),d(!1)},x);return()=>clearTimeout(i)},[l,x,m,k]),t.useEffect(()=>{!m&&l&&o(h)},[h,o,l,m]);const S=t.useCallback(i=>{f(null),P(i)},[]),T=t.useCallback(i=>{const u=ve(Z({},i),{visitCount:0,lastVisit:new Date().toISOString().split("T")[0]});S(c=>[...c,u])},[S]),y=t.useCallback((i,u)=>{S(c=>c.map(D=>D.id===i?Z(Z({},D),u):D))},[S]),C=t.useCallback(i=>{S(u=>u.filter(c=>c.id!==i))},[S]),E=t.useCallback(()=>b(null,null,function*(){try{const i={websites:h,settings:{cardOpacity:parseFloat(localStorage.getItem("cardOpacity")||"0.1"),searchBarOpacity:parseFloat(localStorage.getItem("searchBarOpacity")||"0.1"),parallaxEnabled:JSON.parse(localStorage.getItem("parallaxEnabled")||"true"),wallpaperResolution:localStorage.getItem("wallpaperResolution")||"1080p",theme:localStorage.getItem("theme")||"light"},exportTime:new Date().toISOString(),version:"1.0"};return JSON.stringify(i,null,2)}catch(i){throw new Error(`å¯¼å‡ºå¤±è´¥: ${i instanceof Error?i.message:"æœªçŸ¥é”™è¯¯"}`)}}),[h]),I=t.useCallback(i=>b(null,null,function*(){try{if(!i.websites||!Array.isArray(i.websites))return{success:!1,message:"æ— æ•ˆçš„æ•°æ®æ ¼å¼ï¼šç¼ºå°‘ç½‘ç«™æ•°æ®"};const u=i.websites.filter(p).map(c=>ve(Z({},c),{visitCount:typeof c.visitCount=="number"?c.visitCount:0,lastVisit:c.lastVisit||new Date().toISOString().split("T")[0],tags:Array.isArray(c.tags)?c.tags:[],note:c.note||""}));return u.length===0?{success:!1,message:"å¯¼å…¥æ–‡ä»¶ä¸­æ²¡æœ‰æœ‰æ•ˆçš„ç½‘ç«™æ•°æ®"}:(S(u),{success:!0,message:`æˆåŠŸå¯¼å…¥ ${u.length} ä¸ªç½‘ç«™`,validCount:u.length})}catch(u){return{success:!1,message:`å¯¼å…¥å¤±è´¥: ${u instanceof Error?u.message:"æœªçŸ¥é”™è¯¯"}`}}}),[S]);return{websites:h,setWebsites:S,addWebsite:T,updateWebsite:y,deleteWebsite:C,exportData:E,importData:I,isLoading:g,error:N}}function it(){const r=t.useCallback(()=>{try{return{cardOpacity:parseFloat(localStorage.getItem("cardOpacity")||"0.1"),searchBarOpacity:parseFloat(localStorage.getItem("searchBarOpacity")||"0.1"),parallaxEnabled:JSON.parse(localStorage.getItem("parallaxEnabled")||"true"),wallpaperResolution:localStorage.getItem("wallpaperResolution")||"1080p",theme:localStorage.getItem("theme")||"light"}}catch(a){return console.warn("å¯¼å‡ºè®¾ç½®å¤±è´¥ï¼Œä½¿ç”¨é»˜è®¤å€¼:",a),{cardOpacity:.1,searchBarOpacity:.1,parallaxEnabled:!0,wallpaperResolution:"1080p",theme:"light"}}},[]),l=t.useCallback(a=>{const g=[];return a.cardOpacity!==void 0&&(typeof a.cardOpacity!="number"||a.cardOpacity<.05||a.cardOpacity>.3)&&g.push("å¡ç‰‡é€æ˜åº¦å€¼æ— æ•ˆï¼ˆåº”åœ¨0.05-0.3ä¹‹é—´ï¼‰"),a.searchBarOpacity!==void 0&&(typeof a.searchBarOpacity!="number"||a.searchBarOpacity<.05||a.searchBarOpacity>.3)&&g.push("æœç´¢æ¡†é€æ˜åº¦å€¼æ— æ•ˆï¼ˆåº”åœ¨0.05-0.3ä¹‹é—´ï¼‰"),a.parallaxEnabled!==void 0&&typeof a.parallaxEnabled!="boolean"&&g.push("è§†å·®æ•ˆæœè®¾ç½®å€¼æ— æ•ˆï¼ˆåº”ä¸ºtrueæˆ–falseï¼‰"),a.wallpaperResolution!==void 0&&(["4k","1080p","720p","mobile"].includes(a.wallpaperResolution)||g.push("å£çº¸åˆ†è¾¨ç‡å€¼æ— æ•ˆ")),a.theme!==void 0&&(["light","dark"].includes(a.theme)||g.push("ä¸»é¢˜å€¼æ— æ•ˆï¼ˆåº”ä¸ºlightæˆ–darkï¼‰")),{valid:g.length===0,errors:g}},[]),x=t.useCallback(a=>{const g=l(a),w=[];if(!g.valid)return console.warn("è®¾ç½®éªŒè¯å¤±è´¥:",g.errors),{success:!1,appliedSettings:[]};const N=[];typeof a.cardOpacity=="number"&&N.push({key:"cardOpacity",value:a.cardOpacity.toString(),label:"å¡ç‰‡é€æ˜åº¦"}),typeof a.searchBarOpacity=="number"&&N.push({key:"searchBarOpacity",value:a.searchBarOpacity.toString(),label:"æœç´¢æ¡†é€æ˜åº¦"}),typeof a.parallaxEnabled=="boolean"&&N.push({key:"parallaxEnabled",value:JSON.stringify(a.parallaxEnabled),label:"è§†å·®æ•ˆæœ"}),a.wallpaperResolution&&["4k","1080p","720p","mobile"].includes(a.wallpaperResolution)&&N.push({key:"wallpaperResolution",value:a.wallpaperResolution,label:"å£çº¸åˆ†è¾¨ç‡"}),a.theme&&["light","dark"].includes(a.theme)&&N.push({key:"theme",value:a.theme,label:"ä¸»é¢˜"});const f=[];N.forEach(m=>{f.push({key:m.key,value:localStorage.getItem(m.key)})});try{return N.forEach(m=>{localStorage.setItem(m.key,m.value),w.push(m.label)}),{success:!0,appliedSettings:w}}catch(m){console.error("åº”ç”¨è®¾ç½®å¤±è´¥ï¼Œæ­£åœ¨å›æ»š:",m);try{f.forEach(d=>{d.value!==null?localStorage.setItem(d.key,d.value):localStorage.removeItem(d.key)})}catch(d){console.error("å›æ»šå¤±è´¥:",d)}return{success:!1,appliedSettings:[]}}},[l]);return{exportSettings:r,importSettings:x,validateSettings:l}}function ot(r,l){const[x,a]=t.useState(!1),[g,w]=t.useState(!1),[N,f]=t.useState(null),{importData:m}=nt({enableAutoSync:!1}),{exportSettings:d,importSettings:p}=it(),k=t.useCallback((...o)=>b(null,[...o],function*(P={}){const{includeSettings:S=!0,includeWebsites:T=!0}=P;if(!x){a(!0),f(null);try{if(T&&(!r||r.length===0)&&!confirm("å½“å‰æ²¡æœ‰ç½‘ç«™æ•°æ®ï¼Œæ˜¯å¦ä»è¦å¯¼å‡ºè®¾ç½®ï¼Ÿ"))return;const y={exportTime:new Date().toISOString(),version:"1.0"};T&&(y.websites=r||[]),S&&(y.settings=d());const C=JSON.stringify(y,null,2);if(new Blob([C]).size/1024/1024>50)throw new Error("å¯¼å‡ºæ•°æ®è¿‡å¤§ï¼ˆè¶…è¿‡50MBï¼‰ï¼Œè¯·è”ç³»æŠ€æœ¯æ”¯æŒ");const I=new Blob([C],{type:"application/json"}),i=`æ±Ÿçš„æ ‡ç­¾é¡µ_å¯¼å‡ºæ•°æ®_${new Date().toISOString().split("T")[0]}.json`;if("showSaveFilePicker"in window)try{const L=yield(yield window.showSaveFilePicker({suggestedName:i,types:[{description:"JSONæ–‡ä»¶",accept:{"application/json":[".json"]}}]})).createWritable();yield L.write(I),yield L.close(),alert(`æ•°æ®å¯¼å‡ºæˆåŠŸï¼${T?`åŒ…å« ${r.length} ä¸ªç½‘ç«™`:""}${S?"å’Œè®¾ç½®":""}ã€‚`);return}catch(D){if(D.name==="AbortError")return;console.warn("ç°ä»£ä¸‹è½½APIå¤±è´¥ï¼Œä½¿ç”¨ä¼ ç»Ÿæ–¹å¼:",D)}const u=URL.createObjectURL(I),c=document.createElement("a");c.href=u,c.download=i,c.style.display="none",document.body.appendChild(c),c.click(),document.body.removeChild(c),setTimeout(()=>URL.revokeObjectURL(u),1e3),alert(`æ•°æ®å¯¼å‡ºæˆåŠŸï¼${T?`åŒ…å« ${r.length} ä¸ªç½‘ç«™`:""}${S?"å’Œè®¾ç½®":""}ã€‚`)}catch(y){const C=y instanceof Error?y.message:"æœªçŸ¥é”™è¯¯";f(`å¯¼å‡ºå¤±è´¥: ${C}`),alert(`å¯¼å‡ºæ•°æ®å¤±è´¥ï¼š${C}`)}finally{a(!1)}}}),[x,r,d]),h=t.useCallback(P=>b(null,null,function*(){return g?{success:!1,message:"å¯¼å…¥æ­£åœ¨è¿›è¡Œä¸­ï¼Œè¯·ç¨å€™"}:(w(!0),f(null),new Promise(o=>{const S=new FileReader;S.onload=T=>b(null,null,function*(){var y;try{const C=(y=T.target)==null?void 0:y.result,E=JSON.parse(C);let I=0,i=[];if(E.websites){const c=yield m(E);c.success&&(l(E.websites.filter(D=>D.id&&D.name&&D.url)),I=c.validCount||0)}if(E.settings){const c=p(E.settings);c.success&&(i=c.appliedSettings)}if(I+i.length===0){o({success:!1,message:"å¯¼å…¥çš„æ–‡ä»¶ä¸­æ²¡æœ‰æœ‰æ•ˆæ•°æ®"});return}o({success:!0,message:"å¯¼å…¥æˆåŠŸï¼",details:{websitesImported:I,settingsApplied:i}})}catch(C){const E=C instanceof Error?C.message:"æ–‡ä»¶æ ¼å¼é”™è¯¯";f(`å¯¼å…¥å¤±è´¥: ${E}`),o({success:!1,message:`å¯¼å…¥å¤±è´¥: ${E}`})}finally{w(!1)}}),S.onerror=()=>{f("æ–‡ä»¶è¯»å–å¤±è´¥"),w(!1),o({success:!1,message:"æ–‡ä»¶è¯»å–å¤±è´¥"})},S.readAsText(P)}))}),[g,m,p,l]);return{exportAllData:k,importAllData:h,isExporting:x,isImporting:g,error:N}}function ct({onClose:r,websites:l,setWebsites:x}){const[a,g]=t.useState(!1),[w,N]=t.useState(!1),[f,m]=t.useState(!1),[d,p]=t.useState(null),[k,h]=t.useState(!1),[P,o]=t.useState(""),[S,T]=t.useState(!1),[y,C]=t.useState(""),[E,I]=t.useState(""),[i,u]=t.useState(!1),[c,D]=t.useState(!1),[L,G]=t.useState(""),[Ne,X]=t.useState(!1),[R,O]=t.useState(""),[_,q]=t.useState(""),[Fe,V]=t.useState(""),[Q,Pe]=t.useState(!1),[ee,We]=t.useState({exists:!1}),[z,we]=t.useState(!1),[Le,ke]=t.useState(!1),[Me,Se]=t.useState(!1),[se,ms]=t.useState([]),[us,Ce]=t.useState(!1),[A,Ee]=t.useState(null),[hs,te]=t.useState(!1),[gs,Be]=t.useState(!1),{exportAllData:fs,importAllData:ps,isExporting:Ie,isImporting:xe}=ot(l,x),{cardOpacity:ae,searchBarOpacity:re,parallaxEnabled:le,wallpaperResolution:H,cardColor:Ae,searchBarColor:Re,autoSyncEnabled:B,autoSyncInterval:ne,searchInNewTab:me,autoSortEnabled:ie,timeComponentEnabled:Y,showFullDate:bs,showSeconds:oe,showWeekday:ce,showYear:ue,showMonth:he,showDay:ge,searchBarBorderRadius:K,setCardOpacity:_e,setSearchBarOpacity:ze,setParallaxEnabled:Ue,setWallpaperResolution:fe,setIsSettingsOpen:pe,setCardColor:Je,setSearchBarColor:Ge,setAutoSyncEnabled:Ve,setAutoSyncInterval:He,setSearchInNewTab:ys,setAutoSortEnabled:Ye,setTimeComponentEnabled:Ke,setShowFullDate:js,setShowSeconds:Ze,setShowWeekday:Xe,setShowYear:qe,setShowMonth:Qe,setShowDay:es,setSearchBarBorderRadius:vs}=xs(),{currentUser:$,logout:Ns,updatePassword:ws}=Te(),{updateSyncStatus:ss}=ds(),{displayName:be,updateDisplayName:ks}=Ks(),U=t.useRef(null);t.useEffect(()=>{C(be||"")},[be]),t.useEffect(()=>{b(null,null,function*(){const n=yield J.getWallpaperInfo();We(n)}),ts()},[]);const ts=()=>b(null,null,function*(){try{const s=yield J.getAllWallpapers();ms(s)}catch(s){console.error("åŠ è½½å£çº¸åˆ—è¡¨å¤±è´¥:",s)}});t.useEffect(()=>{let s=0;const n=M=>{var v;M.preventDefault(),s++,Array.from(((v=M.dataTransfer)==null?void 0:v.items)||[]).some(je=>je.type.startsWith("image/"))&&!z&&Se(!0)},j=M=>{M.preventDefault(),s--,s===0&&Se(!1)},W=M=>{M.preventDefault(),s=0,Se(!1)},de=M=>{M.preventDefault()};return document.addEventListener("dragenter",n),document.addEventListener("dragleave",j),document.addEventListener("dragover",de),document.addEventListener("drop",W),()=>{document.removeEventListener("dragenter",n),document.removeEventListener("dragleave",j),document.removeEventListener("dragover",de),document.removeEventListener("drop",W)}},[z]);const as=s=>b(null,null,function*(){if(s){we(!0);try{const n=yield J.uploadWallpaper(s);n.success&&n.id?(o("âœ… è‡ªå®šä¹‰å£çº¸ä¸Šä¼ æˆåŠŸï¼é¡µé¢å³å°†åˆ·æ–°..."),setTimeout(()=>{window.location.reload()},500)):(o(n.error||"ä¸Šä¼ å¤±è´¥"),setTimeout(()=>o(""),3e3),we(!1))}catch(n){o("ä¸Šä¼ å¤±è´¥ï¼Œè¯·é‡è¯•"),setTimeout(()=>o(""),3e3),we(!1)}}}),Ss=s=>b(null,null,function*(){var j;const n=(j=s.target.files)==null?void 0:j[0];n&&(yield as(n),s.target&&(s.target.value=""))}),Cs=s=>{s.preventDefault(),s.stopPropagation()},Es=s=>{s.preventDefault(),s.stopPropagation(),z||ke(!0)},Is=s=>{s.preventDefault(),s.stopPropagation();const n=s.currentTarget.getBoundingClientRect(),j=s.clientX,W=s.clientY;(j<n.left||j>n.right||W<n.top||W>n.bottom)&&ke(!1)},$s=s=>b(null,null,function*(){if(s.preventDefault(),s.stopPropagation(),ke(!1),z)return;const j=Array.from(s.dataTransfer.files).find(W=>W.type.startsWith("image/"));j?yield as(j):(o("è¯·æ‹–æ‹½å›¾ç‰‡æ–‡ä»¶ (JPGã€PNGã€WebP)"),setTimeout(()=>o(""),3e3))}),Ds=s=>b(null,null,function*(){if(yield J.deleteWallpaper(s)){const j=yield J.getWallpaperInfo();We(j),yield ts(),!j.exists&&H==="custom"&&fe("1080p"),o("å£çº¸å·²åˆ é™¤"),setTimeout(()=>o(""),3e3)}else o("åˆ é™¤å¤±è´¥ï¼Œè¯·é‡è¯•"),setTimeout(()=>o(""),3e3)}),rs=s=>b(null,null,function*(){(yield J.setCurrentWallpaper(s))?(o("âœ… å£çº¸å·²åˆ‡æ¢ï¼Œé¡µé¢å³å°†åˆ·æ–°..."),setTimeout(()=>{window.location.reload()},500)):(o("âŒ åˆ‡æ¢å¤±è´¥ï¼Œè¯·é‡è¯•"),setTimeout(()=>o(""),3e3))}),Os=s=>b(null,null,function*(){Be(!0),te(!0);try{const n=yield J.getWallpaperFullImage(s.metadata.id);n?Ee({metadata:s.metadata,fullImageUrl:n}):(o("âŒ åŠ è½½é¢„è§ˆå¤±è´¥"),setTimeout(()=>o(""),3e3),te(!1))}catch(n){o("âŒ åŠ è½½é¢„è§ˆå¤±è´¥"),setTimeout(()=>o(""),3e3),te(!1)}finally{Be(!1)}}),ls=s=>b(null,null,function*(){(yield J.downloadWallpaper(s))?(o("âœ… å£çº¸å·²ä¸‹è½½"),setTimeout(()=>o(""),2e3)):(o("âŒ ä¸‹è½½å¤±è´¥ï¼Œè¯·é‡è¯•"),setTimeout(()=>o(""),3e3))}),Ts=()=>b(null,null,function*(){if(!y.trim()){I("ç”¨æˆ·åä¸èƒ½ä¸ºç©º");return}if(y.length<2||y.length>20){I("ç”¨æˆ·åé•¿åº¦éœ€åœ¨2-20ä¸ªå­—ç¬¦ä¹‹é—´");return}if(!/^[a-zA-Z0-9\u4e00-\u9fa5_-]+$/.test(y)){I("ç”¨æˆ·ååªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—ã€ä¸­æ–‡ã€ä¸‹åˆ’çº¿å’ŒçŸ­æ¨ªçº¿");return}u(!0),I("");try{(yield ks(y))?(T(!1),alert("ç”¨æˆ·åæ›´æ–°æˆåŠŸï¼")):I("æ›´æ–°å¤±è´¥ï¼Œè¯·é‡è¯•")}catch(s){I("æ›´æ–°å¤±è´¥ï¼Œè¯·é‡è¯•"),console.error("æ›´æ–°ç”¨æˆ·åå¤±è´¥:",s)}finally{u(!1)}}),Fs=()=>{C(be||""),T(!1),I("")},Ps=()=>b(null,null,function*(){if(V(""),!R||!_){V("è¯·å¡«å†™å®Œæ•´å¯†ç ä¿¡æ¯");return}if(R.length<6){V("å¯†ç è‡³å°‘éœ€è¦6ä½å­—ç¬¦");return}if(R!==_){V("ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´");return}Pe(!0);try{yield ws(R),O(""),q(""),X(!1),alert("âœ… å¯†ç ä¿®æ”¹æˆåŠŸï¼")}catch(s){console.error("ä¿®æ”¹å¯†ç å¤±è´¥:",s),V(s.message||"ä¿®æ”¹å¯†ç å¤±è´¥ï¼Œè¯·é‡è¯•")}finally{Pe(!1)}}),ns=()=>{O(""),q(""),V(""),X(!1)};t.useEffect(()=>(pe(!0),()=>pe(!1)),[pe]),t.useEffect(()=>{const s=n=>{n.key==="Escape"&&r()};return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}},[r]);const ye=()=>{pe(!1),r()},Ws=s=>{const n=ve(Z({},s),{visitCount:0,lastVisit:new Date().toISOString().split("T")[0]});x([...l,n]),g(!1)},Ls=()=>b(null,null,function*(){yield fs()}),Ms=s=>{var W;const n=(W=s.target.files)==null?void 0:W[0];if(!n)return;const j=5*1024*1024;if(n.size>j){alert("æ–‡ä»¶è¿‡å¤§ï¼è¯·é€‰æ‹©å°äº5MBçš„æ–‡ä»¶ã€‚"),U.current&&(U.current.value="");return}if(!n.type.includes("json")&&!n.name.endsWith(".json")){alert("è¯·é€‰æ‹©JSONæ ¼å¼çš„æ–‡ä»¶ï¼"),U.current&&(U.current.value="");return}p(n),m(!0),U.current&&(U.current.value="")},Bs=()=>b(null,null,function*(){if(!d||xe)return;const s=yield ps(d);if(s.success){const n=s.details;let j="æ•°æ®å¯¼å…¥æˆåŠŸï¼";n!=null&&n.websitesImported&&(j+=`å¯¼å…¥äº† ${n.websitesImported} ä¸ªç½‘ç«™ã€‚`),n!=null&&n.settingsApplied&&n.settingsApplied.length>0&&(j+=`åº”ç”¨äº†è®¾ç½®ï¼š${n.settingsApplied.join("ã€")}ã€‚`),j+="é¡µé¢å°†åˆ·æ–°ä»¥åº”ç”¨æ–°è®¾ç½®ã€‚",alert(j),window.location.reload()}else alert(s.message);p(null)}),As=()=>b(null,null,function*(){if(!c){D(!0),G("æ­£åœ¨æ¸…é™¤å›¾æ ‡ç¼“å­˜å¹¶é‡æ–°ä¸‹è½½...");try{yield tt.clearCache(),console.log("âœ… å›¾æ ‡ç¼“å­˜å·²æ¸…ç©º"),setTimeout(()=>{G("âœ… å›¾æ ‡ç¼“å­˜å·²æ¸…ç©ºï¼Œé¡µé¢å°†åˆ·æ–°"),setTimeout(()=>{window.location.reload()},1e3)},500)}catch(s){console.error("ä¿®å¤å›¾æ ‡å¤±è´¥:",s),G("âŒ ä¿®å¤å¤±è´¥ï¼Œè¯·é‡è¯•"),setTimeout(()=>{G(""),D(!1)},3e3)}}}),Rs=()=>b(null,null,function*(){if(!(!$||!$.email_confirmed_at||k)){h(!0),o("æ­£åœ¨ä¸Šä¼ æ•°æ®åˆ°äº‘ç«¯...");try{const s={cardOpacity:ae,searchBarOpacity:re,parallaxEnabled:le,wallpaperResolution:H,theme:localStorage.getItem("theme")||"light",cardColor:Ae,searchBarColor:Re,autoSyncEnabled:B,autoSyncInterval:ne,autoSortEnabled:ie,timeComponentEnabled:Y,showFullDate:bs,showSeconds:oe,showWeekday:ce,showYear:ue,showMonth:he,showDay:ge,lastSync:new Date().toISOString()};yield qs($,s),yield Qs($,l),ss({syncInProgress:!1,lastSyncTime:new Date,syncError:null,pendingChanges:0}),o("âœ… æ•°æ®å·²æˆåŠŸä¸Šä¼ åˆ°äº‘ç«¯"),setTimeout(()=>o(""),3e3)}catch(s){o("âŒ ä¸Šä¼ å¤±è´¥: "+(s instanceof Error?s.message:"æœªçŸ¥é”™è¯¯")),setTimeout(()=>o(""),5e3)}finally{h(!1)}}}),_s=()=>b(null,null,function*(){var s,n,j,W,de,M,$e,De;if(!(!$||!$.email_confirmed_at||k)){h(!0),o("æ­£åœ¨ä»äº‘ç«¯ä¸‹è½½æ•°æ®...");try{const v=yield et($),je=yield st($);v&&(_e(v.cardOpacity),ze(v.searchBarOpacity),Ue(v.parallaxEnabled),fe(v.wallpaperResolution),Je(v.cardColor),Ge(v.searchBarColor),Ve(v.autoSyncEnabled),He(v.autoSyncInterval),Ye((s=v.autoSortEnabled)!=null?s:!1),Ke((n=v.timeComponentEnabled)!=null?n:!0),js((j=v.showFullDate)!=null?j:!0),Ze((W=v.showSeconds)!=null?W:!0),Xe((de=v.showWeekday)!=null?de:!0),qe((M=v.showYear)!=null?M:!0),Qe(($e=v.showMonth)!=null?$e:!0),es((De=v.showDay)!=null?De:!0),localStorage.setItem("theme",v.theme||"light")),je&&x(je),ss({syncInProgress:!1,lastSyncTime:new Date,syncError:null,pendingChanges:0}),o("âœ… æ•°æ®å·²æˆåŠŸä»äº‘ç«¯ä¸‹è½½"),setTimeout(()=>o(""),3e3)}catch(v){o("âŒ ä¸‹è½½å¤±è´¥: "+(v instanceof Error?v.message:"æœªçŸ¥é”™è¯¯")),setTimeout(()=>o(""),5e3)}finally{h(!1)}}});return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center select-none",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/40 via-black/50 to-black/60 backdrop-blur-sm",onClick:ye}),e.jsxs(F.div,{className:"w-[420px] bg-white/95 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 z-50 max-h-[85vh] flex flex-col select-none overflow-hidden",initial:{scale:.8,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:400},children:[e.jsx("div",{className:"p-6 pb-0 select-none",children:e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-medium text-gray-800 select-none",children:"è®¾ç½®"}),e.jsx("button",{onClick:ye,className:"text-gray-500 hover:text-gray-700 select-none",children:e.jsx("i",{className:"fa-solid fa-xmark text-lg select-none"})})]})}),e.jsxs("div",{className:"flex-1 px-6 py-4 pb-6 space-y-8 overflow-y-auto select-none custom-scrollbar",children:[e.jsxs("div",{className:"space-y-5 select-none settings-section",children:[e.jsxs("div",{className:"flex items-center gap-3 select-none",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-emerald-400 to-green-500 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"fa-solid fa-user text-white text-xs"})}),e.jsx("h3",{className:"text-base font-semibold text-gray-800 select-none",children:"è´¦å·ç®¡ç†"}),e.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-gray-200 to-transparent"})]}),$?e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 border border-gray-200 shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-400 via-green-500 to-teal-500 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:e.jsx("i",{className:"fa-solid fa-cat text-white text-2xl"})}),e.jsx("div",{className:`absolute -bottom-1 -right-1 w-5 h-5 rounded-full border-2 border-white shadow-sm ${$.email_confirmed_at,"bg-white"}`,children:e.jsx("i",{className:`fa-solid ${$.email_confirmed_at?"fa-envelope-circle-check text-emerald-500":"fa-envelope-open text-amber-500"} text-xs flex items-center justify-center w-full h-full`})})]}),e.jsxs("div",{className:"flex-1",children:[S?e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",value:y,onChange:s=>C(s.target.value),className:"w-full px-2 py-1 text-lg font-semibold border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",placeholder:"è¯·è¾“å…¥ç”¨æˆ·å",maxLength:20,disabled:i,autoFocus:!0}),E&&e.jsx("p",{className:"text-xs text-red-600 select-none",children:E}),e.jsxs("div",{className:"flex space-x-2 select-none",children:[e.jsx("button",{onClick:Ts,disabled:i||!y.trim(),className:"text-xs bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 disabled:bg-gray-400 text-white px-2 py-1 rounded select-none",children:i?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa-solid fa-spinner fa-spin mr-1 select-none"}),e.jsx("span",{className:"select-none",children:"ä¿å­˜ä¸­..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa-solid fa-check mr-1 select-none"}),e.jsx("span",{className:"select-none",children:"ä¿å­˜"})]})}),e.jsxs("button",{onClick:Fs,disabled:i,className:"text-xs bg-gray-500 hover:bg-gray-600 text-white px-2 py-1 rounded select-none",children:[e.jsx("i",{className:"fa-solid fa-times mr-1 select-none"}),e.jsx("span",{className:"select-none",children:"å–æ¶ˆ"})]})]}),e.jsx("p",{className:"text-xs text-gray-500 select-none",children:"æ”¯æŒä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—ã€ä¸‹åˆ’çº¿å’ŒçŸ­æ¨ªçº¿ï¼Œ2-20ä¸ªå­—ç¬¦"})]}):e.jsx("button",{onClick:()=>T(!0),className:"text-left hover:bg-blue-50/50 rounded-lg p-1 transition-colors duration-200 group w-full",children:e.jsxs("div",{className:"text-lg font-semibold text-slate-800 mb-1 group-hover:text-blue-700 transition-colors duration-200 select-none",children:[be||"ç”¨æˆ·",e.jsx("i",{className:"fa-solid fa-edit text-xs text-gray-400 opacity-0 group-hover:opacity-100 group-hover:text-blue-500 transition-all duration-200 ml-2 select-none"})]})}),e.jsx("div",{className:"flex items-center gap-2 mt-2 select-none",children:e.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium select-none ${$.email_confirmed_at?"bg-gradient-to-r from-emerald-100 to-green-100 text-emerald-700 border border-emerald-300":"bg-gradient-to-r from-amber-100 to-orange-100 text-amber-700 border border-amber-300"}`,children:[e.jsx("i",{className:`fa-solid ${$.email_confirmed_at?"fa-shield-check":"fa-envelope"} text-xs ${$.email_confirmed_at?"text-emerald-500":"text-amber-500"} select-none`}),e.jsx("span",{className:"select-none",children:$.email_confirmed_at?"é‚®ç®±å·²éªŒè¯":"å¾…éªŒè¯é‚®ç®±"})]})})]})]}),e.jsx("div",{className:"border-t border-blue-200/50 pt-3 select-none",children:e.jsxs("div",{className:"flex items-center justify-between select-none",children:[e.jsxs("div",{className:"flex items-center space-x-2 select-none",children:[e.jsx("i",{className:"fa-solid fa-envelope text-indigo-500 text-sm select-none"}),e.jsx("span",{className:"text-xs text-gray-600 select-none",children:$.email})]}),e.jsx("i",{className:"fa-solid fa-check-circle text-green-500 text-xs select-none",title:"é‚®ç®±å·²éªŒè¯"})]})}),e.jsx("div",{className:"mt-4 pt-4 border-t border-blue-200/50 select-none",children:Ne?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-key text-blue-500 text-sm"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 select-none",children:"ä¿®æ”¹å¯†ç "})]}),e.jsx("button",{onClick:ns,className:"text-xs text-gray-500 hover:text-gray-700",children:e.jsx("i",{className:"fa-solid fa-times"})})]}),Fe&&e.jsx("div",{className:"p-2 bg-red-50 border border-red-200 rounded-lg text-xs text-red-600",children:Fe}),e.jsx("div",{children:e.jsx("input",{type:"password",value:R,onChange:s=>O(s.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",placeholder:"è¯·è¾“å…¥æ–°å¯†ç ï¼ˆè‡³å°‘6ä½ï¼‰",disabled:Q})}),e.jsx("div",{children:e.jsx("input",{type:"password",value:_,onChange:s=>q(s.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",placeholder:"è¯·å†æ¬¡è¾“å…¥æ–°å¯†ç ",disabled:Q})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:Ps,disabled:Q||!R||!_,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700 disabled:from-gray-400 disabled:to-gray-500 text-white text-sm rounded-lg transition-all duration-200 select-none",children:Q?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa-solid fa-spinner fa-spin text-xs"}),e.jsx("span",{children:"ä¿®æ”¹ä¸­..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa-solid fa-check text-xs"}),e.jsx("span",{children:"ç¡®è®¤ä¿®æ”¹"})]})}),e.jsx("button",{onClick:ns,disabled:Q,className:"px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm rounded-lg transition-colors select-none",children:"å–æ¶ˆ"})]})]}):e.jsxs("button",{onClick:()=>X(!0),className:"group flex items-center gap-2 text-sm text-slate-600 hover:text-slate-800 transition-all duration-200 select-none",children:[e.jsx("div",{className:"w-6 h-6 rounded-lg bg-slate-100 group-hover:bg-slate-200 flex items-center justify-center transition-colors duration-200 select-none",children:e.jsx("i",{className:"fa-solid fa-key text-xs select-none"})}),e.jsx("span",{className:"font-medium select-none",children:"ä¿®æ”¹å¯†ç "}),e.jsx("i",{className:"fa-solid fa-arrow-right text-xs opacity-0 group-hover:opacity-100 transition-opacity duration-200 select-none"})]})}),e.jsx("div",{className:"mt-4 pt-4 border-t border-blue-200/50 select-none",children:e.jsxs("button",{onClick:()=>b(null,null,function*(){try{yield Ns(),ye()}catch(s){console.error("ç™»å‡ºå¤±è´¥:",s)}}),className:"group flex items-center gap-2 text-sm text-slate-600 hover:text-slate-800 transition-all duration-200 select-none",children:[e.jsx("div",{className:"w-6 h-6 rounded-lg bg-slate-100 group-hover:bg-slate-200 flex items-center justify-center transition-colors duration-200 select-none",children:e.jsx("i",{className:"fa-solid fa-arrow-right-from-bracket text-xs select-none"})}),e.jsx("span",{className:"font-medium select-none",children:"é€€å‡ºç™»å½•"}),e.jsx("i",{className:"fa-solid fa-arrow-right text-xs opacity-0 group-hover:opacity-100 transition-opacity duration-200 select-none"})]})})]})})}):e.jsx("div",{className:"bg-white rounded-2xl p-6 border border-gray-200 shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx("i",{className:"fa-solid fa-cat text-white text-xl"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-lg font-semibold text-slate-800 mb-1 select-none",children:"è´¦å·ç™»å½•"}),e.jsx("div",{className:"text-sm text-slate-600 select-none",children:"ç™»å½•åå¯åŒæ­¥æ•°æ®åˆ°äº‘ç«¯"})]})]}),e.jsx(rt,{onSuccess:ye})]})})]}),e.jsxs("div",{className:"space-y-5 select-none settings-section",children:[e.jsxs("div",{className:"flex items-center gap-3 select-none",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-400 to-cyan-500 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"fa-solid fa-cloud text-white text-xs"})}),e.jsx("h3",{className:"text-base font-semibold text-gray-800 select-none",children:"äº‘ç«¯åŒæ­¥"}),e.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-gray-200 to-transparent"})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-gray-200 shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300 space-y-5",children:[e.jsx(at,{}),e.jsx("div",{className:"border-t border-gray-100"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2 select-none",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${B?"bg-blue-500 text-white":"bg-orange-500 text-white"}`,children:e.jsx("i",{className:`fa-solid text-sm ${B?"fa-sync":"fa-hand-paper"} select-none`})}),e.jsx("span",{className:"text-sm font-semibold text-gray-800 select-none",children:B?"è‡ªåŠ¨åŒæ­¥æ¨¡å¼":"æ‰‹åŠ¨åŒæ­¥æ¨¡å¼"})]}),e.jsx("p",{className:"text-xs text-gray-600 ml-11 select-none",children:B?"æ•°æ®å˜åŒ–åè‡ªåŠ¨åŒæ­¥åˆ°äº‘ç«¯ï¼Œä¿æŒå®æ—¶æ›´æ–°":"éœ€è¦æ‰‹åŠ¨æ“ä½œåŒæ­¥æ•°æ®ï¼Œå®Œå…¨ç”±æ‚¨æ§åˆ¶"})]}),e.jsx("button",{onClick:()=>Ve(!B),className:`relative inline-flex h-7 w-12 items-center rounded-full transition-all duration-300 hover:scale-105 ${B?"bg-gradient-to-r from-blue-400 to-cyan-500 shadow-lg shadow-cyan-300/50":"bg-gradient-to-r from-gray-400 to-gray-500 shadow-lg shadow-gray-300/50"}`,children:e.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-all duration-300 shadow-md ${B?"translate-x-6 shadow-cyan-200":"translate-x-1 shadow-gray-200"}`})})]}),B&&e.jsxs("div",{className:"space-y-3 pt-3 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 select-none",children:"åŒæ­¥é—´éš”"}),e.jsxs("span",{className:"text-sm text-blue-600 font-medium bg-blue-50 px-2 py-1 rounded",children:[ne,"ç§’"]})]}),e.jsx("input",{type:"range",min:"3",max:"60",step:"1",value:ne,onChange:s=>He(parseInt(s.target.value)),className:"w-full h-2 bg-gradient-to-r from-blue-200 to-blue-300 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #3b82f6 0%, #3b82f6 ${(ne-3)/57*100}%, #e2e8f0 ${(ne-3)/57*100}%, #e2e8f0 100%)`}}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-400 select-none",children:[e.jsx("span",{className:"select-none",children:"3ç§’"}),e.jsx("span",{className:"text-green-600 select-none",children:"å¿«é€Ÿ"}),e.jsx("span",{className:"text-blue-600 select-none",children:"å¹³è¡¡"}),e.jsx("span",{className:"text-purple-600 select-none",children:"æ‚ é—²"}),e.jsx("span",{className:"select-none",children:"60ç§’"})]})]}),!B&&$&&$.email_confirmed_at&&e.jsxs("div",{className:"space-y-3 pt-3 border-t border-gray-100",children:[e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:Rs,disabled:k,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-blue-400 to-cyan-500 text-white text-sm rounded-lg hover:from-blue-500 hover:to-cyan-600 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed transition-all duration-200 shadow-lg select-none",children:[e.jsx("i",{className:`fa-solid ${k?"fa-spinner fa-spin":"fa-cloud-upload-alt"} select-none`}),e.jsx("span",{className:"select-none",children:k?"ä¸Šä¼ ä¸­...":"ä¸Šä¼ åˆ°äº‘ç«¯"})]}),e.jsxs("button",{onClick:_s,disabled:k,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-blue-400 to-cyan-500 text-white text-sm rounded-lg hover:from-blue-500 hover:to-cyan-600 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed transition-all duration-200 shadow-lg select-none",children:[e.jsx("i",{className:`fa-solid ${k?"fa-spinner fa-spin":"fa-cloud-download-alt"} select-none`}),e.jsx("span",{className:"select-none",children:k?"ä¸‹è½½ä¸­...":"ä»äº‘ç«¯ä¸‹è½½"})]})]}),P&&e.jsx("div",{className:`text-xs text-center px-3 py-2 rounded-lg ${P.includes("âœ…")?"text-green-700 bg-green-50 border border-green-200":P.includes("âŒ")?"text-red-700 bg-red-50 border border-red-200":"text-blue-700 bg-blue-50 border border-blue-200"}`,children:P})]})]})]}),e.jsxs("div",{className:"space-y-5 select-none settings-section",children:[e.jsxs("div",{className:"flex items-center gap-3 select-none",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-purple-400 to-pink-500 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"fa-solid fa-palette text-white text-xs"})}),e.jsx("h3",{className:"text-base font-semibold text-gray-800 select-none",children:"å¤–è§‚è®¾ç½®"}),e.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-gray-200 to-transparent"})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-gray-200 shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300 space-y-5",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-search text-blue-500 text-sm"}),e.jsx("label",{className:"text-sm font-medium text-gray-700 select-none",children:"æœç´¢æ¡†ä¸é€æ˜åº¦"})]}),e.jsxs("span",{className:"text-sm text-blue-600 font-medium bg-blue-50 px-2 py-1 rounded select-none",children:[Math.round(re*100),"%"]})]}),e.jsx("input",{type:"range",min:"0.05",max:"0.5",step:"0.01",value:re,onChange:s=>ze(parseFloat(s.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #3b82f6 0%, #3b82f6 ${(re-.05)/.45*100}%, #e2e8f0 ${(re-.05)/.45*100}%, #e2e8f0 100%)`}}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-400 select-none",children:[e.jsx("span",{className:"select-none",children:"5%"}),e.jsx("span",{className:"text-gray-600 select-none",children:"é€æ˜"}),e.jsx("span",{className:"text-gray-600 select-none",children:"æ¸…æ™°"}),e.jsx("span",{className:"select-none",children:"50%"})]})]}),e.jsx("div",{className:"pt-2 border-t border-gray-100/60",children:e.jsx(cs,{label:"æœç´¢æ¡†é¢œè‰²",selectedColor:Re,onChange:Ge})}),e.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-200/60",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-border-all text-blue-500 text-sm"}),e.jsx("label",{className:"text-sm font-medium text-gray-700 select-none",children:"æœç´¢æ¡†åœ†è§’"})]}),e.jsx("span",{className:"text-sm text-blue-600 font-medium bg-blue-50 px-2 py-1 rounded select-none",children:K>=50?"å…¨åœ†è§’":`${K}px`})]}),e.jsx("input",{type:"range",min:"0",max:"50",step:"1",value:K>=50?50:K,onChange:s=>{const n=parseInt(s.target.value);vs(n===50?9999:n)},className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #3b82f6 0%, #3b82f6 ${Math.min(K,50)/50*100}%, #e2e8f0 ${Math.min(K,50)/50*100}%, #e2e8f0 100%)`}}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-400 select-none",children:[e.jsx("span",{className:"select-none",children:"ç›´è§’"}),e.jsx("span",{className:"text-gray-600 select-none",children:"åœ†è§’"}),e.jsx("span",{className:"text-gray-600 select-none",children:"å…¨åœ†"})]})]}),e.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-200/60",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-layer-group text-blue-500 text-sm"}),e.jsx("label",{className:"text-sm font-medium text-gray-700 select-none",children:"å¡ç‰‡ä¸é€æ˜åº¦"})]}),e.jsxs("span",{className:"text-sm text-blue-600 font-medium bg-blue-50 px-2 py-1 rounded select-none",children:[Math.round(ae*100),"%"]})]}),e.jsx("input",{type:"range",min:"0.05",max:"0.5",step:"0.01",value:ae,onChange:s=>_e(parseFloat(s.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #3b82f6 0%, #3b82f6 ${(ae-.05)/.45*100}%, #e2e8f0 ${(ae-.05)/.45*100}%, #e2e8f0 100%)`}}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-400 select-none",children:[e.jsx("span",{className:"select-none",children:"5%"}),e.jsx("span",{className:"text-gray-600 select-none",children:"é€æ˜"}),e.jsx("span",{className:"text-gray-600 select-none",children:"æ¸…æ™°"}),e.jsx("span",{className:"select-none",children:"50%"})]})]}),e.jsx("div",{className:"pt-2 border-t border-gray-100/60",children:e.jsx(cs,{label:"å¡ç‰‡é¢œè‰²",selectedColor:Ae,onChange:Je})})]})]}),e.jsxs("div",{className:"space-y-5 select-none settings-section",children:[e.jsxs("div",{className:"flex items-center gap-3 select-none",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"fa-solid fa-cogs text-white text-xs"})}),e.jsx("h3",{className:"text-base font-semibold text-gray-800 select-none",children:"åŠŸèƒ½ç®¡ç†"}),e.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-gray-200 to-transparent"})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-gray-200 shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("i",{className:"fa-solid fa-mouse text-blue-500 text-sm"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 select-none",children:"è§†å·®èƒŒæ™¯æ•ˆæœ"})]}),e.jsx("p",{className:"text-xs text-gray-500 select-none",children:le?"èƒŒæ™¯ä¼šè·Ÿéšé¼ æ ‡è½»å¾®ç§»åŠ¨":"èƒŒæ™¯å›ºå®šä¸åŠ¨"})]}),e.jsx("button",{onClick:()=>Ue(!le),className:`relative inline-flex h-7 w-12 items-center rounded-full transition-all duration-300 hover:scale-105 ${le?"bg-gradient-to-r from-indigo-500 to-purple-600 shadow-lg shadow-purple-300/50":"bg-gradient-to-r from-gray-400 to-gray-500 shadow-lg shadow-gray-300/50"}`,children:e.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-all duration-300 shadow-md ${le?"translate-x-6 shadow-purple-200":"translate-x-1 shadow-gray-200"}`})})]}),e.jsx("div",{className:"border-t border-gray-100"}),e.jsx("div",{className:"border-t border-gray-100"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("i",{className:"fa-solid fa-external-link-alt text-blue-500 text-sm"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 select-none",children:"æœç´¢æ‰“å¼€æ–¹å¼"})]}),e.jsx("p",{className:"text-xs text-gray-500 select-none",children:me?"åœ¨æ–°æ ‡ç­¾é¡µä¸­æ‰“å¼€æœç´¢ç»“æœ":"åœ¨å½“å‰é¡µé¢ç›´æ¥è·³è½¬"})]}),e.jsx("button",{onClick:()=>ys(!me),className:`relative inline-flex h-7 w-12 items-center rounded-full transition-all duration-300 hover:scale-105 ${me?"bg-gradient-to-r from-indigo-500 to-purple-600 shadow-lg shadow-purple-300/50":"bg-gradient-to-r from-gray-400 to-gray-500 shadow-lg shadow-gray-300/50"}`,children:e.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-all duration-300 shadow-md ${me?"translate-x-6 shadow-purple-200":"translate-x-1 shadow-gray-200"}`})})]}),e.jsx("div",{className:"border-t border-gray-100"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("i",{className:"fa-solid fa-sort text-blue-500 text-sm"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 select-none",children:"å¡ç‰‡è‡ªåŠ¨æ’åº"})]}),e.jsx("p",{className:"text-xs text-gray-500 select-none",children:ie?"æŒ‰è®¿é—®æ¬¡æ•°è‡ªåŠ¨æ’åºå¡ç‰‡":"ä¿æŒæ‰‹åŠ¨æ‹–æ‹½çš„é¡ºåº"})]}),e.jsx("button",{onClick:()=>Ye(!ie),className:`relative inline-flex h-7 w-12 items-center rounded-full transition-all duration-300 hover:scale-105 ${ie?"bg-gradient-to-r from-indigo-500 to-purple-600 shadow-lg shadow-purple-300/50":"bg-gradient-to-r from-gray-400 to-gray-500 shadow-lg shadow-gray-300/50"}`,children:e.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-all duration-300 shadow-md ${ie?"translate-x-6 shadow-purple-200":"translate-x-1 shadow-gray-200"}`})})]})]})]}),e.jsxs("div",{className:"space-y-5 select-none settings-section",children:[e.jsxs("div",{className:"flex items-center gap-3 select-none",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-orange-400 to-yellow-500 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"fa-solid fa-clock text-white text-xs"})}),e.jsx("h3",{className:"text-base font-semibold text-gray-800 select-none",children:"æ—¶é—´è®¾ç½®"}),e.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-gray-200 to-transparent"})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-gray-200 shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("i",{className:"fa-solid fa-clock text-orange-500 text-sm"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 select-none",children:"æ˜¾ç¤ºæ—¶é—´ç»„ä»¶"})]}),e.jsx("p",{className:"text-xs text-gray-500 select-none",children:Y?"åœ¨æœç´¢æ¡†ä¸Šæ–¹æ˜¾ç¤ºå½“å‰æ—¶é—´å’Œæ—¥æœŸ":"éšè—æ—¶é—´å’Œæ—¥æœŸæ˜¾ç¤º"})]}),e.jsx("button",{onClick:()=>Ke(!Y),className:`relative inline-flex h-7 w-12 items-center rounded-full transition-all duration-300 hover:scale-105 ${Y?"bg-gradient-to-r from-orange-400 to-yellow-500 shadow-lg shadow-orange-300/50":"bg-gradient-to-r from-gray-400 to-gray-500 shadow-lg shadow-gray-300/50"}`,children:e.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-all duration-300 shadow-md ${Y?"translate-x-6 shadow-orange-200":"translate-x-1 shadow-gray-200"}`})})]}),Y&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t border-gray-100"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-calendar text-orange-500 text-sm"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 select-none",children:"æ—¥æœŸæ˜¾ç¤ºæ§åˆ¶"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx("div",{className:"flex flex-col items-center space-y-2",children:e.jsxs("button",{onClick:()=>qe(!ue),className:`w-full p-3 rounded-lg border-2 transition-all duration-200 text-center select-none cursor-pointer ${ue?"border-orange-400 bg-orange-50 text-orange-700":"border-gray-200 bg-white text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[e.jsx("i",{className:`fa-solid fa-calendar-alt text-sm transition-colors ${ue?"text-orange-400":"text-gray-400"} select-none`}),e.jsx("div",{className:"font-medium text-sm select-none",children:"å¹´ä»½"})]}),e.jsx("div",{className:"text-xs text-gray-500 select-none",children:"2024å¹´"})]})}),e.jsx("div",{className:"flex flex-col items-center space-y-2",children:e.jsxs("button",{onClick:()=>Qe(!he),className:`w-full p-3 rounded-lg border-2 transition-all duration-200 text-center select-none cursor-pointer ${he?"border-orange-400 bg-orange-50 text-orange-700":"border-gray-200 bg-white text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[e.jsx("i",{className:`fa-solid fa-calendar-check text-sm transition-colors ${he?"text-orange-400":"text-gray-400"} select-none`}),e.jsx("div",{className:"font-medium text-sm select-none",children:"æœˆä»½"})]}),e.jsx("div",{className:"text-xs text-gray-500 select-none",children:"8æœˆ"})]})}),e.jsx("div",{className:"flex flex-col items-center space-y-2",children:e.jsxs("button",{onClick:()=>es(!ge),className:`w-full p-3 rounded-lg border-2 transition-all duration-200 text-center select-none cursor-pointer ${ge?"border-orange-400 bg-orange-50 text-orange-700":"border-gray-200 bg-white text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[e.jsx("i",{className:`fa-solid fa-calendar-day text-sm transition-colors ${ge?"text-orange-400":"text-gray-400"} select-none`}),e.jsx("div",{className:"font-medium text-sm select-none",children:"æ—¥æœŸ"})]}),e.jsx("div",{className:"text-xs text-gray-500 select-none",children:"28æ—¥"})]})})]})]}),e.jsx("div",{className:"border-t border-gray-100"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("i",{className:"fa-solid fa-calendar-week text-orange-500 text-sm"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 select-none",children:"æ˜¾ç¤ºæ˜ŸæœŸ"})]}),e.jsx("p",{className:"text-xs text-gray-500 select-none",children:ce?"æ˜¾ç¤ºå½“å‰æ˜¯æ˜ŸæœŸå‡ ":"éšè—æ˜ŸæœŸä¿¡æ¯"})]}),e.jsx("button",{onClick:()=>Xe(!ce),className:`relative inline-flex h-7 w-12 items-center rounded-full transition-all duration-300 hover:scale-105 ${ce?"bg-gradient-to-r from-orange-400 to-yellow-500 shadow-lg shadow-orange-300/50":"bg-gradient-to-r from-gray-400 to-gray-500 shadow-lg shadow-gray-300/50"}`,children:e.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-all duration-300 shadow-md ${ce?"translate-x-6 shadow-orange-200":"translate-x-1 shadow-gray-200"}`})})]}),e.jsx("div",{className:"border-t border-gray-100"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("i",{className:"fa-solid fa-stopwatch text-orange-500 text-sm"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 select-none",children:"ç²¾ç¡®åˆ°ç§’"})]}),e.jsx("p",{className:"text-xs text-gray-500 select-none",children:oe?"æ˜¾ç¤ºç²¾ç¡®çš„ç§’æ•°æ—¶é—´":"åªæ˜¾ç¤ºæ—¶:åˆ†ï¼Œå†’å·æ¯ç§’é—ªçƒ"})]}),e.jsx("button",{onClick:()=>Ze(!oe),className:`relative inline-flex h-7 w-12 items-center rounded-full transition-all duration-300 hover:scale-105 ${oe?"bg-gradient-to-r from-orange-400 to-yellow-500 shadow-lg shadow-orange-300/50":"bg-gradient-to-r from-gray-400 to-gray-500 shadow-lg shadow-gray-300/50"}`,children:e.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-all duration-300 shadow-md ${oe?"translate-x-6 shadow-orange-200":"translate-x-1 shadow-gray-200"}`})})]})]})]})]}),e.jsxs("div",{className:"space-y-5 select-none settings-section",children:[e.jsxs("div",{className:"flex items-center gap-3 select-none",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-pink-500 to-rose-600 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"fa-solid fa-image text-white text-xs"})}),e.jsx("h3",{className:"text-base font-semibold text-gray-800 select-none",children:"å£çº¸è®¾ç½®"}),e.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-gray-200 to-transparent"})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-gray-200 shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300 space-y-5",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-image text-blue-500 text-sm"}),e.jsx("label",{className:"text-sm font-medium text-gray-700 select-none",children:"å£çº¸åˆ†è¾¨ç‡"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("i",{className:"fa-solid fa-info-circle text-gray-400 text-xs cursor-help"}),e.jsxs("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-2 bg-gray-800 text-white text-xs rounded-lg shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:["ğŸ’¡ æ›´æ”¹åˆ†è¾¨ç‡åä¼šé‡æ–°åŠ è½½å£çº¸å¹¶æ›´æ–°ç¼“å­˜",e.jsx("div",{className:"absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800"})]})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3 select-none",children:[{value:"4k",label:"4K è¶…é«˜æ¸…",desc:"å¤§å±è®¾å¤‡",icon:"fa-desktop"},{value:"1080p",label:"1080p é«˜æ¸…",desc:"æ¨è",icon:"fa-laptop"},{value:"720p",label:"720p æ ‡æ¸…",desc:"ç½‘ç»œè¾ƒæ…¢",icon:"fa-wifi"},{value:"mobile",label:"ç«–å±å£çº¸",desc:"ç§»åŠ¨è®¾å¤‡",icon:"fa-mobile-alt"}].map(s=>e.jsxs("button",{onClick:()=>fe(s.value),className:`group p-3 rounded-lg border-2 transition-all duration-200 text-left select-none cursor-pointer ${H===s.value?"border-pink-500 bg-pink-50 text-pink-700":"border-gray-200 bg-white text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("i",{className:`fa-solid ${s.icon} text-sm transition-colors ${H===s.value?"text-pink-500":"text-gray-400 group-hover:text-gray-500"} select-none`}),e.jsx("div",{className:"font-medium text-sm select-none",children:s.label})]}),e.jsx("div",{className:"text-xs text-gray-500 select-none",children:s.desc})]},s.value))})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-upload text-blue-500 text-sm"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"è‡ªå®šä¹‰å£çº¸"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("i",{className:"fa-solid fa-info-circle text-gray-400 text-xs cursor-help"}),e.jsxs("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-2 bg-gray-800 text-white text-xs rounded-lg shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{children:"â€¢ æ”¯æŒ JPGã€PNGã€WebP æ ¼å¼"}),e.jsx("div",{children:"â€¢ æ–‡ä»¶å¤§å°ä¸è¶…è¿‡ 10MB"}),e.jsx("div",{children:"â€¢ å›¾ç‰‡ä¼šè‡ªåŠ¨å‹ç¼©ä¼˜åŒ–"}),ee.exists&&e.jsxs("div",{children:["â€¢ å½“å‰å£çº¸: ",ee.sizeText]})]}),e.jsx("div",{className:"absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800"})]})]})]}),e.jsxs("button",{onClick:()=>fe("custom"),className:`w-full p-3 rounded-lg border-2 transition-all duration-200 text-left select-none cursor-pointer ${H==="custom"?"border-pink-500 bg-pink-50 text-pink-700":"border-gray-200 bg-white text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("i",{className:`fa-solid fa-image text-sm transition-colors ${H==="custom"?"text-pink-500":"text-gray-400"} select-none`}),e.jsx("div",{className:"font-medium text-sm select-none",children:"è‡ªå®šä¹‰å£çº¸"}),ee.exists&&e.jsx("span",{className:"ml-auto text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"å·²ä¸Šä¼ "})]}),e.jsx("div",{className:"text-xs text-gray-500 select-none",children:ee.exists?ee.sizeText:"ç‚¹å‡»ä¸‹æ–¹ä¸Šä¼ å›¾ç‰‡"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",onChange:Ss,className:"hidden",id:"wallpaper-upload",disabled:z}),e.jsx("div",{className:`flex-1 relative ${z?"cursor-not-allowed":"cursor-pointer"}`,onDrop:$s,onDragOver:Cs,onDragEnter:Es,onDragLeave:Is,children:e.jsx("label",{htmlFor:"wallpaper-upload",className:`flex items-center justify-center gap-2 px-4 py-3 text-sm font-medium rounded-lg border-2 border-dashed transition-all w-full ${z?"border-gray-300 bg-gray-100 text-gray-400 cursor-not-allowed":Le?"border-pink-500 bg-pink-100 text-pink-700":Me?"border-pink-400 bg-pink-50 text-pink-600 animate-pulse":"border-pink-300 bg-white text-pink-600 hover:border-pink-400 hover:bg-pink-50"}`,children:z?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa-solid fa-spinner fa-spin"}),e.jsx("span",{children:"ä¸Šä¼ ä¸­..."})]}):Le?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa-solid fa-hand-point-down text-lg"}),e.jsx("span",{children:"æ‹–åŠ¨åˆ°æ­¤å¤„ä¸Šä¼ "})]}):Me?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa-solid fa-download text-lg"}),e.jsx("span",{children:"æ‹–åŠ¨åˆ°æ­¤å¤„ä¸Šä¼ å£çº¸"})]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa-solid fa-cloud-upload-alt"}),e.jsx("span",{children:"ç‚¹å‡»æˆ–æ‹–æ‹½ä¸Šä¼ å£çº¸"})]})})})]}),se.length>0&&e.jsxs("button",{onClick:()=>Ce(!0),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-pink-500 to-rose-600 hover:from-pink-600 hover:to-rose-700 text-white text-sm font-medium rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl hover:scale-[1.02]",children:[e.jsx("i",{className:"fa-solid fa-images"}),e.jsxs("span",{children:["ç®¡ç†å£çº¸åº“ (",se.length,")"]})]})]})})]})]}),e.jsxs("div",{className:"space-y-5 select-none settings-section",children:[e.jsxs("div",{className:"flex items-center gap-3 select-none",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-cyan-500 to-teal-600 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"fa-solid fa-layer-group text-white text-xs"})}),e.jsx("h3",{className:"text-base font-semibold text-gray-800 select-none",children:"å¡ç‰‡ç®¡ç†"}),e.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-gray-200 to-transparent"})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-gray-200 shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-cyan-500 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"fa-solid fa-layer-group text-white text-sm"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-800 select-none",children:"å¡ç‰‡æ”¶è—"}),e.jsxs("div",{className:"text-xs text-gray-500 select-none",children:["å½“å‰æœ‰ ",l.length," ä¸ªå¡ç‰‡"]})]})]})}),e.jsxs("button",{onClick:()=>g(!0),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-gradient-to-b from-cyan-500 to-teal-600 hover:from-cyan-600 hover:to-teal-700 text-white text-sm font-medium rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl hover:scale-[1.02] select-none",children:[e.jsx("i",{className:"fa-solid fa-plus select-none"}),e.jsx("span",{className:"select-none",children:"æ·»åŠ æ–°å¡ç‰‡"})]})]})]}),e.jsxs("div",{className:"space-y-5 select-none settings-section",children:[e.jsxs("div",{className:"flex items-center gap-3 select-none",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-orange-500 to-amber-600 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"fa-solid fa-database text-white text-xs"})}),e.jsx("h3",{className:"text-base font-semibold text-gray-800 select-none",children:"æ•°æ®ç®¡ç†"}),e.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-gray-200 to-transparent"})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-gray-200 shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"fa-solid fa-database text-white text-sm"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-800 select-none",children:"å¤‡ä»½ä¸æ¢å¤"}),e.jsx("div",{className:"text-xs text-gray-500 select-none",children:"å¯¼å‡ºæˆ–å¯¼å…¥æ‚¨çš„æ•°æ®"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 select-none",children:[e.jsx("button",{onClick:Ls,disabled:Ie,className:`flex items-center justify-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 select-none ${Ie?"bg-gray-400 cursor-not-allowed text-white shadow-lg shadow-gray-400/30":"bg-gradient-to-b from-orange-500 to-amber-600 hover:from-orange-600 hover:to-amber-700 text-white shadow-lg shadow-orange-500/30 hover:shadow-xl hover:shadow-orange-600/40 hover:scale-[1.02]"}`,children:Ie?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa-solid fa-spinner fa-spin select-none"}),e.jsx("span",{className:"select-none",children:"å¯¼å‡ºä¸­"})]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa-solid fa-download select-none"}),e.jsx("span",{className:"select-none",children:"å¯¼å‡ºæ•°æ®"})]})}),e.jsx("button",{onClick:()=>{var s;return(s=U.current)==null?void 0:s.click()},disabled:xe,className:`flex items-center justify-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 select-none ${xe?"bg-gray-400 cursor-not-allowed text-white shadow-lg shadow-gray-400/30":"bg-gradient-to-b from-orange-500 to-amber-600 hover:from-orange-600 hover:to-amber-700 text-white shadow-lg shadow-orange-500/30 hover:shadow-xl hover:shadow-orange-600/40 hover:scale-[1.02]"}`,children:xe?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa-solid fa-spinner fa-spin select-none"}),e.jsx("span",{className:"select-none",children:"å¯¼å…¥ä¸­"})]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa-solid fa-upload select-none"}),e.jsx("span",{className:"select-none",children:"å¯¼å…¥æ•°æ®"})]})})]}),e.jsx("input",{ref:U,type:"file",accept:".json",onChange:Ms,className:"hidden"}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 select-none",children:e.jsxs("div",{className:"flex items-start gap-2 select-none",children:[e.jsx("i",{className:"fa-solid fa-exclamation-triangle text-amber-500 text-sm mt-0.5 select-none"}),e.jsxs("div",{className:"select-none",children:[e.jsx("div",{className:"text-xs font-medium text-amber-700 mb-1 select-none",children:"é‡è¦æé†’"}),e.jsx("div",{className:"text-xs text-amber-600 select-none",children:"å¯¼å…¥ä¼šè¦†ç›–æ‰€æœ‰å½“å‰æ•°æ®ï¼Œå»ºè®®å…ˆå¯¼å‡ºå¤‡ä»½"})]})]})})]})]}),e.jsxs("div",{className:"space-y-5 select-none settings-section",children:[e.jsxs("div",{className:"flex items-center gap-3 select-none",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"fa-solid fa-shield-halved text-white text-xs"})}),e.jsx("h3",{className:"text-base font-semibold text-gray-800 select-none",children:"éšç§ä¸å¸®åŠ©"}),e.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-gray-200 to-transparent"})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-gray-200 shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"fa-solid fa-shield-halved text-white text-sm"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-800 select-none",children:"éšç§ä¸å¸®åŠ©"}),e.jsx("div",{className:"text-xs text-gray-500 select-none",children:"ç®¡ç†éšç§è®¾ç½®å’ŒæŸ¥çœ‹ä½¿ç”¨æ•™ç¨‹"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("button",{onClick:()=>N(!0),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-gradient-to-b from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white text-sm font-medium rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl hover:scale-[1.02] select-none",children:[e.jsx("i",{className:"fa-solid fa-shield-halved select-none"}),e.jsx("span",{className:"select-none",children:"éšç§è®¾ç½®"})]}),e.jsxs("a",{href:"/tutorial.html",target:"_blank",rel:"noopener noreferrer",className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-gradient-to-b from-gray-100 to-gray-200 hover:from-gray-200 hover:to-gray-300 text-gray-700 text-sm font-medium rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl hover:scale-[1.02] select-none",style:{textDecoration:"none"},children:[e.jsx("i",{className:"fa-solid fa-graduation-cap select-none"}),e.jsx("span",{className:"select-none",children:"ä½¿ç”¨æ•™ç¨‹"}),e.jsx("i",{className:"fa-solid fa-external-link-alt text-xs opacity-70 select-none"})]})]}),e.jsx("div",{className:"pt-3 border-t border-gray-100",children:e.jsxs("div",{className:"text-center space-y-2",children:[e.jsxs("p",{className:"text-xs text-gray-500 select-none",children:["å›¾æ ‡æ˜¾ç¤ºä¸æ­£ç¡®ï¼Ÿ",e.jsx("button",{onClick:As,disabled:c,className:"text-purple-500 hover:text-purple-600 underline ml-1 disabled:text-gray-400 disabled:no-underline",children:"ç‚¹å‡»ä¿®å¤"})]}),L&&e.jsxs("div",{className:`text-xs px-3 py-2 rounded-lg ${L.includes("âœ…")?"text-green-700 bg-green-50 border border-green-200":L.includes("âŒ")?"text-red-700 bg-red-50 border border-red-200":"text-blue-700 bg-blue-50 border border-blue-200"}`,children:[c&&!L.includes("âœ…")&&!L.includes("âŒ")&&e.jsx("i",{className:"fa-solid fa-spinner fa-spin mr-1"}),L]})]})})]})]})]})]}),a&&e.jsx(Zs,{id:`new-${Date.now()}`,name:"",url:"",favicon:"",tags:[],note:"",onClose:()=>g(!1),onSave:Ws}),w&&e.jsx(Xs,{isOpen:w,onClose:()=>N(!1)}),e.jsx(lt,{isOpen:f,onClose:()=>{m(!1),p(null)},onConfirm:Bs,title:"ç¡®è®¤å¯¼å…¥æ•°æ®",message:`âš ï¸ å¯¼å…¥æ•°æ®å‰è¯·æ³¨æ„ï¼š\r
\r
â€¢ å¯¼å…¥ä¼šå®Œå…¨è¦†ç›–å½“å‰æ‰€æœ‰æ•°æ®\r
â€¢ åŒ…æ‹¬æ‰€æœ‰ç½‘ç«™å¡ç‰‡ã€é€æ˜åº¦è®¾ç½®ã€ä¸»é¢˜ç­‰\r
â€¢ å»ºè®®å…ˆå¯¼å‡ºå½“å‰æ•°æ®ä½œä¸ºå¤‡ä»½\r
\r
ç¡®å®šè¦ç»§ç»­å¯¼å…¥å—ï¼Ÿ`,confirmText:"ç¡®å®šå¯¼å…¥",cancelText:"å–æ¶ˆ",type:"warning"}),us&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center",children:[e.jsx(F.div,{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>Ce(!1)}),e.jsxs(F.div,{className:"relative bg-white rounded-2xl shadow-2xl max-w-4xl w-full mx-4 max-h-[80vh] flex flex-col",initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:400},children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-pink-500 to-rose-600 rounded-xl flex items-center justify-center",children:e.jsx("i",{className:"fa-solid fa-images text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"å£çº¸ç®¡ç†"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["å…± ",se.length," å¼ å£çº¸"]})]})]}),e.jsx("button",{onClick:()=>Ce(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx("i",{className:"fa-solid fa-xmark text-xl"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:se.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[e.jsx("i",{className:"fa-solid fa-image text-6xl mb-4"}),e.jsx("p",{className:"text-lg",children:"æš‚æ— å£çº¸"})]}):e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:se.map(s=>e.jsxs(F.div,{className:`relative group rounded-xl overflow-hidden border-2 transition-all duration-200 ${s.isActive?"border-pink-500 shadow-lg shadow-pink-200":"border-gray-200 hover:border-gray-300"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsxs("div",{className:"aspect-video bg-gray-100 relative",children:[e.jsx("img",{src:s.thumbnailUrl,alt:s.metadata.name,className:"w-full h-full object-cover"}),s.isActive&&e.jsxs("div",{className:"absolute top-2 right-2 bg-pink-500 text-white text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[e.jsx("i",{className:"fa-solid fa-check"}),e.jsx("span",{children:"ä½¿ç”¨ä¸­"})]}),e.jsxs("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-200 flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100",children:[e.jsx("button",{onClick:()=>Os(s),className:"w-10 h-10 bg-white rounded-full flex items-center justify-center text-gray-700 hover:bg-gray-100 transition-colors",title:"é¢„è§ˆ",children:e.jsx("i",{className:"fa-solid fa-eye"})}),!s.isActive&&e.jsx("button",{onClick:()=>rs(s.metadata.id),className:"w-10 h-10 bg-pink-500 rounded-full flex items-center justify-center text-white hover:bg-pink-600 transition-colors",title:"ä½¿ç”¨æ­¤å£çº¸",children:e.jsx("i",{className:"fa-solid fa-check"})}),e.jsx("button",{onClick:()=>ls(s.metadata.id),className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white hover:bg-blue-600 transition-colors",title:"ä¸‹è½½",children:e.jsx("i",{className:"fa-solid fa-download"})}),e.jsx("button",{onClick:()=>Ds(s.metadata.id),className:"w-10 h-10 bg-red-500 rounded-full flex items-center justify-center text-white hover:bg-red-600 transition-colors",title:"åˆ é™¤",children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]}),e.jsxs("div",{className:"p-3 bg-white",children:[e.jsx("div",{className:"text-sm font-medium text-gray-800 truncate",children:s.metadata.name}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[s.metadata.width," Ã— ",s.metadata.height]}),e.jsxs("div",{className:"text-xs text-gray-400",children:[(s.metadata.size/1024/1024).toFixed(2)," MB"]})]})]},s.metadata.id))})})]})]}),hs&&e.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center",children:[e.jsx(F.div,{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>{te(!1),Ee(null)}}),e.jsxs(F.div,{className:"relative max-w-6xl max-h-[90vh] mx-4",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",damping:25,stiffness:400},children:[e.jsx("button",{onClick:()=>{te(!1),Ee(null)},className:"absolute -top-12 right-0 text-white hover:text-gray-300 transition-colors",children:e.jsx("i",{className:"fa-solid fa-xmark text-3xl"})}),gs?e.jsx("div",{className:"flex items-center justify-center w-96 h-64 bg-gray-800 rounded-xl",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx("i",{className:"fa-solid fa-spinner fa-spin text-4xl mb-4"}),e.jsx("p",{className:"text-lg",children:"æ­£åœ¨åŠ è½½åŸå›¾..."})]})}):A?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:A.fullImageUrl,alt:A.metadata.name,className:"max-w-full max-h-[80vh] rounded-xl shadow-2xl"}),e.jsxs("div",{className:"mt-4 bg-white/90 backdrop-blur-sm rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-800",children:A.metadata.name}),e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[A.metadata.width," Ã— ",A.metadata.height," â€¢"," ",(A.metadata.size/1024/1024).toFixed(2)," MB"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>rs(A.metadata.id),className:"px-4 py-2 bg-pink-500 hover:bg-pink-600 text-white text-sm rounded-lg transition-colors flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-check"}),e.jsx("span",{children:"ä½¿ç”¨æ­¤å£çº¸"})]}),e.jsxs("button",{onClick:()=>ls(A.metadata.id),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white text-sm rounded-lg transition-colors flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-download"}),e.jsx("span",{children:"ä¸‹è½½"})]})]})]})]}):null]})]})]})}const gt=t.memo(ct);export{gt as default};
