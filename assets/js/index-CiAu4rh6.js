const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/Settings-bM1jh4-0.js","assets/js/ui-vendor-ZFeOVBt2.js","assets/js/router-vendor-C8QFrNcQ.js","assets/js/react-vendor-DKqf9w2B.js","assets/js/WorkspaceModal-CoXJXK2T.js"])))=>i.map(i=>d[i]);
var Gu=Object.defineProperty,Vu=Object.defineProperties;var Yu=Object.getOwnPropertyDescriptors;var ds=Object.getOwnPropertySymbols;var yi=Object.prototype.hasOwnProperty,bi=Object.prototype.propertyIsEnumerable;var fs=Math.pow,_n=(n,e,t)=>e in n?Gu(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,C=(n,e)=>{for(var t in e||(e={}))yi.call(e,t)&&_n(n,t,e[t]);if(ds)for(var t of ds(e))bi.call(e,t)&&_n(n,t,e[t]);return n},ee=(n,e)=>Vu(n,Yu(e));var xi=(n,e)=>{var t={};for(var r in n)yi.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&ds)for(var r of ds(n))e.indexOf(r)<0&&bi.call(n,r)&&(t[r]=n[r]);return t};var ce=(n,e,t)=>_n(n,typeof e!="symbol"?e+"":e,t);var x=(n,e,t)=>new Promise((r,s)=>{var a=l=>{try{o(t.next(l))}catch(u){s(u)}},i=l=>{try{o(t.throw(l))}catch(u){s(u)}},o=l=>l.done?r(l.value):Promise.resolve(l.value).then(a,i);o((t=t.apply(n,e)).next())});import{j as f,m as Se,u as Ju,a as Xu,A as nr,D as Qu,H as ed}from"./ui-vendor-ZFeOVBt2.js";import{R as Q,a as td,r as A,u as rd,b as sd,c as wi,B as ad}from"./router-vendor-C8QFrNcQ.js";import{a as nd,b as id,g as od}from"./react-vendor-DKqf9w2B.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();var hs={},_i;function ld(){if(_i)return hs;_i=1;var n=nd();return hs.createRoot=n.createRoot,hs.hydrateRoot=n.hydrateRoot,hs}var Si=ld();function cd(n){if(typeof document=="undefined")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const ud=n=>{switch(n){case"success":return hd;case"info":return gd;case"warning":return pd;case"error":return md;default:return null}},dd=Array(12).fill(0),fd=({visible:n,className:e})=>Q.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},Q.createElement("div",{className:"sonner-spinner"},dd.map((t,r)=>Q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),hd=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),pd=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),gd=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),md=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),vd=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),yd=()=>{const[n,e]=Q.useState(document.hidden);return Q.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let jn=1;class bd{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const l=e,{message:r}=l,s=xi(l,["message"]),a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:jn++,i=this.toasts.find(u=>u.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(u=>u.id===a?(this.publish(ee(C(C({},u),e),{id:a,title:r})),ee(C(C({},u),e),{id:a,dismissible:o,title:r})):u):this.addToast(ee(C({title:r},s),{dismissible:o,id:a})),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create(ee(C({},t),{message:e})),this.error=(e,t)=>this.create(ee(C({},t),{message:e,type:"error"})),this.success=(e,t)=>this.create(ee(C({},t),{type:"success",message:e})),this.info=(e,t)=>this.create(ee(C({},t),{type:"info",message:e})),this.warning=(e,t)=>this.create(ee(C({},t),{type:"warning",message:e})),this.loading=(e,t)=>this.create(ee(C({},t),{type:"loading",message:e})),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create(ee(C({},t),{promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0})));const s=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,i;const o=s.then(u=>x(this,null,function*(){if(i=["resolve",u],Q.isValidElement(u))a=!1,this.create({id:r,type:"default",message:u});else if(wd(u)&&!u.ok){a=!1;const c=typeof t.error=="function"?yield t.error(`HTTP error! status: ${u.status}`):t.error,h=typeof t.description=="function"?yield t.description(`HTTP error! status: ${u.status}`):t.description,b=typeof c=="object"&&!Q.isValidElement(c)?c:{message:c};this.create(C({id:r,type:"error",description:h},b))}else if(u instanceof Error){a=!1;const c=typeof t.error=="function"?yield t.error(u):t.error,h=typeof t.description=="function"?yield t.description(u):t.description,b=typeof c=="object"&&!Q.isValidElement(c)?c:{message:c};this.create(C({id:r,type:"error",description:h},b))}else if(t.success!==void 0){a=!1;const c=typeof t.success=="function"?yield t.success(u):t.success,h=typeof t.description=="function"?yield t.description(u):t.description,b=typeof c=="object"&&!Q.isValidElement(c)?c:{message:c};this.create(C({id:r,type:"success",description:h},b))}})).catch(u=>x(this,null,function*(){if(i=["reject",u],t.error!==void 0){a=!1;const d=typeof t.error=="function"?yield t.error(u):t.error,c=typeof t.description=="function"?yield t.description(u):t.description,m=typeof d=="object"&&!Q.isValidElement(d)?d:{message:d};this.create(C({id:r,type:"error",description:c},m))}})).finally(()=>{a&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),l=()=>new Promise((u,d)=>o.then(()=>i[0]==="reject"?d(i[1]):u(i[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{const r=(t==null?void 0:t.id)||jn++;return this.create(C({jsx:e(r),id:r},t)),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const at=new bd,xd=(n,e)=>{const t=(e==null?void 0:e.id)||jn++;return at.addToast(ee(C({title:n},e),{id:t})),t},wd=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",_d=xd,Sd=()=>at.toasts,Ad=()=>at.getActiveToasts();Object.assign(_d,{success:at.success,info:at.info,warning:at.warning,error:at.error,custom:at.custom,message:at.message,promise:at.promise,dismiss:at.dismiss,loading:at.loading},{getHistory:Sd,getToasts:Ad});cd("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function ps(n){return n.label!==void 0}const Id=3,Ed="24px",Cd="16px",Ai=4e3,kd=356,Rd=14,$d=45,Td=200;function vt(...n){return n.filter(Boolean).join(" ")}function jd(n){const[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const Nd=n=>{var e,t,r,s,a,i,o,l,u;const{invert:d,toast:c,unstyled:h,interacting:m,setHeights:b,visibleToasts:g,heights:p,index:y,toasts:I,expanded:v,removeToast:_,defaultRichColors:R,closeButton:$,style:O,cancelButtonStyle:N,actionButtonStyle:k,className:T="",descriptionClassName:q="",duration:W,position:M,gap:ue,expandByDefault:oe,classNames:te,icons:ye,closeButtonAriaLabel:me="Close toast"}=n,[Ae,Ce]=Q.useState(null),[L,Y]=Q.useState(null),[Z,ge]=Q.useState(!1),[Ne,be]=Q.useState(!1),[ze,re]=Q.useState(!1),[Pe,Xe]=Q.useState(!1),[pt,Ze]=Q.useState(!1),[He,Me]=Q.useState(0),[ut,gt]=Q.useState(0),w=Q.useRef(c.duration||W||Ai),S=Q.useRef(null),P=Q.useRef(null),G=y===0,H=y+1<=g,U=c.type,pe=c.dismissible!==!1,ve=c.className||"",Ie=c.descriptionClassName||"",E=Q.useMemo(()=>p.findIndex(xe=>xe.toastId===c.id)||0,[p,c.id]),B=Q.useMemo(()=>{var xe;return(xe=c.closeButton)!=null?xe:$},[c.closeButton,$]),X=Q.useMemo(()=>c.duration||W||Ai,[c.duration,W]),F=Q.useRef(0),j=Q.useRef(0),V=Q.useRef(0),se=Q.useRef(null),[le,fe]=M.split("-"),ne=Q.useMemo(()=>p.reduce((xe,Le,Be)=>Be>=E?xe:xe+Le.height,0),[p,E]),ie=yd(),Oe=c.invert||d,mt=U==="loading";j.current=Q.useMemo(()=>E*ue+ne,[E,ne]),Q.useEffect(()=>{w.current=X},[X]),Q.useEffect(()=>{ge(!0)},[]),Q.useEffect(()=>{const xe=P.current;if(xe){const Le=xe.getBoundingClientRect().height;return gt(Le),b(Be=>[{toastId:c.id,height:Le,position:c.position},...Be]),()=>b(Be=>Be.filter(Ve=>Ve.toastId!==c.id))}},[b,c.id]),Q.useLayoutEffect(()=>{if(!Z)return;const xe=P.current,Le=xe.style.height;xe.style.height="auto";const Be=xe.getBoundingClientRect().height;xe.style.height=Le,gt(Be),b(Ve=>Ve.find(Ue=>Ue.toastId===c.id)?Ve.map(Ue=>Ue.toastId===c.id?ee(C({},Ue),{height:Be}):Ue):[{toastId:c.id,height:Be,position:c.position},...Ve])},[Z,c.title,c.description,b,c.id,c.jsx,c.action,c.cancel]);const et=Q.useCallback(()=>{be(!0),Me(j.current),b(xe=>xe.filter(Le=>Le.toastId!==c.id)),setTimeout(()=>{_(c)},Td)},[c,_,b,j]);Q.useEffect(()=>{if(c.promise&&U==="loading"||c.duration===1/0||c.type==="loading")return;let xe;return v||m||ie?(()=>{if(V.current<F.current){const Ve=new Date().getTime()-F.current;w.current=w.current-Ve}V.current=new Date().getTime()})():(()=>{w.current!==1/0&&(F.current=new Date().getTime(),xe=setTimeout(()=>{c.onAutoClose==null||c.onAutoClose.call(c,c),et()},w.current))})(),()=>clearTimeout(xe)},[v,m,c,U,ie,et]),Q.useEffect(()=>{c.delete&&(et(),c.onDismiss==null||c.onDismiss.call(c,c))},[et,c.delete]);function Wt(){var xe;if(ye!=null&&ye.loading){var Le;return Q.createElement("div",{className:vt(te==null?void 0:te.loader,c==null||(Le=c.classNames)==null?void 0:Le.loader,"sonner-loader"),"data-visible":U==="loading"},ye.loading)}return Q.createElement(fd,{className:vt(te==null?void 0:te.loader,c==null||(xe=c.classNames)==null?void 0:xe.loader),visible:U==="loading"})}const Gr=c.icon||(ye==null?void 0:ye[U])||ud(U);var Zt,Ht;return Q.createElement("li",{tabIndex:0,ref:P,className:vt(T,ve,te==null?void 0:te.toast,c==null||(e=c.classNames)==null?void 0:e.toast,te==null?void 0:te.default,te==null?void 0:te[U],c==null||(t=c.classNames)==null?void 0:t[U]),"data-sonner-toast":"","data-rich-colors":(Zt=c.richColors)!=null?Zt:R,"data-styled":!(c.jsx||c.unstyled||h),"data-mounted":Z,"data-promise":!!c.promise,"data-swiped":pt,"data-removed":Ne,"data-visible":H,"data-y-position":le,"data-x-position":fe,"data-index":y,"data-front":G,"data-swiping":ze,"data-dismissible":pe,"data-type":U,"data-invert":Oe,"data-swipe-out":Pe,"data-swipe-direction":L,"data-expanded":!!(v||oe&&Z),style:C(C({"--index":y,"--toasts-before":y,"--z-index":I.length-y,"--offset":`${Ne?He:j.current}px`,"--initial-height":oe?"auto":`${ut}px`},O),c.style),onDragEnd:()=>{re(!1),Ce(null),se.current=null},onPointerDown:xe=>{mt||!pe||(S.current=new Date,Me(j.current),xe.target.setPointerCapture(xe.pointerId),xe.target.tagName!=="BUTTON"&&(re(!0),se.current={x:xe.clientX,y:xe.clientY}))},onPointerUp:()=>{var xe,Le,Be;if(Pe||!pe)return;se.current=null;const Ve=Number(((xe=P.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),bt=Number(((Le=P.current)==null?void 0:Le.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ue=new Date().getTime()-((Be=S.current)==null?void 0:Be.getTime()),Ye=Ae==="x"?Ve:bt,ur=Math.abs(Ye)/Ue;if(Math.abs(Ye)>=$d||ur>.11){Me(j.current),c.onDismiss==null||c.onDismiss.call(c,c),Y(Ae==="x"?Ve>0?"right":"left":bt>0?"down":"up"),et(),Xe(!0);return}else{var it,ot;(it=P.current)==null||it.style.setProperty("--swipe-amount-x","0px"),(ot=P.current)==null||ot.style.setProperty("--swipe-amount-y","0px")}Ze(!1),re(!1),Ce(null)},onPointerMove:xe=>{var Le,Be,Ve;if(!se.current||!pe||((Le=window.getSelection())==null?void 0:Le.toString().length)>0)return;const Ue=xe.clientY-se.current.y,Ye=xe.clientX-se.current.x;var ur;const it=(ur=n.swipeDirections)!=null?ur:jd(M);!Ae&&(Math.abs(Ye)>1||Math.abs(Ue)>1)&&Ce(Math.abs(Ye)>Math.abs(Ue)?"x":"y");let ot={x:0,y:0};const Vr=xt=>1/(1.5+Math.abs(xt)/20);if(Ae==="y"){if(it.includes("top")||it.includes("bottom"))if(it.includes("top")&&Ue<0||it.includes("bottom")&&Ue>0)ot.y=Ue;else{const xt=Ue*Vr(Ue);ot.y=Math.abs(xt)<Math.abs(Ue)?xt:Ue}}else if(Ae==="x"&&(it.includes("left")||it.includes("right")))if(it.includes("left")&&Ye<0||it.includes("right")&&Ye>0)ot.x=Ye;else{const xt=Ye*Vr(Ye);ot.x=Math.abs(xt)<Math.abs(Ye)?xt:Ye}(Math.abs(ot.x)>0||Math.abs(ot.y)>0)&&Ze(!0),(Be=P.current)==null||Be.style.setProperty("--swipe-amount-x",`${ot.x}px`),(Ve=P.current)==null||Ve.style.setProperty("--swipe-amount-y",`${ot.y}px`)}},B&&!c.jsx&&U!=="loading"?Q.createElement("button",{"aria-label":me,"data-disabled":mt,"data-close-button":!0,onClick:mt||!pe?()=>{}:()=>{et(),c.onDismiss==null||c.onDismiss.call(c,c)},className:vt(te==null?void 0:te.closeButton,c==null||(r=c.classNames)==null?void 0:r.closeButton)},(Ht=ye==null?void 0:ye.close)!=null?Ht:vd):null,(U||c.icon||c.promise)&&c.icon!==null&&((ye==null?void 0:ye[U])!==null||c.icon)?Q.createElement("div",{"data-icon":"",className:vt(te==null?void 0:te.icon,c==null||(s=c.classNames)==null?void 0:s.icon)},c.promise||c.type==="loading"&&!c.icon?c.icon||Wt():null,c.type!=="loading"?Gr:null):null,Q.createElement("div",{"data-content":"",className:vt(te==null?void 0:te.content,c==null||(a=c.classNames)==null?void 0:a.content)},Q.createElement("div",{"data-title":"",className:vt(te==null?void 0:te.title,c==null||(i=c.classNames)==null?void 0:i.title)},c.jsx?c.jsx:typeof c.title=="function"?c.title():c.title),c.description?Q.createElement("div",{"data-description":"",className:vt(q,Ie,te==null?void 0:te.description,c==null||(o=c.classNames)==null?void 0:o.description)},typeof c.description=="function"?c.description():c.description):null),Q.isValidElement(c.cancel)?c.cancel:c.cancel&&ps(c.cancel)?Q.createElement("button",{"data-button":!0,"data-cancel":!0,style:c.cancelButtonStyle||N,onClick:xe=>{ps(c.cancel)&&pe&&(c.cancel.onClick==null||c.cancel.onClick.call(c.cancel,xe),et())},className:vt(te==null?void 0:te.cancelButton,c==null||(l=c.classNames)==null?void 0:l.cancelButton)},c.cancel.label):null,Q.isValidElement(c.action)?c.action:c.action&&ps(c.action)?Q.createElement("button",{"data-button":!0,"data-action":!0,style:c.actionButtonStyle||k,onClick:xe=>{ps(c.action)&&(c.action.onClick==null||c.action.onClick.call(c.action,xe),!xe.defaultPrevented&&et())},className:vt(te==null?void 0:te.actionButton,c==null||(u=c.classNames)==null?void 0:u.actionButton)},c.action.label):null)};function Ii(){if(typeof window=="undefined"||typeof document=="undefined")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function Pd(n,e){const t={};return[n,e].forEach((r,s)=>{const a=s===1,i=a?"--mobile-offset":"--offset",o=a?Cd:Ed;function l(u){["top","right","bottom","left"].forEach(d=>{t[`${i}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?t[`${i}-${u}`]=o:t[`${i}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(o)}),t}const Od=Q.forwardRef(function(e,t){const{invert:r,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:u,mobileOffset:d,theme:c="light",richColors:h,duration:m,style:b,visibleToasts:g=Id,toastOptions:p,dir:y=Ii(),gap:I=Rd,icons:v,containerAriaLabel:_="Notifications"}=e,[R,$]=Q.useState([]),O=Q.useMemo(()=>Array.from(new Set([s].concat(R.filter(L=>L.position).map(L=>L.position)))),[R,s]),[N,k]=Q.useState([]),[T,q]=Q.useState(!1),[W,M]=Q.useState(!1),[ue,oe]=Q.useState(c!=="system"?c:typeof window!="undefined"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=Q.useRef(null),ye=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),me=Q.useRef(null),Ae=Q.useRef(!1),Ce=Q.useCallback(L=>{$(Y=>{var Z;return(Z=Y.find(ge=>ge.id===L.id))!=null&&Z.delete||at.dismiss(L.id),Y.filter(({id:ge})=>ge!==L.id)})},[]);return Q.useEffect(()=>at.subscribe(L=>{if(L.dismiss){requestAnimationFrame(()=>{$(Y=>Y.map(Z=>Z.id===L.id?ee(C({},Z),{delete:!0}):Z))});return}setTimeout(()=>{td.flushSync(()=>{$(Y=>{const Z=Y.findIndex(ge=>ge.id===L.id);return Z!==-1?[...Y.slice(0,Z),C(C({},Y[Z]),L),...Y.slice(Z+1)]:[L,...Y]})})})}),[R]),Q.useEffect(()=>{if(c!=="system"){oe(c);return}if(c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?oe("dark"):oe("light")),typeof window=="undefined")return;const L=window.matchMedia("(prefers-color-scheme: dark)");try{L.addEventListener("change",({matches:Y})=>{oe(Y?"dark":"light")})}catch(Y){L.addListener(({matches:Z})=>{try{oe(Z?"dark":"light")}catch(ge){console.error(ge)}})}},[c]),Q.useEffect(()=>{R.length<=1&&q(!1)},[R]),Q.useEffect(()=>{const L=Y=>{var Z;if(a.every(be=>Y[be]||Y.code===be)){var Ne;q(!0),(Ne=te.current)==null||Ne.focus()}Y.code==="Escape"&&(document.activeElement===te.current||(Z=te.current)!=null&&Z.contains(document.activeElement))&&q(!1)};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[a]),Q.useEffect(()=>{if(te.current)return()=>{me.current&&(me.current.focus({preventScroll:!0}),me.current=null,Ae.current=!1)}},[te.current]),Q.createElement("section",{ref:t,"aria-label":`${_} ${ye}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((L,Y)=>{var Z;const[ge,Ne]=L.split("-");return R.length?Q.createElement("ol",{key:L,dir:y==="auto"?Ii():y,tabIndex:-1,ref:te,className:l,"data-sonner-toaster":!0,"data-sonner-theme":ue,"data-y-position":ge,"data-x-position":Ne,style:C(C({"--front-toast-height":`${((Z=N[0])==null?void 0:Z.height)||0}px`,"--width":`${kd}px`,"--gap":`${I}px`},b),Pd(u,d)),onBlur:be=>{Ae.current&&!be.currentTarget.contains(be.relatedTarget)&&(Ae.current=!1,me.current&&(me.current.focus({preventScroll:!0}),me.current=null))},onFocus:be=>{be.target instanceof HTMLElement&&be.target.dataset.dismissible==="false"||Ae.current||(Ae.current=!0,me.current=be.relatedTarget)},onMouseEnter:()=>q(!0),onMouseMove:()=>q(!0),onMouseLeave:()=>{W||q(!1)},onDragEnd:()=>q(!1),onPointerDown:be=>{be.target instanceof HTMLElement&&be.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},R.filter(be=>!be.position&&Y===0||be.position===L).map((be,ze)=>{var re,Pe;return Q.createElement(Nd,{key:be.id,icons:v,index:ze,toast:be,defaultRichColors:h,duration:(re=p==null?void 0:p.duration)!=null?re:m,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:g,closeButton:(Pe=p==null?void 0:p.closeButton)!=null?Pe:o,interacting:W,position:L,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,closeButtonAriaLabel:p==null?void 0:p.closeButtonAriaLabel,removeToast:Ce,toasts:R.filter(Xe=>Xe.position==be.position),heights:N.filter(Xe=>Xe.position==be.position),setHeights:k,expandByDefault:i,gap:I,expanded:T,swipeDirections:e.swipeDirections})})):null}))}),Ei=(n,e,t,r)=>{n.style.transition=`${e} ${t}ms ${r}`},At=(n,e,t)=>Math.min(Math.max(n,e),t);class Dd{constructor(e,t){this.glareAngle=0,this.glareOpacity=0,this.calculateGlareSize=i=>{const{width:o,height:l}=i,u=Math.sqrt(fs(o,2)+fs(l,2));return{width:u,height:u}},this.setSize=i=>{const o=this.calculateGlareSize(i);this.glareEl.style.width=`${o.width}px`,this.glareEl.style.height=`${o.height}px`},this.update=(i,o,l,u)=>{this.updateAngle(i,o.glareReverse),this.updateOpacity(i,o,l,u)},this.updateAngle=(i,o)=>{const{xPercentage:l,yPercentage:u}=i,d=180/Math.PI,c=l?Math.atan2(u,-l)*d:0;this.glareAngle=c-(o?180:0)},this.updateOpacity=(i,o,l,u)=>{const{xPercentage:d,yPercentage:c}=i,{glarePosition:h,glareReverse:m,glareMaxOpacity:b}=o,g=l?-1:1,p=u?-1:1,y=m?-1:1;let I=0;switch(h){case"top":I=-d*g*y;break;case"right":I=c*p*y;break;case"bottom":case void 0:I=d*g*y;break;case"left":I=-c*p*y;break;case"all":I=Math.hypot(d,c)}const v=At(I,0,100);this.glareOpacity=v*b/100},this.render=i=>{const{glareColor:o}=i;this.glareEl.style.transform=`rotate(${this.glareAngle}deg) translate(-50%, -50%)`,this.glareEl.style.opacity=this.glareOpacity.toString(),this.glareEl.style.background=`linear-gradient(0deg, rgba(255,255,255,0) 0%, ${o} 100%)`},this.glareWrapperEl=document.createElement("div"),this.glareEl=document.createElement("div"),this.glareWrapperEl.appendChild(this.glareEl),this.glareWrapperEl.className="glare-wrapper",this.glareEl.className="glare";const r={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden",borderRadius:t,WebkitMaskImage:"-webkit-radial-gradient(white, black)",pointerEvents:"none"},s=this.calculateGlareSize(e),a={position:"absolute",top:"50%",left:"50%",transformOrigin:"0% 0%",pointerEvents:"none",width:`${s.width}px`,height:`${s.height}px`};Object.assign(this.glareWrapperEl.style,r),Object.assign(this.glareEl.style,a)}}class Md{constructor(){this.tiltAngleX=0,this.tiltAngleY=0,this.tiltAngleXPercentage=0,this.tiltAngleYPercentage=0,this.update=(e,t)=>{this.updateTilt(e,t),this.updateTiltManualInput(e,t),this.updateTiltReverse(t),this.updateTiltLimits(t)},this.updateTilt=(e,t)=>{const{xPercentage:r,yPercentage:s}=e,{tiltMaxAngleX:a,tiltMaxAngleY:i}=t;this.tiltAngleX=r*a/100,this.tiltAngleY=s*i/100*-1},this.updateTiltManualInput=(e,t)=>{const{tiltAngleXManual:r,tiltAngleYManual:s,tiltMaxAngleX:a,tiltMaxAngleY:i}=t;(r!==null||s!==null)&&(this.tiltAngleX=r!==null?r:0,this.tiltAngleY=s!==null?s:0,e.xPercentage=100*this.tiltAngleX/a,e.yPercentage=100*this.tiltAngleY/i)},this.updateTiltReverse=e=>{const t=e.tiltReverse?-1:1;this.tiltAngleX=t*this.tiltAngleX,this.tiltAngleY=t*this.tiltAngleY},this.updateTiltLimits=e=>{const{tiltAxis:t}=e;this.tiltAngleX=At(this.tiltAngleX,-90,90),this.tiltAngleY=At(this.tiltAngleY,-90,90),t&&(this.tiltAngleX=t==="x"?this.tiltAngleX:0,this.tiltAngleY=t==="y"?this.tiltAngleY:0)},this.updateTiltAnglesPercentage=e=>{const{tiltMaxAngleX:t,tiltMaxAngleY:r}=e;this.tiltAngleXPercentage=this.tiltAngleX/t*100,this.tiltAngleYPercentage=this.tiltAngleY/r*100},this.render=e=>{e.style.transform+=`rotateX(${this.tiltAngleX}deg) rotateY(${this.tiltAngleY}deg) `}}}const Ld={scale:1,perspective:1e3,flipVertically:!1,flipHorizontally:!1,reset:!0,transitionEasing:"cubic-bezier(.03,.98,.52,.99)",transitionSpeed:400,trackOnWindow:!1,gyroscope:!1,tiltEnable:!0,tiltReverse:!1,tiltAngleXInitial:0,tiltAngleYInitial:0,tiltMaxAngleX:20,tiltMaxAngleY:20,tiltAxis:void 0,tiltAngleXManual:null,tiltAngleYManual:null,glareEnable:!1,glareMaxOpacity:.7,glareColor:"#ffffff",glarePosition:"bottom",glareReverse:!1,glareBorderRadius:"0"};class ai extends A.PureComponent{constructor(){super(...arguments),this.wrapperEl={node:null,size:{width:0,height:0,left:0,top:0},clientPosition:{x:null,y:null,xPercentage:0,yPercentage:0},updateAnimationId:null,scale:1},this.tilt=null,this.glare=null,this.addDeviceOrientationEventListener=()=>x(this,null,function*(){if(!window.DeviceOrientationEvent)return;const e=DeviceOrientationEvent.requestPermission;typeof e=="function"?(yield e())==="granted"&&window.addEventListener("deviceorientation",this.onMove):window.addEventListener("deviceorientation",this.onMove)}),this.setSize=()=>{this.setWrapperElSize(),this.glare&&this.glare.setSize(this.wrapperEl.size)},this.mainLoop=e=>{this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.processInput(e),this.update(e.type),this.wrapperEl.updateAnimationId=requestAnimationFrame(this.renderFrame)},this.onEnter=e=>{const{onEnter:t}=this.props;this.setSize(),this.wrapperEl.node.style.willChange="transform",this.setTransitions(),t&&t({event:e})},this.onMove=e=>{this.mainLoop(e),this.emitOnMove(e)},this.onLeave=e=>{const{onLeave:t}=this.props;if(this.setTransitions(),t&&t({event:e}),this.props.reset){const r=new CustomEvent("autoreset");this.onMove(r)}},this.processInput=e=>{const{scale:t}=this.props;switch(e.type){case"mousemove":this.wrapperEl.clientPosition.x=e.pageX,this.wrapperEl.clientPosition.y=e.pageY,this.wrapperEl.scale=t;break;case"touchmove":this.wrapperEl.clientPosition.x=e.touches[0].pageX,this.wrapperEl.clientPosition.y=e.touches[0].pageY,this.wrapperEl.scale=t;break;case"deviceorientation":this.processInputDeviceOrientation(e),this.wrapperEl.scale=t;break;case"autoreset":{const{tiltAngleXInitial:r,tiltAngleYInitial:s,tiltMaxAngleX:a,tiltMaxAngleY:i}=this.props,o=s/i*100;this.wrapperEl.clientPosition.xPercentage=At(r/a*100,-100,100),this.wrapperEl.clientPosition.yPercentage=At(o,-100,100),this.wrapperEl.scale=1;break}}},this.processInputDeviceOrientation=e=>{if(!e.gamma||!e.beta||!this.props.gyroscope)return;const{tiltMaxAngleX:t,tiltMaxAngleY:r}=this.props,s=e.gamma;this.wrapperEl.clientPosition.xPercentage=e.beta/t*100,this.wrapperEl.clientPosition.yPercentage=s/r*100,this.wrapperEl.clientPosition.xPercentage=At(this.wrapperEl.clientPosition.xPercentage,-100,100),this.wrapperEl.clientPosition.yPercentage=At(this.wrapperEl.clientPosition.yPercentage,-100,100)},this.update=e=>{const{tiltEnable:t,flipVertically:r,flipHorizontally:s}=this.props;e!=="autoreset"&&e!=="deviceorientation"&&e!=="propChange"&&this.updateClientInput(),t&&this.tilt.update(this.wrapperEl.clientPosition,this.props),this.updateFlip(),this.tilt.updateTiltAnglesPercentage(this.props),this.glare&&this.glare.update(this.wrapperEl.clientPosition,this.props,r,s)},this.updateClientInput=()=>{const{trackOnWindow:e}=this.props;let t,r;if(e){const{x:s,y:a}=this.wrapperEl.clientPosition;t=a/window.innerHeight*200-100,r=s/window.innerWidth*200-100}else{const{size:{width:s,height:a,left:i,top:o},clientPosition:{x:l,y:u}}=this.wrapperEl;t=(u-o)/a*200-100,r=(l-i)/s*200-100}this.wrapperEl.clientPosition.xPercentage=At(t,-100,100),this.wrapperEl.clientPosition.yPercentage=At(r,-100,100)},this.updateFlip=()=>{const{flipVertically:e,flipHorizontally:t}=this.props;e&&(this.tilt.tiltAngleX+=180,this.tilt.tiltAngleY*=-1),t&&(this.tilt.tiltAngleY+=180)},this.renderFrame=()=>{this.resetWrapperElTransform(),this.renderPerspective(),this.tilt.render(this.wrapperEl.node),this.renderScale(),this.glare&&this.glare.render(this.props)}}componentDidMount(){if(this.tilt=new Md,this.initGlare(),this.setSize(),this.addEventListeners(),typeof CustomEvent=="undefined")return;const e=new CustomEvent("autoreset");this.mainLoop(e);const t=new CustomEvent("initial");this.emitOnMove(t)}componentWillUnmount(){this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.removeEventListeners()}componentDidUpdate(){const e=new CustomEvent("propChange");this.mainLoop(e),this.emitOnMove(e)}addEventListeners(){const{trackOnWindow:e,gyroscope:t}=this.props;window.addEventListener("resize",this.setSize),e&&(window.addEventListener("mouseenter",this.onEnter),window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseout",this.onLeave),window.addEventListener("touchstart",this.onEnter),window.addEventListener("touchmove",this.onMove),window.addEventListener("touchend",this.onLeave)),t&&this.addDeviceOrientationEventListener()}removeEventListeners(){const{trackOnWindow:e,gyroscope:t}=this.props;window.removeEventListener("resize",this.setSize),e&&(window.removeEventListener("mouseenter",this.onEnter),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseout",this.onLeave),window.removeEventListener("touchstart",this.onEnter),window.removeEventListener("touchmove",this.onMove),window.removeEventListener("touchend",this.onLeave)),t&&window.DeviceOrientationEvent&&window.removeEventListener("deviceorientation",this.onMove)}setWrapperElSize(){const e=this.wrapperEl.node.getBoundingClientRect();this.wrapperEl.size.width=this.wrapperEl.node.offsetWidth,this.wrapperEl.size.height=this.wrapperEl.node.offsetHeight,this.wrapperEl.size.left=e.left+window.scrollX,this.wrapperEl.size.top=e.top+window.scrollY}initGlare(){const{glareEnable:e,glareBorderRadius:t}=this.props;e&&(this.glare=new Dd(this.wrapperEl.size,t),this.wrapperEl.node.appendChild(this.glare.glareWrapperEl))}emitOnMove(e){const{onMove:t}=this.props;if(!t)return;let r=0,s=0;this.glare&&(r=this.glare.glareAngle,s=this.glare.glareOpacity),t({tiltAngleX:this.tilt.tiltAngleX,tiltAngleY:this.tilt.tiltAngleY,tiltAngleXPercentage:this.tilt.tiltAngleXPercentage,tiltAngleYPercentage:this.tilt.tiltAngleYPercentage,glareAngle:r,glareOpacity:s,event:e})}resetWrapperElTransform(){this.wrapperEl.node.style.transform=""}renderPerspective(){const{perspective:e}=this.props;this.wrapperEl.node.style.transform+=`perspective(${e}px) `}renderScale(){const{scale:e}=this.wrapperEl;this.wrapperEl.node.style.transform+=`scale3d(${e},${e},${e})`}setTransitions(){const{transitionSpeed:e,transitionEasing:t}=this.props;Ei(this.wrapperEl.node,"all",e,t),this.glare&&Ei(this.glare.glareEl,"opacity",e,t)}render(){const{children:e,className:t,style:r}=this.props;return f.jsx("div",{ref:s=>{this.wrapperEl.node=s},onMouseEnter:this.onEnter,onMouseMove:this.onMove,onMouseLeave:this.onLeave,onTouchStart:this.onEnter,onTouchMove:this.onMove,onTouchEnd:this.onLeave,className:t,style:r,children:e})}}ai.defaultProps=Ld;var Te;(function(n){n.assertEqual=s=>{};function e(s){}n.assertIs=e;function t(s){throw new Error}n.assertNever=t,n.arrayToEnum=s=>{const a={};for(const i of s)a[i]=i;return a},n.getValidEnumValues=s=>{const a=n.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),i={};for(const o of a)i[o]=s[o];return n.objectValues(i)},n.objectValues=s=>n.objectKeys(s).map(function(a){return s[a]}),n.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&a.push(i);return a},n.find=(s,a)=>{for(const i of s)if(a(i))return i},n.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,a=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(a)}n.joinValues=r,n.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(Te||(Te={}));var Ci;(function(n){n.mergeShapes=(e,t)=>C(C({},e),t)})(Ci||(Ci={}));const de=Te.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),jt=n=>{switch(typeof n){case"undefined":return de.undefined;case"string":return de.string;case"number":return Number.isNaN(n)?de.nan:de.number;case"boolean":return de.boolean;case"function":return de.function;case"bigint":return de.bigint;case"symbol":return de.symbol;case"object":return Array.isArray(n)?de.array:n===null?de.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?de.promise:typeof Map!="undefined"&&n instanceof Map?de.map:typeof Set!="undefined"&&n instanceof Set?de.set:typeof Date!="undefined"&&n instanceof Date?de.date:de.object;default:return de.unknown}},J=Te.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class It extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(a){return a.message},r={_errors:[]},s=a=>{for(const i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)r._errors.push(t(i));else{let o=r,l=0;for(;l<i.path.length;){const u=i.path[l];l===i.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(t(i))):o[u]=o[u]||{_errors:[]},o=o[u],l++}}};return s(this),r}static assert(e){if(!(e instanceof It))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Te.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const s of this.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}It.create=n=>new It(n);const Nn=(n,e)=>{let t;switch(n.code){case J.invalid_type:n.received===de.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case J.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Te.jsonStringifyReplacer)}`;break;case J.unrecognized_keys:t=`Unrecognized key(s) in object: ${Te.joinValues(n.keys,", ")}`;break;case J.invalid_union:t="Invalid input";break;case J.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Te.joinValues(n.options)}`;break;case J.invalid_enum_value:t=`Invalid enum value. Expected ${Te.joinValues(n.options)}, received '${n.received}'`;break;case J.invalid_arguments:t="Invalid function arguments";break;case J.invalid_return_type:t="Invalid function return type";break;case J.invalid_date:t="Invalid date";break;case J.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Te.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case J.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case J.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case J.custom:t="Invalid input";break;case J.invalid_intersection_types:t="Intersection results could not be merged";break;case J.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case J.not_finite:t="Number must be finite";break;default:t=e.defaultError,Te.assertNever(n)}return{message:t}};let Bd=Nn;function Ud(){return Bd}const Fd=n=>{const{data:e,path:t,errorMaps:r,issueData:s}=n,a=[...t,...s.path||[]],i=ee(C({},s),{path:a});if(s.message!==void 0)return ee(C({},s),{path:a,message:s.message});let o="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)o=u(i,{data:e,defaultError:o}).message;return ee(C({},s),{path:a,message:o})};function ae(n,e){const t=Ud(),r=Fd({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===Nn?void 0:Nn].filter(s=>!!s)});n.common.issues.push(r)}class ct{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const s of t){if(s.status==="aborted")return we;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static mergeObjectAsync(e,t){return x(this,null,function*(){const r=[];for(const s of t){const a=yield s.key,i=yield s.value;r.push({key:a,value:i})}return ct.mergeObjectSync(e,r)})}static mergeObjectSync(e,t){const r={};for(const s of t){const{key:a,value:i}=s;if(a.status==="aborted"||i.status==="aborted")return we;a.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof i.value!="undefined"||s.alwaysSet)&&(r[a.value]=i.value)}return{status:e.value,value:r}}}const we=Object.freeze({status:"aborted"}),Qr=n=>({status:"dirty",value:n}),dt=n=>({status:"valid",value:n}),ki=n=>n.status==="aborted",Ri=n=>n.status==="dirty",Fr=n=>n.status==="valid",hn=n=>typeof Promise!="undefined"&&n instanceof Promise;var he;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(he||(he={}));class Bt{constructor(e,t,r,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const $i=(n,e)=>{if(Fr(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new It(n.common.issues);return this._error=t,this._error}}};function ke(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:s}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(i,o)=>{var u,d;const{message:l}=n;return i.code==="invalid_enum_value"?{message:l!=null?l:o.defaultError}:typeof o.data=="undefined"?{message:(u=l!=null?l:r)!=null?u:o.defaultError}:i.code!=="invalid_type"?{message:o.defaultError}:{message:(d=l!=null?l:t)!=null?d:o.defaultError}},description:s}}class $e{get description(){return this._def.description}_getType(e){return jt(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:jt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ct,ctx:{common:e.parent.common,data:e.data,parsedType:jt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(hn(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var a;const r={common:{issues:[],async:(a=t==null?void 0:t.async)!=null?a:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:jt(e)},s=this._parseSync({data:e,path:r.path,parent:r});return $i(r,s)}"~validate"(e){var r,s;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:jt(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:t});return Fr(a)?{value:a.value}:{issues:t.common.issues}}catch(a){(s=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(a=>Fr(a)?{value:a.value}:{issues:t.common.issues})}parseAsync(e,t){return x(this,null,function*(){const r=yield this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error})}safeParseAsync(e,t){return x(this,null,function*(){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:jt(e)},s=this._parse({data:e,path:r.path,parent:r}),a=yield hn(s)?s:Promise.resolve(s);return $i(r,a)})}refine(e,t){const r=s=>typeof t=="string"||typeof t=="undefined"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,a)=>{const i=e(s),o=()=>a.addIssue(C({code:J.custom},r(s)));return typeof Promise!="undefined"&&i instanceof Promise?i.then(l=>l?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(e,t){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof t=="function"?t(r,s):t),!1))}_refinement(e){return new Wr({schema:this,typeName:_e.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Lt.create(this,this._def)}nullable(){return Zr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return yt.create(this)}promise(){return vn.create(this,this._def)}or(e){return gn.create([this,e],this._def)}and(e){return mn.create(this,e,this._def)}transform(e){return new Wr(ee(C({},ke(this._def)),{schema:this,typeName:_e.ZodEffects,effect:{type:"transform",transform:e}}))}default(e){const t=typeof e=="function"?e:()=>e;return new On(ee(C({},ke(this._def)),{innerType:this,defaultValue:t,typeName:_e.ZodDefault}))}brand(){return new df(C({typeName:_e.ZodBranded,type:this},ke(this._def)))}catch(e){const t=typeof e=="function"?e:()=>e;return new Dn(ee(C({},ke(this._def)),{innerType:this,catchValue:t,typeName:_e.ZodCatch}))}describe(e){const t=this.constructor;return new t(ee(C({},this._def),{description:e}))}pipe(e){return ni.create(this,e)}readonly(){return Mn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const qd=/^c[^\s-]{8,}$/i,Wd=/^[0-9a-z]+$/,Zd=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Hd=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,zd=/^[a-z0-9_-]{21}$/i,Kd=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Gd=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Vd=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Yd="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Sn;const Jd=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Xd=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Qd=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ef=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,tf=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,rf=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Tc="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",sf=new RegExp(`^${Tc}$`);function jc(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function af(n){return new RegExp(`^${jc(n)}$`)}function nf(n){let e=`${Tc}T${jc(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function of(n,e){return!!((e==="v4"||!e)&&Jd.test(n)||(e==="v6"||!e)&&Qd.test(n))}function lf(n,e){if(!Kd.test(n))return!1;try{const[t]=n.split("."),r=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch(t){return!1}}function cf(n,e){return!!((e==="v4"||!e)&&Xd.test(n)||(e==="v6"||!e)&&ef.test(n))}class Dt extends $e{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==de.string){const a=this._getOrReturnCtx(e);return ae(a,{code:J.invalid_type,expected:de.string,received:a.parsedType}),we}const r=new ct;let s;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),ae(s,{code:J.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),ae(s,{code:J.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const i=e.data.length>a.value,o=e.data.length<a.value;(i||o)&&(s=this._getOrReturnCtx(e,s),i?ae(s,{code:J.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&ae(s,{code:J.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")Vd.test(e.data)||(s=this._getOrReturnCtx(e,s),ae(s,{validation:"email",code:J.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Sn||(Sn=new RegExp(Yd,"u")),Sn.test(e.data)||(s=this._getOrReturnCtx(e,s),ae(s,{validation:"emoji",code:J.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")Hd.test(e.data)||(s=this._getOrReturnCtx(e,s),ae(s,{validation:"uuid",code:J.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")zd.test(e.data)||(s=this._getOrReturnCtx(e,s),ae(s,{validation:"nanoid",code:J.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")qd.test(e.data)||(s=this._getOrReturnCtx(e,s),ae(s,{validation:"cuid",code:J.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")Wd.test(e.data)||(s=this._getOrReturnCtx(e,s),ae(s,{validation:"cuid2",code:J.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")Zd.test(e.data)||(s=this._getOrReturnCtx(e,s),ae(s,{validation:"ulid",code:J.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch(i){s=this._getOrReturnCtx(e,s),ae(s,{validation:"url",code:J.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),ae(s,{validation:"regex",code:J.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),ae(s,{code:J.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),ae(s,{code:J.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),ae(s,{code:J.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?nf(a).test(e.data)||(s=this._getOrReturnCtx(e,s),ae(s,{code:J.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?sf.test(e.data)||(s=this._getOrReturnCtx(e,s),ae(s,{code:J.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?af(a).test(e.data)||(s=this._getOrReturnCtx(e,s),ae(s,{code:J.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?Gd.test(e.data)||(s=this._getOrReturnCtx(e,s),ae(s,{validation:"duration",code:J.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?of(e.data,a.version)||(s=this._getOrReturnCtx(e,s),ae(s,{validation:"ip",code:J.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?lf(e.data,a.alg)||(s=this._getOrReturnCtx(e,s),ae(s,{validation:"jwt",code:J.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?cf(e.data,a.version)||(s=this._getOrReturnCtx(e,s),ae(s,{validation:"cidr",code:J.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?tf.test(e.data)||(s=this._getOrReturnCtx(e,s),ae(s,{validation:"base64",code:J.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?rf.test(e.data)||(s=this._getOrReturnCtx(e,s),ae(s,{validation:"base64url",code:J.invalid_string,message:a.message}),r.dirty()):Te.assertNever(a);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(s=>e.test(s),C({validation:t,code:J.invalid_string},he.errToObj(r)))}_addCheck(e){return new Dt(ee(C({},this._def),{checks:[...this._def.checks,e]}))}email(e){return this._addCheck(C({kind:"email"},he.errToObj(e)))}url(e){return this._addCheck(C({kind:"url"},he.errToObj(e)))}emoji(e){return this._addCheck(C({kind:"emoji"},he.errToObj(e)))}uuid(e){return this._addCheck(C({kind:"uuid"},he.errToObj(e)))}nanoid(e){return this._addCheck(C({kind:"nanoid"},he.errToObj(e)))}cuid(e){return this._addCheck(C({kind:"cuid"},he.errToObj(e)))}cuid2(e){return this._addCheck(C({kind:"cuid2"},he.errToObj(e)))}ulid(e){return this._addCheck(C({kind:"ulid"},he.errToObj(e)))}base64(e){return this._addCheck(C({kind:"base64"},he.errToObj(e)))}base64url(e){return this._addCheck(C({kind:"base64url"},he.errToObj(e)))}jwt(e){return this._addCheck(C({kind:"jwt"},he.errToObj(e)))}ip(e){return this._addCheck(C({kind:"ip"},he.errToObj(e)))}cidr(e){return this._addCheck(C({kind:"cidr"},he.errToObj(e)))}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck(C({kind:"datetime",precision:typeof(e==null?void 0:e.precision)=="undefined"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!=null?t:!1,local:(r=e==null?void 0:e.local)!=null?r:!1},he.errToObj(e==null?void 0:e.message)))}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck(C({kind:"time",precision:typeof(e==null?void 0:e.precision)=="undefined"?null:e==null?void 0:e.precision},he.errToObj(e==null?void 0:e.message)))}duration(e){return this._addCheck(C({kind:"duration"},he.errToObj(e)))}regex(e,t){return this._addCheck(C({kind:"regex",regex:e},he.errToObj(t)))}includes(e,t){return this._addCheck(C({kind:"includes",value:e,position:t==null?void 0:t.position},he.errToObj(t==null?void 0:t.message)))}startsWith(e,t){return this._addCheck(C({kind:"startsWith",value:e},he.errToObj(t)))}endsWith(e,t){return this._addCheck(C({kind:"endsWith",value:e},he.errToObj(t)))}min(e,t){return this._addCheck(C({kind:"min",value:e},he.errToObj(t)))}max(e,t){return this._addCheck(C({kind:"max",value:e},he.errToObj(t)))}length(e,t){return this._addCheck(C({kind:"length",value:e},he.errToObj(t)))}nonempty(e){return this.min(1,he.errToObj(e))}trim(){return new Dt(ee(C({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new Dt(ee(C({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new Dt(ee(C({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Dt.create=n=>{var e;return new Dt(C({checks:[],typeName:_e.ZodString,coerce:(e=n==null?void 0:n.coerce)!=null?e:!1},ke(n)))};function uf(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=t>r?t:r,a=Number.parseInt(n.toFixed(s).replace(".","")),i=Number.parseInt(e.toFixed(s).replace(".",""));return a%i/fs(10,s)}class ss extends $e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==de.number){const a=this._getOrReturnCtx(e);return ae(a,{code:J.invalid_type,expected:de.number,received:a.parsedType}),we}let r;const s=new ct;for(const a of this._def.checks)a.kind==="int"?Te.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ae(r,{code:J.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),ae(r,{code:J.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),ae(r,{code:J.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?uf(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),ae(r,{code:J.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ae(r,{code:J.not_finite,message:a.message}),s.dirty()):Te.assertNever(a);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,he.toString(t))}gt(e,t){return this.setLimit("min",e,!1,he.toString(t))}lte(e,t){return this.setLimit("max",e,!0,he.toString(t))}lt(e,t){return this.setLimit("max",e,!1,he.toString(t))}setLimit(e,t,r,s){return new ss(ee(C({},this._def),{checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:he.toString(s)}]}))}_addCheck(e){return new ss(ee(C({},this._def),{checks:[...this._def.checks,e]}))}int(e){return this._addCheck({kind:"int",message:he.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:he.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:he.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:he.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:he.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:he.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:he.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:he.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:he.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Te.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}ss.create=n=>new ss(C({checks:[],typeName:_e.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1},ke(n)));class as extends $e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(a){return this._getInvalidInput(e)}if(this._getType(e)!==de.bigint)return this._getInvalidInput(e);let r;const s=new ct;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),ae(r,{code:J.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),ae(r,{code:J.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ae(r,{code:J.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):Te.assertNever(a);return{status:s.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return ae(t,{code:J.invalid_type,expected:de.bigint,received:t.parsedType}),we}gte(e,t){return this.setLimit("min",e,!0,he.toString(t))}gt(e,t){return this.setLimit("min",e,!1,he.toString(t))}lte(e,t){return this.setLimit("max",e,!0,he.toString(t))}lt(e,t){return this.setLimit("max",e,!1,he.toString(t))}setLimit(e,t,r,s){return new as(ee(C({},this._def),{checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:he.toString(s)}]}))}_addCheck(e){return new as(ee(C({},this._def),{checks:[...this._def.checks,e]}))}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:he.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:he.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:he.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:he.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:he.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}as.create=n=>{var e;return new as(C({checks:[],typeName:_e.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!=null?e:!1},ke(n)))};class Ti extends $e{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==de.boolean){const r=this._getOrReturnCtx(e);return ae(r,{code:J.invalid_type,expected:de.boolean,received:r.parsedType}),we}return dt(e.data)}}Ti.create=n=>new Ti(C({typeName:_e.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1},ke(n)));class pn extends $e{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==de.date){const a=this._getOrReturnCtx(e);return ae(a,{code:J.invalid_type,expected:de.date,received:a.parsedType}),we}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return ae(a,{code:J.invalid_date}),we}const r=new ct;let s;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),ae(s,{code:J.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),ae(s,{code:J.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):Te.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new pn(ee(C({},this._def),{checks:[...this._def.checks,e]}))}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:he.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:he.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}pn.create=n=>new pn(C({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:_e.ZodDate},ke(n)));class ji extends $e{_parse(e){if(this._getType(e)!==de.symbol){const r=this._getOrReturnCtx(e);return ae(r,{code:J.invalid_type,expected:de.symbol,received:r.parsedType}),we}return dt(e.data)}}ji.create=n=>new ji(C({typeName:_e.ZodSymbol},ke(n)));class Ni extends $e{_parse(e){if(this._getType(e)!==de.undefined){const r=this._getOrReturnCtx(e);return ae(r,{code:J.invalid_type,expected:de.undefined,received:r.parsedType}),we}return dt(e.data)}}Ni.create=n=>new Ni(C({typeName:_e.ZodUndefined},ke(n)));class Pi extends $e{_parse(e){if(this._getType(e)!==de.null){const r=this._getOrReturnCtx(e);return ae(r,{code:J.invalid_type,expected:de.null,received:r.parsedType}),we}return dt(e.data)}}Pi.create=n=>new Pi(C({typeName:_e.ZodNull},ke(n)));class Oi extends $e{constructor(){super(...arguments),this._any=!0}_parse(e){return dt(e.data)}}Oi.create=n=>new Oi(C({typeName:_e.ZodAny},ke(n)));class Di extends $e{constructor(){super(...arguments),this._unknown=!0}_parse(e){return dt(e.data)}}Di.create=n=>new Di(C({typeName:_e.ZodUnknown},ke(n)));class Ut extends $e{_parse(e){const t=this._getOrReturnCtx(e);return ae(t,{code:J.invalid_type,expected:de.never,received:t.parsedType}),we}}Ut.create=n=>new Ut(C({typeName:_e.ZodNever},ke(n)));class Mi extends $e{_parse(e){if(this._getType(e)!==de.undefined){const r=this._getOrReturnCtx(e);return ae(r,{code:J.invalid_type,expected:de.void,received:r.parsedType}),we}return dt(e.data)}}Mi.create=n=>new Mi(C({typeName:_e.ZodVoid},ke(n)));class yt extends $e{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),s=this._def;if(t.parsedType!==de.array)return ae(t,{code:J.invalid_type,expected:de.array,received:t.parsedType}),we;if(s.exactLength!==null){const i=t.data.length>s.exactLength.value,o=t.data.length<s.exactLength.value;(i||o)&&(ae(t,{code:i?J.too_big:J.too_small,minimum:o?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(ae(t,{code:J.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(ae(t,{code:J.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((i,o)=>s.type._parseAsync(new Bt(t,i,t.path,o)))).then(i=>ct.mergeArray(r,i));const a=[...t.data].map((i,o)=>s.type._parseSync(new Bt(t,i,t.path,o)));return ct.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new yt(ee(C({},this._def),{minLength:{value:e,message:he.toString(t)}}))}max(e,t){return new yt(ee(C({},this._def),{maxLength:{value:e,message:he.toString(t)}}))}length(e,t){return new yt(ee(C({},this._def),{exactLength:{value:e,message:he.toString(t)}}))}nonempty(e){return this.min(1,e)}}yt.create=(n,e)=>new yt(C({type:n,minLength:null,maxLength:null,exactLength:null,typeName:_e.ZodArray},ke(e)));function Lr(n){if(n instanceof We){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=Lt.create(Lr(r))}return new We(ee(C({},n._def),{shape:()=>e}))}else return n instanceof yt?new yt(ee(C({},n._def),{type:Lr(n.element)})):n instanceof Lt?Lt.create(Lr(n.unwrap())):n instanceof Zr?Zr.create(Lr(n.unwrap())):n instanceof ir?ir.create(n.items.map(e=>Lr(e))):n}class We extends $e{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Te.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==de.object){const u=this._getOrReturnCtx(e);return ae(u,{code:J.invalid_type,expected:de.object,received:u.parsedType}),we}const{status:r,ctx:s}=this._processInputParams(e),{shape:a,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof Ut&&this._def.unknownKeys==="strip"))for(const u in s.data)i.includes(u)||o.push(u);const l=[];for(const u of i){const d=a[u],c=s.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new Bt(s,c,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Ut){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of o)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")o.length>0&&(ae(s,{code:J.unrecognized_keys,keys:o}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of o){const c=s.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new Bt(s,c,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(()=>x(this,null,function*(){const u=[];for(const d of l){const c=yield d.key,h=yield d.value;u.push({key:c,value:h,alwaysSet:d.alwaysSet})}return u})).then(u=>ct.mergeObjectSync(r,u)):ct.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return he.errToObj,new We(C(ee(C({},this._def),{unknownKeys:"strict"}),e!==void 0?{errorMap:(t,r)=>{var a,i,o,l;const s=(o=(i=(a=this._def).errorMap)==null?void 0:i.call(a,t,r).message)!=null?o:r.defaultError;return t.code==="unrecognized_keys"?{message:(l=he.errToObj(e).message)!=null?l:s}:{message:s}}}:{}))}strip(){return new We(ee(C({},this._def),{unknownKeys:"strip"}))}passthrough(){return new We(ee(C({},this._def),{unknownKeys:"passthrough"}))}extend(e){return new We(ee(C({},this._def),{shape:()=>C(C({},this._def.shape()),e)}))}merge(e){return new We({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>C(C({},this._def.shape()),e._def.shape()),typeName:_e.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new We(ee(C({},this._def),{catchall:e}))}pick(e){const t={};for(const r of Te.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new We(ee(C({},this._def),{shape:()=>t}))}omit(e){const t={};for(const r of Te.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new We(ee(C({},this._def),{shape:()=>t}))}deepPartial(){return Lr(this)}partial(e){const t={};for(const r of Te.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?t[r]=s:t[r]=s.optional()}return new We(ee(C({},this._def),{shape:()=>t}))}required(e){const t={};for(const r of Te.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Lt;)a=a._def.innerType;t[r]=a}return new We(ee(C({},this._def),{shape:()=>t}))}keyof(){return Nc(Te.objectKeys(this.shape))}}We.create=(n,e)=>new We(C({shape:()=>n,unknownKeys:"strip",catchall:Ut.create(),typeName:_e.ZodObject},ke(e)));We.strictCreate=(n,e)=>new We(C({shape:()=>n,unknownKeys:"strict",catchall:Ut.create(),typeName:_e.ZodObject},ke(e)));We.lazycreate=(n,e)=>new We(C({shape:n,unknownKeys:"strip",catchall:Ut.create(),typeName:_e.ZodObject},ke(e)));class gn extends $e{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function s(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return t.common.issues.push(...o.ctx.common.issues),o.result;const i=a.map(o=>new It(o.ctx.common.issues));return ae(t,{code:J.invalid_union,unionErrors:i}),we}if(t.common.async)return Promise.all(r.map(a=>x(this,null,function*(){const i=ee(C({},t),{common:ee(C({},t.common),{issues:[]}),parent:null});return{result:yield a._parseAsync({data:t.data,path:t.path,parent:i}),ctx:i}}))).then(s);{let a;const i=[];for(const l of r){const u=ee(C({},t),{common:ee(C({},t.common),{issues:[]}),parent:null}),d=l._parseSync({data:t.data,path:t.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(a)return t.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(l=>new It(l));return ae(t,{code:J.invalid_union,unionErrors:o}),we}}get options(){return this._def.options}}gn.create=(n,e)=>new gn(C({options:n,typeName:_e.ZodUnion},ke(e)));function Pn(n,e){const t=jt(n),r=jt(e);if(n===e)return{valid:!0,data:n};if(t===de.object&&r===de.object){const s=Te.objectKeys(e),a=Te.objectKeys(n).filter(o=>s.indexOf(o)!==-1),i=C(C({},n),e);for(const o of a){const l=Pn(n[o],e[o]);if(!l.valid)return{valid:!1};i[o]=l.data}return{valid:!0,data:i}}else if(t===de.array&&r===de.array){if(n.length!==e.length)return{valid:!1};const s=[];for(let a=0;a<n.length;a++){const i=n[a],o=e[a],l=Pn(i,o);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return t===de.date&&r===de.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class mn extends $e{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=(a,i)=>{if(ki(a)||ki(i))return we;const o=Pn(a.value,i.value);return o.valid?((Ri(a)||Ri(i))&&t.dirty(),{status:t.value,value:o.data}):(ae(r,{code:J.invalid_intersection_types}),we)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,i])=>s(a,i)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}mn.create=(n,e,t)=>new mn(C({left:n,right:e,typeName:_e.ZodIntersection},ke(t)));class ir extends $e{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==de.array)return ae(r,{code:J.invalid_type,expected:de.array,received:r.parsedType}),we;if(r.data.length<this._def.items.length)return ae(r,{code:J.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),we;!this._def.rest&&r.data.length>this._def.items.length&&(ae(r,{code:J.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const a=[...r.data].map((i,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new Bt(r,i,r.path,o)):null}).filter(i=>!!i);return r.common.async?Promise.all(a).then(i=>ct.mergeArray(t,i)):ct.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new ir(ee(C({},this._def),{rest:e}))}}ir.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ir(C({items:n,typeName:_e.ZodTuple,rest:null},ke(e)))};class Li extends $e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==de.map)return ae(r,{code:J.invalid_type,expected:de.map,received:r.parsedType}),we;const s=this._def.keyType,a=this._def.valueType,i=[...r.data.entries()].map(([o,l],u)=>({key:s._parse(new Bt(r,o,r.path,[u,"key"])),value:a._parse(new Bt(r,l,r.path,[u,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(()=>x(this,null,function*(){for(const l of i){const u=yield l.key,d=yield l.value;if(u.status==="aborted"||d.status==="aborted")return we;(u.status==="dirty"||d.status==="dirty")&&t.dirty(),o.set(u.value,d.value)}return{status:t.value,value:o}}))}else{const o=new Map;for(const l of i){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return we;(u.status==="dirty"||d.status==="dirty")&&t.dirty(),o.set(u.value,d.value)}return{status:t.value,value:o}}}}Li.create=(n,e,t)=>new Li(C({valueType:e,keyType:n,typeName:_e.ZodMap},ke(t)));class ns extends $e{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==de.set)return ae(r,{code:J.invalid_type,expected:de.set,received:r.parsedType}),we;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(ae(r,{code:J.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(ae(r,{code:J.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());const a=this._def.valueType;function i(l){const u=new Set;for(const d of l){if(d.status==="aborted")return we;d.status==="dirty"&&t.dirty(),u.add(d.value)}return{status:t.value,value:u}}const o=[...r.data.values()].map((l,u)=>a._parse(new Bt(r,l,r.path,u)));return r.common.async?Promise.all(o).then(l=>i(l)):i(o)}min(e,t){return new ns(ee(C({},this._def),{minSize:{value:e,message:he.toString(t)}}))}max(e,t){return new ns(ee(C({},this._def),{maxSize:{value:e,message:he.toString(t)}}))}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ns.create=(n,e)=>new ns(C({valueType:n,minSize:null,maxSize:null,typeName:_e.ZodSet},ke(e)));class Bi extends $e{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Bi.create=(n,e)=>new Bi(C({getter:n,typeName:_e.ZodLazy},ke(e)));class Ui extends $e{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return ae(t,{received:t.data,code:J.invalid_literal,expected:this._def.value}),we}return{status:"valid",value:e.data}}get value(){return this._def.value}}Ui.create=(n,e)=>new Ui(C({value:n,typeName:_e.ZodLiteral},ke(e)));function Nc(n,e){return new qr(C({values:n,typeName:_e.ZodEnum},ke(e)))}class qr extends $e{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return ae(t,{expected:Te.joinValues(r),received:t.parsedType,code:J.invalid_type}),we}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return ae(t,{received:t.data,code:J.invalid_enum_value,options:r}),we}return dt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return qr.create(e,C(C({},this._def),t))}exclude(e,t=this._def){return qr.create(this.options.filter(r=>!e.includes(r)),C(C({},this._def),t))}}qr.create=Nc;class Fi extends $e{_parse(e){const t=Te.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==de.string&&r.parsedType!==de.number){const s=Te.objectValues(t);return ae(r,{expected:Te.joinValues(s),received:r.parsedType,code:J.invalid_type}),we}if(this._cache||(this._cache=new Set(Te.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Te.objectValues(t);return ae(r,{received:r.data,code:J.invalid_enum_value,options:s}),we}return dt(e.data)}get enum(){return this._def.values}}Fi.create=(n,e)=>new Fi(C({values:n,typeName:_e.ZodNativeEnum},ke(e)));class vn extends $e{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==de.promise&&t.common.async===!1)return ae(t,{code:J.invalid_type,expected:de.promise,received:t.parsedType}),we;const r=t.parsedType===de.promise?t.data:Promise.resolve(t.data);return dt(r.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}}vn.create=(n,e)=>new vn(C({type:n,typeName:_e.ZodPromise},ke(e)));class Wr extends $e{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===_e.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:i=>{ae(r,i),i.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const i=s.transform(r.data,a);if(r.common.async)return Promise.resolve(i).then(o=>x(this,null,function*(){if(t.value==="aborted")return we;const l=yield this._def.schema._parseAsync({data:o,path:r.path,parent:r});return l.status==="aborted"?we:l.status==="dirty"||t.value==="dirty"?Qr(l.value):l}));{if(t.value==="aborted")return we;const o=this._def.schema._parseSync({data:i,path:r.path,parent:r});return o.status==="aborted"?we:o.status==="dirty"||t.value==="dirty"?Qr(o.value):o}}if(s.type==="refinement"){const i=o=>{const l=s.refinement(o,a);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?we:(o.status==="dirty"&&t.dirty(),i(o.value),{status:t.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?we:(o.status==="dirty"&&t.dirty(),i(o.value).then(()=>({status:t.value,value:o.value}))))}if(s.type==="transform")if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Fr(i))return we;const o=s.transform(i.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>Fr(i)?Promise.resolve(s.transform(i.value,a)).then(o=>({status:t.value,value:o})):we);Te.assertNever(s)}}Wr.create=(n,e,t)=>new Wr(C({schema:n,typeName:_e.ZodEffects,effect:e},ke(t)));Wr.createWithPreprocess=(n,e,t)=>new Wr(C({schema:e,effect:{type:"preprocess",transform:n},typeName:_e.ZodEffects},ke(t)));class Lt extends $e{_parse(e){return this._getType(e)===de.undefined?dt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Lt.create=(n,e)=>new Lt(C({innerType:n,typeName:_e.ZodOptional},ke(e)));class Zr extends $e{_parse(e){return this._getType(e)===de.null?dt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Zr.create=(n,e)=>new Zr(C({innerType:n,typeName:_e.ZodNullable},ke(e)));class On extends $e{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===de.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}On.create=(n,e)=>new On(C({innerType:n,typeName:_e.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default},ke(e)));class Dn extends $e{_parse(e){const{ctx:t}=this._processInputParams(e),r=ee(C({},t),{common:ee(C({},t.common),{issues:[]})}),s=this._def.innerType._parse({data:r.data,path:r.path,parent:C({},r)});return hn(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new It(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new It(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Dn.create=(n,e)=>new Dn(C({innerType:n,typeName:_e.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch},ke(e)));class qi extends $e{_parse(e){if(this._getType(e)!==de.nan){const r=this._getOrReturnCtx(e);return ae(r,{code:J.invalid_type,expected:de.nan,received:r.parsedType}),we}return{status:"valid",value:e.data}}}qi.create=n=>new qi(C({typeName:_e.ZodNaN},ke(n)));class df extends $e{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class ni extends $e{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return x(this,null,function*(){const a=yield this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?we:a.status==="dirty"?(t.dirty(),Qr(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})});{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?we:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,t){return new ni({in:e,out:t,typeName:_e.ZodPipeline})}}class Mn extends $e{_parse(e){const t=this._def.innerType._parse(e),r=s=>(Fr(s)&&(s.value=Object.freeze(s.value)),s);return hn(t)?t.then(s=>r(s)):r(t)}unwrap(){return this._def.innerType}}Mn.create=(n,e)=>new Mn(C({innerType:n,typeName:_e.ZodReadonly},ke(e)));var _e;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(_e||(_e={}));const gs=Dt.create;Ut.create;yt.create;const ff=We.create;gn.create;mn.create;ir.create;qr.create;vn.create;Lt.create;Zr.create;const hf="modulepreload",pf=function(n){return"/"+n},Wi={},lr=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let i=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(c=>({status:"fulfilled",value:c}),c=>({status:"rejected",reason:c}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=i(t.map(u=>{if(u=pf(u),u in Wi)return;Wi[u]=!0;const d=u.endsWith(".css"),c=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${c}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":hf,d||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((m,b)=>{h.addEventListener("load",m),h.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return s.then(i=>{for(const o of i||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})},gf=n=>{let e;return n?e=n:typeof fetch=="undefined"?e=(...t)=>lr(()=>x(null,null,function*(){const{default:r}=yield Promise.resolve().then(()=>zr);return{default:r}}),void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class ii extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class mf extends ii{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Zi extends ii{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Hi extends ii{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ln;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Ln||(Ln={}));var vf=function(n,e,t,r){function s(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function o(d){try{u(r.next(d))}catch(c){i(c)}}function l(d){try{u(r.throw(d))}catch(c){i(c)}}function u(d){d.done?a(d.value):s(d.value).then(o,l)}u((r=r.apply(n,e||[])).next())})};class yf{constructor(e,{headers:t={},customFetch:r,region:s=Ln.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=gf(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return vf(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:i}=t;let o={},{region:l}=t;l||(l=this.region);const u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(o["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let d;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob!="undefined"&&i instanceof Blob||i instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(o["Content-Type"]="text/plain",d=i):typeof FormData!="undefined"&&i instanceof FormData?d=i:(o["Content-Type"]="application/json",d=JSON.stringify(i)));const c=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:d}).catch(g=>{throw new mf(g)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new Zi(c);if(!c.ok)throw new Hi(c);let m=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),b;return m==="application/json"?b=yield c.json():m==="application/octet-stream"?b=yield c.blob():m==="text/event-stream"?b=c:m==="multipart/form-data"?b=yield c.formData():b=yield c.text(),{data:b,error:null,response:c}}catch(s){return{data:null,error:s,response:s instanceof Hi||s instanceof Zi?s.context:void 0}}})}}var Ke={},hr={},pr={},gr={},mr={},vr={},bf=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("unable to locate global object")},Hr=bf();const xf=Hr.fetch,Pc=Hr.fetch.bind(Hr),Oc=Hr.Headers,wf=Hr.Request,_f=Hr.Response,zr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Oc,Request:wf,Response:_f,default:Pc,fetch:xf},Symbol.toStringTag,{value:"Module"})),Sf=id(zr);var ms={},zi;function Dc(){if(zi)return ms;zi=1,Object.defineProperty(ms,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return ms.default=n,ms}var Ki;function Mc(){if(Ki)return vr;Ki=1;var n=vr&&vr.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(vr,"__esModule",{value:!0});const e=n(Sf),t=n(Dc());class r{constructor(a){this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=a.headers,this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=a.shouldThrowOnError,this.signal=a.signal,this.isMaybeSingle=a.isMaybeSingle,a.fetch?this.fetch=a.fetch:typeof fetch=="undefined"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,i){return this.headers=Object.assign({},this.headers),this.headers[a]=i,this}then(a,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(u=>x(this,null,function*(){var d,c,h;let m=null,b=null,g=null,p=u.status,y=u.statusText;if(u.ok){if(this.method!=="HEAD"){const R=yield u.text();R===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?b=R:b=JSON.parse(R))}const v=(d=this.headers.Prefer)===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(c=u.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");v&&_&&_.length>1&&(g=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(m={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,g=null,p=406,y="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const v=yield u.text();try{m=JSON.parse(v),Array.isArray(m)&&u.status===404&&(b=[],m=null,p=200,y="OK")}catch(_){u.status===404&&v===""?(p=204,y="No Content"):m={message:v}}if(m&&this.isMaybeSingle&&(!((h=m==null?void 0:m.details)===null||h===void 0)&&h.includes("0 rows"))&&(m=null,p=200,y="OK"),m&&this.shouldThrowOnError)throw new t.default(m)}return{error:m,data:b,count:g,status:p,statusText:y}}));return this.shouldThrowOnError||(l=l.catch(u=>{var d,c,h;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(c=u==null?void 0:u.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(a,i)}returns(){return this}overrideTypes(){return this}}return vr.default=r,vr}var Gi;function Lc(){if(Gi)return mr;Gi=1;var n=mr&&mr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(mr,"__esModule",{value:!0});const e=n(Mc());class t extends e.default{select(s){let a=!1;const i=(s!=null?s:"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:a=!0,nullsFirst:i,foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${a?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:i=a}={}){const o=typeof i=="undefined"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${s}`),this}range(s,a,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o=="undefined"?"offset":`${o}.offset`,u=typeof o=="undefined"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(u,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:a=!1,settings:i=!1,buffers:o=!1,wal:l=!1,format:u="text"}={}){var d;const c=[s?"analyze":null,a?"verbose":null,i?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.Accept)!==null&&d!==void 0?d:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${h}"; options=${c};`,u==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return mr.default=t,mr}var Vi;function oi(){if(Vi)return gr;Vi=1;var n=gr&&gr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(gr,"__esModule",{value:!0});const e=n(Lc());class t extends e.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}in(s,a){const i=Array.from(new Set(a)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(s,`in.(${i})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:i,type:o}={}){let l="";o==="plain"?l="pl":o==="phrase"?l="ph":o==="websearch"&&(l="w");const u=i===void 0?"":`(${i})`;return this.url.searchParams.append(s,`${l}fts${u}.${a}`),this}match(s){return Object.entries(s).forEach(([a,i])=>{this.url.searchParams.append(a,`eq.${i}`)}),this}not(s,a,i){return this.url.searchParams.append(s,`not.${a}.${i}`),this}or(s,{foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.or`:"or";return this.url.searchParams.append(o,`(${s})`),this}filter(s,a,i){return this.url.searchParams.append(s,`${a}.${i}`),this}}return gr.default=t,gr}var Yi;function Bc(){if(Yi)return pr;Yi=1;var n=pr&&pr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(pr,"__esModule",{value:!0});const e=n(oi());class t{constructor(s,{headers:a={},schema:i,fetch:o}){this.url=s,this.headers=a,this.schema=i,this.fetch=o}select(s,{head:a=!1,count:i}={}){const o=a?"HEAD":"GET";let l=!1;const u=(s!=null?s:"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",u),i&&(this.headers.Prefer=`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:a,defaultToNull:i=!0}={}){const o="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(s)){const u=s.reduce((d,c)=>d.concat(Object.keys(c)),[]);if(u.length>0){const d=[...new Set(u)].map(c=>`"${c}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:a,ignoreDuplicates:i=!1,count:o,defaultToNull:l=!0}={}){const u="POST",d=[`resolution=${i?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&d.push(this.headers.Prefer),o&&d.push(`count=${o}`),l||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(s)){const c=s.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(c.length>0){const h=[...new Set(c)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:a}={}){const i="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),a&&o.push(`count=${a}`),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const a="DELETE",i=[];return s&&i.push(`count=${s}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return pr.default=t,pr}var Jr={},Xr={},Ji;function Af(){return Ji||(Ji=1,Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.version=void 0,Xr.version="0.0.0-automated"),Xr}var Xi;function If(){if(Xi)return Jr;Xi=1,Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.DEFAULT_HEADERS=void 0;const n=Af();return Jr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`},Jr}var Qi;function Ef(){if(Qi)return hr;Qi=1;var n=hr&&hr.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(hr,"__esModule",{value:!0});const e=n(Bc()),t=n(oi()),r=If();class s{constructor(i,{headers:o={},schema:l,fetch:u}={}){this.url=i,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),o),this.schemaName=l,this.fetch=u}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new s(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:u=!1,count:d}={}){let c;const h=new URL(`${this.url}/rpc/${i}`);let m;l||u?(c=l?"HEAD":"GET",Object.entries(o).filter(([g,p])=>p!==void 0).map(([g,p])=>[g,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([g,p])=>{h.searchParams.append(g,p)})):(c="POST",m=o);const b=Object.assign({},this.headers);return d&&(b.Prefer=`count=${d}`),new t.default({method:c,url:h,headers:b,schema:this.schemaName,body:m,fetch:this.fetch,allowEmpty:!1})}}return hr.default=s,hr}var eo;function Cf(){if(eo)return Ke;eo=1;var n=Ke&&Ke.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.PostgrestError=Ke.PostgrestBuilder=Ke.PostgrestTransformBuilder=Ke.PostgrestFilterBuilder=Ke.PostgrestQueryBuilder=Ke.PostgrestClient=void 0;const e=n(Ef());Ke.PostgrestClient=e.default;const t=n(Bc());Ke.PostgrestQueryBuilder=t.default;const r=n(oi());Ke.PostgrestFilterBuilder=r.default;const s=n(Lc());Ke.PostgrestTransformBuilder=s.default;const a=n(Mc());Ke.PostgrestBuilder=a.default;const i=n(Dc());return Ke.PostgrestError=i.default,Ke.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:a.default,PostgrestError:i.default},Ke}var kf=Cf();const Rf=od(kf),{PostgrestClient:$f,PostgrestQueryBuilder:om,PostgrestFilterBuilder:lm,PostgrestTransformBuilder:cm,PostgrestBuilder:um,PostgrestError:dm}=Rf;function Tf(){if(typeof WebSocket!="undefined")return WebSocket;if(typeof global.WebSocket!="undefined")return global.WebSocket;if(typeof window.WebSocket!="undefined")return window.WebSocket;if(typeof self.WebSocket!="undefined")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const jf=Tf(),Nf="2.11.15",Pf=`realtime-js/${Nf}`,Of="1.0.0",Uc=1e4,Df=1e3;var ts;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(ts||(ts={}));var Qe;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Qe||(Qe={}));var ht;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(ht||(ht={}));var Bn;(function(n){n.websocket="websocket"})(Bn||(Bn={}));var Jt;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Jt||(Jt={}));class Mf{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const s=t.getUint8(1),a=t.getUint8(2);let i=this.HEADER_LENGTH+2;const o=r.decode(e.slice(i,i+s));i=i+s;const l=r.decode(e.slice(i,i+a));i=i+a;const u=JSON.parse(r.decode(e.slice(i,e.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class Fc{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var De;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(De||(De={}));const to=(n,e,t={})=>{var r;const s=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,i)=>(a[i]=Lf(i,n,e,s),a),{})},Lf=(n,e,t,r)=>{const s=e.find(o=>o.name===n),a=s==null?void 0:s.type,i=t[n];return a&&!r.includes(a)?qc(a,i):Un(i)},qc=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return qf(e,t)}switch(n){case De.bool:return Bf(e);case De.float4:case De.float8:case De.int2:case De.int4:case De.int8:case De.numeric:case De.oid:return Uf(e);case De.json:case De.jsonb:return Ff(e);case De.timestamp:return Wf(e);case De.abstime:case De.date:case De.daterange:case De.int4range:case De.int8range:case De.money:case De.reltime:case De.text:case De.time:case De.timestamptz:case De.timetz:case De.tsrange:case De.tstzrange:return Un(e);default:return Un(e)}},Un=n=>n,Bf=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Uf=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},Ff=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},qf=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let a;const i=n.slice(1,t);try{a=JSON.parse("["+i+"]")}catch(o){a=i?i.split(","):[]}return a.map(o=>qc(e,o))}return n},Wf=n=>typeof n=="string"?n.replace(" ","T"):n,Wc=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class An{constructor(e,t,r={},s=Uc){this.channel=e,this.event=t,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ro;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(ro||(ro={}));class rs{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:a,onLeave:i,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=rs.syncState(this.state,s,a,i),this.pendingDiffs.forEach(l=>{this.state=rs.syncDiff(this.state,l,a,i)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},s=>{const{onJoin:a,onLeave:i,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=rs.syncDiff(this.state,s,a,i),o())}),this.onJoin((s,a,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:i})}),this.onLeave((s,a,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,s){const a=this.cloneDeep(e),i=this.transformState(t),o={},l={};return this.map(a,(u,d)=>{i[u]||(l[u]=d)}),this.map(i,(u,d)=>{const c=a[u];if(c){const h=d.map(p=>p.presence_ref),m=c.map(p=>p.presence_ref),b=d.filter(p=>m.indexOf(p.presence_ref)<0),g=c.filter(p=>h.indexOf(p.presence_ref)<0);b.length>0&&(o[u]=b),g.length>0&&(l[u]=g)}else o[u]=d}),this.syncDiff(a,{joins:o,leaves:l},r,s)}static syncDiff(e,t,r,s){const{joins:a,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(a,(o,l)=>{var u;const d=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),d.length>0){const c=e[o].map(m=>m.presence_ref),h=d.filter(m=>c.indexOf(m.presence_ref)<0);e[o].unshift(...h)}r(o,d,l)}),this.map(i,(o,l)=>{let u=e[o];if(!u)return;const d=l.map(c=>c.presence_ref);u=u.filter(c=>d.indexOf(c.presence_ref)<0),e[o]=u,s(o,u,l),u.length===0&&delete e[o]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const s=e[r];return"metas"in s?t[r]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):t[r]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var so;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(so||(so={}));var ao;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(ao||(ao={}));var St;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(St||(St={}));class li{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new An(this,ht.join,this.params,this.timeout),this.rejoinTimer=new Fc(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ht.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new rs(this),this.broadcastEndpointURL=Wc(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Qe.closed){const{config:{broadcast:a,presence:i,private:o}}=this.params;this._onError(d=>e==null?void 0:e(St.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(St.CLOSED));const l={},u={broadcast:a,presence:i,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",c=>x(this,[c],function*({postgres_changes:d}){var h;if(this.socket.setAuth(),d===void 0){e==null||e(St.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,b=(h=m==null?void 0:m.length)!==null&&h!==void 0?h:0,g=[];for(let p=0;p<b;p++){const y=m[p],{filter:{event:I,schema:v,table:_,filter:R}}=y,$=d&&d[p];if($&&$.event===I&&$.schema===v&&$.table===_&&$.filter===R)g.push(Object.assign(Object.assign({},y),{id:$.id}));else{this.unsubscribe(),this.state=Qe.errored,e==null||e(St.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(St.SUBSCRIBED);return}})).receive("error",d=>{this.state=Qe.errored,e==null||e(St.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(St.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return x(this,arguments,function*(e,t={}){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(){return x(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,r){return this._on(e,t,r)}send(r){return x(this,arguments,function*(e,t={}){var s,a;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=yield this._fetchWithTimeout(this.broadcastEndpointURL,u,(s=t.timeout)!==null&&s!==void 0?s:this.timeout);return yield(a=d.body)===null||a===void 0?void 0:a.cancel(),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,u;const d=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Qe.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ht.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new An(this,ht.leave,{},e),r.receive("ok",()=>{t(),s("ok")}).receive("timeout",()=>{t(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}_fetchWithTimeout(e,t,r){return x(this,null,function*(){const s=new AbortController,a=setTimeout(()=>s.abort(),r),i=yield this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(a),i})}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new An(this,e,t,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var s,a;const i=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:d}=ht;if(r&&[o,l,u,d].indexOf(i)>=0&&r!==this._joinRef())return;let h=this._onMessage(i,t,r);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var b,g,p;return((b=m.filter)===null||b===void 0?void 0:b.event)==="*"||((p=(g=m.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase())===i}).map(m=>m.callback(h,r)):(a=this.bindings[i])===null||a===void 0||a.filter(m=>{var b,g,p,y,I,v;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const _=m.id,R=(b=m.filter)===null||b===void 0?void 0:b.event;return _&&((g=t.ids)===null||g===void 0?void 0:g.includes(_))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((p=t.data)===null||p===void 0?void 0:p.type.toLocaleLowerCase()))}else{const _=(I=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return _==="*"||_===((v=t==null?void 0:t.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof h=="object"&&"ids"in h){const b=h.data,{schema:g,table:p,commit_timestamp:y,type:I,errors:v}=b;h=Object.assign(Object.assign({},{schema:g,table:p,commit_timestamp:y,eventType:I,new:{},old:{},errors:v}),this._getPayloadRecords(b))}m.callback(h,r)})}_isClosed(){return this.state===Qe.closed}_isJoined(){return this.state===Qe.joined}_isJoining(){return this.state===Qe.joining}_isLeaving(){return this.state===Qe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const s=e.toLocaleLowerCase(),a={type:s,filter:t,callback:r};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&li.isEqual(s.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ht.close,{},e)}_onError(e){this._on(ht.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=to(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=to(e.columns,e.old_record)),t}}const no=()=>{},Zf=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Hf{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Uc,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=no,this.ref=0,this.logger=no,this.conn=null,this.sendBuffer=[],this.serializer=new Mf,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch=="undefined"?i=(...o)=>lr(()=>x(this,null,function*(){const{default:l}=yield Promise.resolve().then(()=>zr);return{default:l}}),void 0).then(({default:l})=>l(...o)):i=fetch,(...o)=>i(...o)},this.endPoint=`${e}/${Bn.websocket}`,this.httpEndpoint=Wc(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(a,i)=>i(JSON.stringify(a)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Fc(()=>x(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window!="undefined"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=jf),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Of}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t!=null?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}removeChannel(e){return x(this,null,function*(){const t=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return x(this,null,function*(){const e=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ts.connecting:return Jt.Connecting;case ts.open:return Jt.Open;case ts.closing:return Jt.Closing;default:return Jt.Closed}}isConnected(){return this.connectionState()===Jt.Open}channel(e,t={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(a=>a.topic===r);if(s)return s;{const a=new li(`realtime:${e}`,t,this);return this.channels.push(a),a}}push(e){const{topic:t,event:r,payload:s,ref:a}=e,i=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${t} ${r} (${a})`,s),this.isConnected()?i():this.sendBuffer.push(i)}setAuth(e=null){return x(this,null,function*(){let t=e||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{const s={access_token:t,version:Pf};t&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(ht.access_token,{access_token:t})}))})}sendHeartbeat(){return x(this,null,function*(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Df,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),yield this.setAuth()})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:s,payload:a,ref:i}=t;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${s} ${i&&"("+i+")"||""}`,a),Array.from(this.channels).filter(o=>o._isMember(r)).forEach(o=>o._trigger(s,a,i)),this.stateChangeCallbacks.message.forEach(o=>o(t))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ht.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${r}${s}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([Zf],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}}class ci extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ge(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class zf extends ci{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Fn extends ci{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Kf=function(n,e,t,r){function s(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function o(d){try{u(r.next(d))}catch(c){i(c)}}function l(d){try{u(r.throw(d))}catch(c){i(c)}}function u(d){d.done?a(d.value):s(d.value).then(o,l)}u((r=r.apply(n,e||[])).next())})};const Zc=n=>{let e;return n?e=n:typeof fetch=="undefined"?e=(...t)=>lr(()=>x(null,null,function*(){const{default:r}=yield Promise.resolve().then(()=>zr);return{default:r}}),void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},Gf=()=>Kf(void 0,void 0,void 0,function*(){return typeof Response=="undefined"?(yield lr(()=>Promise.resolve().then(()=>zr),void 0)).Response:Response}),qn=n=>{if(Array.isArray(n))return n.map(t=>qn(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const s=t.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[s]=qn(r)}),e};var cr=function(n,e,t,r){function s(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function o(d){try{u(r.next(d))}catch(c){i(c)}}function l(d){try{u(r.throw(d))}catch(c){i(c)}}function u(d){d.done?a(d.value):s(d.value).then(o,l)}u((r=r.apply(n,e||[])).next())})};const In=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Vf=(n,e,t)=>cr(void 0,void 0,void 0,function*(){const r=yield Gf();n instanceof r&&!(t!=null&&t.noResolveJson)?n.json().then(s=>{e(new zf(In(s),n.status||500))}).catch(s=>{e(new Fn(In(s),s))}):e(new Fn(In(n),n))}),Yf=(n,e,t,r)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),t))};function os(n,e,t,r,s,a){return cr(this,void 0,void 0,function*(){return new Promise((i,o)=>{n(t,Yf(e,r,s,a)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>Vf(l,o,r))})})}function yn(n,e,t,r){return cr(this,void 0,void 0,function*(){return os(n,"GET",e,t,r)})}function Nt(n,e,t,r,s){return cr(this,void 0,void 0,function*(){return os(n,"POST",e,r,s,t)})}function Jf(n,e,t,r,s){return cr(this,void 0,void 0,function*(){return os(n,"PUT",e,r,s,t)})}function Xf(n,e,t,r){return cr(this,void 0,void 0,function*(){return os(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function Hc(n,e,t,r,s){return cr(this,void 0,void 0,function*(){return os(n,"DELETE",e,r,s,t)})}var st=function(n,e,t,r){function s(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function o(d){try{u(r.next(d))}catch(c){i(c)}}function l(d){try{u(r.throw(d))}catch(c){i(c)}}function u(d){d.done?a(d.value):s(d.value).then(o,l)}u((r=r.apply(n,e||[])).next())})};const Qf={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},io={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class eh{constructor(e,t={},r,s){this.url=e,this.headers=t,this.bucketId=r,this.fetch=Zc(s)}uploadOrUpdate(e,t,r,s){return st(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},io),s);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob!="undefined"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",r)):typeof FormData!="undefined"&&r instanceof FormData?(a=r,a.append("cacheControl",i.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=r,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const u=this._removeEmptyFolders(t),d=this._getFinalPath(u),c=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:a,headers:o},i!=null&&i.duplex?{duplex:i.duplex}:{})),h=yield c.json();return c.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(a){if(Ge(a))return{data:null,error:a};throw a}})}upload(e,t,r){return st(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,s){return st(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),i=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${i}`);o.searchParams.set("token",t);try{let l;const u=Object.assign({upsert:io.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob!="undefined"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData!="undefined"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const c=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:d}),h=yield c.json();return c.ok?{data:{path:a,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(Ge(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return st(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const a=yield Nt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(this.url+a.url),o=i.searchParams.get("token");if(!o)throw new ci("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:o},error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}update(e,t,r){return st(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return st(this,void 0,void 0,function*(){try{return{data:yield Nt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ge(s))return{data:null,error:s};throw s}})}copy(e,t,r){return st(this,void 0,void 0,function*(){try{return{data:{path:(yield Nt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ge(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,r){return st(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),a=yield Nt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(s){if(Ge(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,r){return st(this,void 0,void 0,function*(){try{const s=yield Nt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${a}`):null})),error:null}}catch(s){if(Ge(s))return{data:null,error:s};throw s}})}download(e,t){return st(this,void 0,void 0,function*(){const s=typeof(t==null?void 0:t.transform)!="undefined"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=a?`?${a}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield yn(this.fetch,`${this.url}/${s}/${o}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Ge(o))return{data:null,error:o};throw o}})}info(e){return st(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield yn(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:qn(r),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}exists(e){return st(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield Xf(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ge(r)&&r instanceof Fn){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),s=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&s.push(a);const o=typeof(t==null?void 0:t.transform)!="undefined"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${u}`)}}}remove(e){return st(this,void 0,void 0,function*(){try{return{data:yield Hc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Ge(t))return{data:null,error:t};throw t}})}list(e,t,r){return st(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Qf),t),{prefix:e||""});return{data:yield Nt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Ge(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer!="undefined"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const th="2.7.1",rh={"X-Client-Info":`storage-js/${th}`};var yr=function(n,e,t,r){function s(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function o(d){try{u(r.next(d))}catch(c){i(c)}}function l(d){try{u(r.throw(d))}catch(c){i(c)}}function u(d){d.done?a(d.value):s(d.value).then(o,l)}u((r=r.apply(n,e||[])).next())})};class sh{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},rh),t),this.fetch=Zc(r)}listBuckets(){return yr(this,void 0,void 0,function*(){try{return{data:yield yn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ge(e))return{data:null,error:e};throw e}})}getBucket(e){return yr(this,void 0,void 0,function*(){try{return{data:yield yn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Ge(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return yr(this,void 0,void 0,function*(){try{return{data:yield Nt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return yr(this,void 0,void 0,function*(){try{return{data:yield Jf(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}emptyBucket(e){return yr(this,void 0,void 0,function*(){try{return{data:yield Nt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Ge(t))return{data:null,error:t};throw t}})}deleteBucket(e){return yr(this,void 0,void 0,function*(){try{return{data:yield Hc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Ge(t))return{data:null,error:t};throw t}})}}class ah extends sh{constructor(e,t={},r){super(e,t,r)}from(e){return new eh(this.url,this.headers,e,this.fetch)}}const nh="2.52.0";let es="";typeof Deno!="undefined"?es="deno":typeof document!="undefined"?es="web":typeof navigator!="undefined"&&navigator.product==="ReactNative"?es="react-native":es="node";const ih={"X-Client-Info":`supabase-js-${es}/${nh}`},oh={headers:ih},lh={schema:"public"},ch={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uh={};var dh=function(n,e,t,r){function s(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function o(d){try{u(r.next(d))}catch(c){i(c)}}function l(d){try{u(r.throw(d))}catch(c){i(c)}}function u(d){d.done?a(d.value):s(d.value).then(o,l)}u((r=r.apply(n,e||[])).next())})};const fh=n=>{let e;return n?e=n:typeof fetch=="undefined"?e=Pc:e=fetch,(...t)=>e(...t)},hh=()=>typeof Headers=="undefined"?Oc:Headers,ph=(n,e,t)=>{const r=fh(t),s=hh();return(a,i)=>dh(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:n;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",n),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(a,Object.assign(Object.assign({},i),{headers:u}))})};var gh=function(n,e,t,r){function s(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function o(d){try{u(r.next(d))}catch(c){i(c)}}function l(d){try{u(r.throw(d))}catch(c){i(c)}}function u(d){d.done?a(d.value):s(d.value).then(o,l)}u((r=r.apply(n,e||[])).next())})};function mh(n){return n.endsWith("/")?n:n+"/"}function vh(n,e){var t,r;const{db:s,auth:a,realtime:i,global:o}=n,{db:l,auth:u,realtime:d,global:c}=e,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),i),global:Object.assign(Object.assign(Object.assign({},c),o),{headers:Object.assign(Object.assign({},(t=c==null?void 0:c.headers)!==null&&t!==void 0?t:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>gh(this,void 0,void 0,function*(){return""})};return n.accessToken?h.accessToken=n.accessToken:delete h.accessToken,h}const zc="2.71.1",Br=30*1e3,Wn=3,En=Wn*Br,yh="http://localhost:9999",bh="supabase.auth.token",xh={"X-Client-Info":`gotrue-js/${zc}`},Zn="X-Supabase-Api-Version",Kc={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},wh=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_h=10*60*1e3;class ui extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function Ee(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class Sh extends ui{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function Ah(n){return Ee(n)&&n.name==="AuthApiError"}class Gc extends ui{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class qt extends ui{constructor(e,t,r,s){super(e,r,s),this.name=t,this.status=r}}class Tt extends qt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ih(n){return Ee(n)&&n.name==="AuthSessionMissingError"}class vs extends qt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ys extends qt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class bs extends qt{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Eh(n){return Ee(n)&&n.name==="AuthImplicitGrantRedirectError"}class oo extends qt{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hn extends qt{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Cn(n){return Ee(n)&&n.name==="AuthRetryableFetchError"}class lo extends qt{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class zn extends qt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const bn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),co=` 	
\r=`.split(""),Ch=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<co.length;e+=1)n[co[e].charCodeAt(0)]=-2;for(let e=0;e<bn.length;e+=1)n[bn[e].charCodeAt(0)]=e;return n})();function uo(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(bn[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(bn[r]),e.queuedBits-=6}}function Vc(n,e,t){const r=Ch[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function fo(n){const e=[],t=i=>{e.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=i=>{$h(i,r,t)};for(let i=0;i<n.length;i+=1)Vc(n.charCodeAt(i),s,a);return e.join("")}function kh(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Rh(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|s)+65536,t+=1}kh(r,e)}}function $h(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Th(n){const e=[],t={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<n.length;s+=1)Vc(n.charCodeAt(s),t,r);return new Uint8Array(e)}function jh(n){const e=[];return Rh(n,t=>e.push(t)),new Uint8Array(e)}function Nh(n){const e=[],t={queue:0,queuedBits:0},r=s=>{e.push(s)};return n.forEach(s=>uo(s,t,r)),uo(null,t,r),e.join("")}function Ph(n){return Math.round(Date.now()/1e3)+n}function Oh(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const ft=()=>typeof window!="undefined"&&typeof document!="undefined",zt={tested:!1,writable:!1},Yc=()=>{if(!ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch(e){return!1}if(zt.tested)return zt.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),zt.tested=!0,zt.writable=!0}catch(e){zt.tested=!0,zt.writable=!1}return zt.writable};function Dh(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,a)=>{e[a]=s})}catch(r){}return t.searchParams.forEach((r,s)=>{e[s]=r}),e}const Jc=n=>{let e;return n?e=n:typeof fetch=="undefined"?e=(...t)=>lr(()=>x(null,null,function*(){const{default:r}=yield Promise.resolve().then(()=>zr);return{default:r}}),void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},Mh=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Ur=(n,e,t)=>x(null,null,function*(){yield n.setItem(e,JSON.stringify(t))}),Kt=(n,e)=>x(null,null,function*(){const t=yield n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch(r){return t}}),Rt=(n,e)=>x(null,null,function*(){yield n.removeItem(e)});class xn{constructor(){this.promise=new xn.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}xn.promiseConstructor=Promise;function kn(n){const e=n.split(".");if(e.length!==3)throw new zn("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!wh.test(e[r]))throw new zn("JWT not in base64url format");return{header:JSON.parse(fo(e[0])),payload:JSON.parse(fo(e[1])),signature:Th(e[2]),raw:{header:e[0],payload:e[1]}}}function Lh(n){return x(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),n)})})}function Bh(n,e){return new Promise((r,s)=>{x(null,null,function*(){for(let a=0;a<1/0;a++)try{const i=yield n(a);if(!e(a,null,i)){r(i);return}}catch(i){if(!e(a,i)){s(i);return}}})})}function Uh(n){return("0"+n.toString(16)).substr(-2)}function Fh(){const e=new Uint32Array(56);if(typeof crypto=="undefined"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let s="";for(let a=0;a<56;a++)s+=t.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Uh).join("")}function qh(n){return x(this,null,function*(){const t=new TextEncoder().encode(n),r=yield crypto.subtle.digest("SHA-256",t),s=new Uint8Array(r);return Array.from(s).map(a=>String.fromCharCode(a)).join("")})}function Wh(n){return x(this,null,function*(){if(!(typeof crypto!="undefined"&&typeof crypto.subtle!="undefined"&&typeof TextEncoder!="undefined"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=yield qh(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function br(n,e,t=!1){return x(this,null,function*(){const r=Fh();let s=r;t&&(s+="/PASSWORD_RECOVERY"),yield Ur(n,`${e}-code-verifier`,s);const a=yield Wh(r);return[a,r===a?"plain":"s256"]})}const Zh=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Hh(n){const e=n.headers.get(Zn);if(!e||!e.match(Zh))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch(t){return null}}function zh(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function Kh(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Gh=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xr(n){if(!Gh.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Rn(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ho(n){return JSON.parse(JSON.stringify(n))}var Vh=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Yt=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Yh=[502,503,504];function po(n){return x(this,null,function*(){var e;if(!Mh(n))throw new Hn(Yt(n),0);if(Yh.includes(n.status))throw new Hn(Yt(n),n.status);let t;try{t=yield n.json()}catch(a){throw new Gc(Yt(a),a)}let r;const s=Hh(n);if(s&&s.getTime()>=Kc["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new lo(Yt(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Tt}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0))throw new lo(Yt(t),n.status,t.weak_password.reasons);throw new Sh(Yt(t),n.status||500,r)})}const Jh=(n,e,t,r)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),t))};function Re(n,e,t,r){return x(this,null,function*(){var s;const a=Object.assign({},r==null?void 0:r.headers);a[Zn]||(a[Zn]=Kc["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=yield Xh(n,e,t+o,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}})}function Xh(n,e,t,r,s,a){return x(this,null,function*(){const i=Jh(e,r,s,a);let o;try{o=yield n(t,Object.assign({},i))}catch(l){throw console.error(l),new Hn(Yt(l),0)}if(o.ok||(yield po(o)),r!=null&&r.noResolveJson)return o;try{return yield o.json()}catch(l){yield po(l)}})}function _t(n){var e;let t=null;rp(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=Ph(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function go(n){const e=_t(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Ot(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function Qh(n){return{data:n,error:null}}function ep(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:s,verification_type:a}=n,i=Vh(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:t,hashed_token:r,redirect_to:s,verification_type:a},l=Object.assign({},i);return{data:{properties:o,user:l},error:null}}function tp(n){return n}function rp(n){return n.access_token&&n.refresh_token&&n.expires_in}const $n=["global","local","others"];var sp=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class ap{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=Jc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(r){return x(this,arguments,function*(e,t=$n[0]){if($n.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$n.join(", ")}`);try{return yield Re(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Ee(s))return{data:null,error:s};throw s}})}inviteUserByEmail(r){return x(this,arguments,function*(e,t={}){try{return yield Re(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Ot})}catch(s){if(Ee(s))return{data:{user:null},error:s};throw s}})}generateLink(e){return x(this,null,function*(){try{const{options:t}=e,r=sp(e,["options"]),s=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),yield Re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:ep,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(Ee(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(e){return x(this,null,function*(){try{return yield Re(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ot})}catch(t){if(Ee(t))return{data:{user:null},error:t};throw t}})}listUsers(e){return x(this,null,function*(){var t,r,s,a,i,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=yield Re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:tp});if(d.error)throw d.error;const c=yield d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(b=>{const g=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(b.split(";")[1].split("=")[1]);u[`${p}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},c),u),error:null}}catch(u){if(Ee(u))return{data:{users:[]},error:u};throw u}})}getUserById(e){return x(this,null,function*(){xr(e);try{return yield Re(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ot})}catch(t){if(Ee(t))return{data:{user:null},error:t};throw t}})}updateUserById(e,t){return x(this,null,function*(){xr(e);try{return yield Re(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Ot})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,t=!1){return x(this,null,function*(){xr(e);try{return yield Re(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Ot})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return x(this,null,function*(){xr(e.userId);try{const{data:t,error:r}=yield Re(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:r}}catch(t){if(Ee(t))return{data:null,error:t};throw t}})}_deleteFactor(e){return x(this,null,function*(){xr(e.userId),xr(e.id);try{return{data:yield Re(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Ee(t))return{data:null,error:t};throw t}})}}function mo(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function np(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(n){typeof self!="undefined"&&(self.globalThis=self)}}const wr={debug:!!(globalThis&&Yc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Xc extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ip extends Xc{}function op(n,e,t){return x(this,null,function*(){wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),wr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},s=>x(null,null,function*(){if(s){wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,s.name);try{return yield t()}finally{wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,s.name)}}else{if(e===0)throw wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new ip(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(wr.debug)try{const a=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}})))})}np();const lp={url:yh,storageKey:bh,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xh,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function vo(n,e,t){return x(this,null,function*(){return yield t()})}const _r={};class is{constructor(e){var t,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=is.nextInstanceID,is.nextInstanceID+=1,this.instanceID>0&&ft()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},lp),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new ap({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Jc(s.fetch),this.lock=s.lock||vo,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ft()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=op:this.lock=vo,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Yc()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=mo(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=mo(this.memoryStorage)),ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",a=>x(this,null,function*(){this._debug("received broadcast notification from other tab or client",a),yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}get jwks(){var e,t;return(t=(e=_r[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){_r[this.storageKey]=Object.assign(Object.assign({},_r[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=_r[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){_r[this.storageKey]=Object.assign(Object.assign({},_r[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${zc}) ${new Date().toISOString()}`,...e),this}initialize(){return x(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=x(this,null,function*(){return yield this._acquireLock(-1,()=>x(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return x(this,null,function*(){var e;try{const t=Dh(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":(yield this._isPKCECallback(t))&&(r="pkce"),ft()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:a}=yield this._getSessionFromURL(t,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Eh(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return yield this._removeSession(),{error:a}}const{session:i,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),yield this._saveSession(i),setTimeout(()=>x(this,null,function*(){o==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",i):yield this._notifyAllSubscribers("SIGNED_IN",i)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(t){return Ee(t)?{error:t}:{error:new Gc("Unexpected error during initialization",t)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return x(this,null,function*(){var t,r,s;try{const a=yield Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:_t}),{data:i,error:o}=a;if(o||!i)return{data:{user:null,session:null},error:o};const l=i.session,u=i.user;return i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(Ee(a))return{data:{user:null,session:null},error:a};throw a}})}signUp(e){return x(this,null,function*(){var t,r,s;try{let a;if("email"in e){const{email:d,password:c,options:h}=e;let m=null,b=null;this.flowType==="pkce"&&([m,b]=yield br(this.storage,this.storageKey)),a=yield Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:c,data:(t=h==null?void 0:h.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:b},xform:_t})}else if("phone"in e){const{phone:d,password:c,options:h}=e;a=yield Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:c,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:_t})}else throw new ys("You must provide either an email or phone number and a password");const{data:i,error:o}=a;if(o||!i)return{data:{user:null,session:null},error:o};const l=i.session,u=i.user;return i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(Ee(a))return{data:{user:null,session:null},error:a};throw a}})}signInWithPassword(e){return x(this,null,function*(){try{let t;if("email"in e){const{email:a,password:i,options:o}=e;t=yield Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:go})}else if("phone"in e){const{phone:a,password:i,options:o}=e;t=yield Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:go})}else throw new ys("You must provide either an email or phone number and a password");const{data:r,error:s}=t;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new vs}:(r.session&&(yield this._saveSession(r.session),yield this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(t){if(Ee(t))return{data:{user:null,session:null},error:t};throw t}})}signInWithOAuth(e){return x(this,null,function*(){var t,r,s,a;return yield this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})})}exchangeCodeForSession(e){return x(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>x(this,null,function*(){return this._exchangeCodeForSession(e)}))})}signInWithWeb3(e){return x(this,null,function*(){const{chain:t}=e;if(t==="solana")return yield this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)})}signInWithSolana(e){return x(this,null,function*(){var t,r,s,a,i,o,l,u,d,c,h,m;let b,g;if("message"in e)b=e.message,g=e.signature;else{const{chain:p,wallet:y,statement:I,options:v}=e;let _;if(ft())if(typeof y=="object")_=y;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))_=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const R=new URL((t=v==null?void 0:v.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in _&&_.signIn){const $=yield _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),I?{statement:I}:null));let O;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")O=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)O=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)b=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),g=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${R.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(s=(r=v==null?void 0:v.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((c=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||c===void 0)&&c.length?["Resources",...v.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const $=yield _.signMessage(new TextEncoder().encode(b),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=$}}try{const{data:p,error:y}=yield Re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Nh(g)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:_t});if(y)throw y;return!p||!p.session||!p.user?{data:{user:null,session:null},error:new vs}:(p.session&&(yield this._saveSession(p.session),yield this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:Object.assign({},p),error:y})}catch(p){if(Ee(p))return{data:{user:null,session:null},error:p};throw p}})}_exchangeCodeForSession(e){return x(this,null,function*(){const t=yield Kt(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(t!=null?t:"").split("/");try{const{data:a,error:i}=yield Re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:_t});if(yield Rt(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new vs}:(a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s!=null?s:null}),error:i})}catch(a){if(Ee(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}})}signInWithIdToken(e){return x(this,null,function*(){try{const{options:t,provider:r,token:s,access_token:a,nonce:i}=e,o=yield Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:_t}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new vs}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(t){if(Ee(t))return{data:{user:null,session:null},error:t};throw t}})}signInWithOtp(e){return x(this,null,function*(){var t,r,s,a,i;try{if("email"in e){const{email:o,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=yield br(this.storage,this.storageKey));const{error:c}=yield Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:c}}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:d}=yield Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new ys("You must provide either an email or phone number.")}catch(o){if(Ee(o))return{data:{user:null,session:null},error:o};throw o}})}verifyOtp(e){return x(this,null,function*(){var t,r;try{let s,a;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:o}=yield Re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:_t});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,u=i.user;return l!=null&&l.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(Ee(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithSSO(e){return x(this,null,function*(){var t,r,s;try{let a=null,i=null;return this.flowType==="pkce"&&([a,i]=yield br(this.storage,this.storageKey)),yield Re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:Qh})}catch(a){if(Ee(a))return{data:null,error:a};throw a}})}reauthenticate(){return x(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>x(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return x(this,null,function*(){try{return yield this._useSession(e=>x(this,null,function*(){const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Tt;const{error:s}=yield Re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}}))}catch(e){if(Ee(e))return{data:{user:null,session:null},error:e};throw e}})}resend(e){return x(this,null,function*(){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:a}=e,{error:i}=yield Re(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:r,type:s,options:a}=e,{data:i,error:o}=yield Re(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:o}}throw new ys("You must provide either an email or phone number and a type")}catch(t){if(Ee(t))return{data:{user:null,session:null},error:t};throw t}})}getSession(){return x(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>x(this,null,function*(){return this._useSession(t=>x(this,null,function*(){return t}))}))})}_acquireLock(e,t){return x(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=x(this,null,function*(){return yield r,yield t()});return this.pendingInLock.push(x(this,null,function*(){try{yield s}catch(a){}})),s}return yield this.lock(`lock:${this.storageKey}`,e,()=>x(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push(x(this,null,function*(){try{yield r}catch(s){}})),yield r;this.pendingInLock.length;){const s=[...this.pendingInLock];yield Promise.all(s),this.pendingInLock.splice(0,s.length)}return yield r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return x(this,null,function*(){this._debug("#_useSession","begin");try{const t=yield this.__loadSession();return yield e(t)}finally{this._debug("#_useSession","end")}})}__loadSession(){return x(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=yield Kt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<En:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const i=yield Kt(this.userStorage,this.storageKey+"-user");i!=null&&i.user?e.user=i.user:e.user=Rn()}if(this.storage.isServer&&e.user){let i=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}const{session:s,error:a}=yield this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(e){return x(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>x(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return x(this,null,function*(){try{return e?yield Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ot}):yield this._useSession(t=>x(this,null,function*(){var r,s,a;const{data:i,error:o}=t;if(o)throw o;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tt}:yield Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Ot})}))}catch(t){if(Ee(t))return Ih(t)&&(yield this._removeSession(),yield Rt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}})}updateUser(r){return x(this,arguments,function*(e,t={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>x(this,null,function*(){return yield this._updateUser(e,t)}))})}_updateUser(r){return x(this,arguments,function*(e,t={}){try{return yield this._useSession(s=>x(this,null,function*(){const{data:a,error:i}=s;if(i)throw i;if(!a.session)throw new Tt;const o=a.session;let l=null,u=null;this.flowType==="pkce"&&e.email!=null&&([l,u]=yield br(this.storage,this.storageKey));const{data:d,error:c}=yield Re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:Ot});if(c)throw c;return o.user=d.user,yield this._saveSession(o),yield this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}}))}catch(s){if(Ee(s))return{data:{user:null},error:s};throw s}})}setSession(e){return x(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>x(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return x(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new Tt;const t=Date.now()/1e3;let r=t,s=!0,a=null;const{payload:i}=kn(e.access_token);if(i.exp&&(r=i.exp,s=r<=t),s){const{session:o,error:l}=yield this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=yield this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-t,expires_at:r},yield this._saveSession(a),yield this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(Ee(t))return{data:{session:null,user:null},error:t};throw t}})}refreshSession(e){return x(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>x(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return x(this,null,function*(){try{return yield this._useSession(t=>x(this,null,function*(){var r;if(!e){const{data:i,error:o}=t;if(o)throw o;e=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Tt;const{session:s,error:a}=yield this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(Ee(t))return{data:{user:null,session:null},error:t};throw t}})}_getSessionFromURL(e,t){return x(this,null,function*(){try{if(!ft())throw new bs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new bs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new oo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bs("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new oo("No code detected.");const{data:I,error:v}=yield this._exchangeCodeForSession(e.code);if(v)throw v;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:a,refresh_token:i,expires_in:o,expires_at:l,token_type:u}=e;if(!a||!o||!i||!u)throw new bs("No session defined in URL");const d=Math.round(Date.now()/1e3),c=parseInt(o);let h=d+c;l&&(h=parseInt(l));const m=h-d;m*1e3<=Br&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${c}s`);const b=h-c;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,h,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,h,d);const{data:g,error:p}=yield this._getUser(a);if(p)throw p;const y={provider_token:r,provider_refresh_token:s,access_token:a,expires_in:c,expires_at:h,refresh_token:i,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(r){if(Ee(r))return{data:{session:null,redirectType:null},error:r};throw r}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return x(this,null,function*(){const t=yield Kt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)})}signOut(){return x(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>x(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return x(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(t=>x(this,null,function*(){var r;const{data:s,error:a}=t;if(a)return{error:a};const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:o}=yield this.admin.signOut(i,e);if(o&&!(Ah(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(yield this._removeSession(),yield Rt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(e){const t=Oh(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),x(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>x(this,null,function*(){this._emitInitialSession(t)}))}),{data:{subscription:r}}}_emitInitialSession(e){return x(this,null,function*(){return yield this._useSession(t=>x(this,null,function*(){var r,s;try{const{data:{session:a},error:i}=t;if(i)throw i;yield(r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){yield(s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}}))})}resetPasswordForEmail(r){return x(this,arguments,function*(e,t={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=yield br(this.storage,this.storageKey,!0));try{return yield Re(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(Ee(i))return{data:null,error:i};throw i}})}getUserIdentities(){return x(this,null,function*(){var e;try{const{data:t,error:r}=yield this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(Ee(t))return{data:null,error:t};throw t}})}linkIdentity(e){return x(this,null,function*(){var t;try{const{data:r,error:s}=yield this._useSession(a=>x(this,null,function*(){var i,o,l,u,d;const{data:c,error:h}=a;if(h)throw h;const m=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield Re(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=c.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(s)throw s;return ft()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ee(r))return{data:{provider:e.provider,url:null},error:r};throw r}})}unlinkIdentity(e){return x(this,null,function*(){try{return yield this._useSession(t=>x(this,null,function*(){var r,s;const{data:a,error:i}=t;if(i)throw i;return yield Re(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})}))}catch(t){if(Ee(t))return{data:null,error:t};throw t}})}_refreshAccessToken(e){return x(this,null,function*(){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return yield Bh(s=>x(this,null,function*(){return s>0&&(yield Lh(200*Math.pow(2,s-1))),this._debug(t,"refreshing attempt",s),yield Re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:_t})}),(s,a)=>{const i=200*Math.pow(2,s);return a&&Cn(a)&&Date.now()+i-r<Br})}catch(r){if(this._debug(t,"error",r),Ee(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,t){return x(this,null,function*(){const r=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),ft()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}})}_recoverAndRefresh(){return x(this,null,function*(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=yield Kt(this.storage,this.storageKey);if(s&&this.userStorage){let i=yield Kt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},yield Ur(this.userStorage,this.storageKey+"-user",i)),s.user=(e=i==null?void 0:i.user)!==null&&e!==void 0?e:Rn()}else if(s&&!s.user&&!s.user){const i=yield Kt(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,yield Rt(this.storage,this.storageKey+"-user"),yield Ur(this.storage,this.storageKey,s)):s.user=Rn()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&(yield this._removeSession());return}const a=((t=s.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<En;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${En}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=yield this._callRefreshToken(s.refresh_token);i&&(console.error(i),Cn(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),yield this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:o}=yield this._getUser(s.access_token);!o&&(i!=null&&i.user)?(s.user=i.user,yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(r,"error getting user data, skipping SIGNED_IN notification",i)}else yield this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}})}_callRefreshToken(e){return x(this,null,function*(){var t,r;if(!e)throw new Tt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new xn;const{data:a,error:i}=yield this._refreshAccessToken(e);if(i)throw i;if(!a.session)throw new Tt;yield this._saveSession(a.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(s,"error",a),Ee(a)){const i={session:null,error:a};return Cn(a)||(yield this._removeSession()),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}})}_notifyAllSubscribers(e,t,r=!0){return x(this,null,function*(){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const a=[],i=Array.from(this.stateChangeEmitters.values()).map(o=>x(this,null,function*(){try{yield o.callback(e,t)}catch(l){a.push(l)}}));if(yield Promise.all(i),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(s,"end")}})}_saveSession(e){return x(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),r=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&t.user&&(yield Ur(this.userStorage,this.storageKey+"-user",{user:t.user}));const s=Object.assign({},t);delete s.user;const a=ho(s);yield Ur(this.storage,this.storageKey,a)}else{const s=ho(t);yield Ur(this.storage,this.storageKey,s)}})}_removeSession(){return x(this,null,function*(){this._debug("#_removeSession()"),yield Rt(this.storage,this.storageKey),yield Rt(this.storage,this.storageKey+"-code-verifier"),yield Rt(this.storage,this.storageKey+"-user"),this.userStorage&&(yield Rt(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ft()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}_startAutoRefresh(){return x(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Br);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno!="undefined"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>x(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return x(this,null,function*(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return x(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return x(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return x(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>x(this,null,function*(){try{const e=Date.now();try{return yield this._useSession(t=>x(this,null,function*(){const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Br);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Br}ms, refresh threshold is ${Wn} ticks`),s<=Wn&&(yield this._callRefreshToken(r.refresh_token))}))}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof Xc)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return x(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!ft()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>x(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return x(this,null,function*(){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>x(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,t,r){return x(this,null,function*(){const s=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,i]=yield br(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(o.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);s.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`})}_unenroll(e){return x(this,null,function*(){try{return yield this._useSession(t=>x(this,null,function*(){var r;const{data:s,error:a}=t;return a?{data:null,error:a}:yield Re(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})}))}catch(t){if(Ee(t))return{data:null,error:t};throw t}})}_enroll(e){return x(this,null,function*(){try{return yield this._useSession(t=>x(this,null,function*(){var r,s;const{data:a,error:i}=t;if(i)return{data:null,error:i};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=yield Re(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})}))}catch(t){if(Ee(t))return{data:null,error:t};throw t}})}_verify(e){return x(this,null,function*(){return this._acquireLock(-1,()=>x(this,null,function*(){try{return yield this._useSession(t=>x(this,null,function*(){var r;const{data:s,error:a}=t;if(a)return{data:null,error:a};const{data:i,error:o}=yield Re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:o})}))}catch(t){if(Ee(t))return{data:null,error:t};throw t}}))})}_challenge(e){return x(this,null,function*(){return this._acquireLock(-1,()=>x(this,null,function*(){try{return yield this._useSession(t=>x(this,null,function*(){var r;const{data:s,error:a}=t;return a?{data:null,error:a}:yield Re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})}))}catch(t){if(Ee(t))return{data:null,error:t};throw t}}))})}_challengeAndVerify(e){return x(this,null,function*(){const{data:t,error:r}=yield this._challenge({factorId:e.factorId});return r?{data:null,error:r}:yield this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})})}_listFactors(){return x(this,null,function*(){const{data:{user:e},error:t}=yield this.getUser();if(t)return{data:null,error:t};const r=(e==null?void 0:e.factors)||[],s=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),a=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:s,phone:a},error:null}})}_getAuthenticatorAssuranceLevel(){return x(this,null,function*(){return this._acquireLock(-1,()=>x(this,null,function*(){return yield this._useSession(e=>x(this,null,function*(){var t,r;const{data:{session:s},error:a}=e;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=kn(s.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(t=s.user.factors)===null||t===void 0?void 0:t.filter(c=>c.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}))})}fetchJwk(r){return x(this,arguments,function*(e,t={keys:[]}){let s=t.keys.find(l=>l.kid===e);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(l=>l.kid===e),s&&this.jwks_cached_at+_h>a)return s;const{data:i,error:o}=yield Re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,s=i.keys.find(l=>l.kid===e),!s)?null:s})}getClaims(r){return x(this,arguments,function*(e,t={}){try{let s=e;if(!s){const{data:b,error:g}=yield this.getSession();if(g||!b.session)return{data:null,error:g};s=b.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:u}}=kn(s);t!=null&&t.allowExpired||zh(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(a.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!d){const{error:b}=yield this.getUser(s);if(b)throw b;return{data:{claims:i,header:a,signature:o},error:null}}const c=Kh(a.alg),h=yield crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!(yield crypto.subtle.verify(c,h,o,jh(`${l}.${u}`))))throw new zn("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(s){if(Ee(s))return{data:null,error:s};throw s}})}}is.nextInstanceID=0;const cp=is;class up extends cp{constructor(e){super(e)}}var dp=function(n,e,t,r){function s(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function o(d){try{u(r.next(d))}catch(c){i(c)}}function l(d){try{u(r.throw(d))}catch(c){i(c)}}function u(d){d.done?a(d.value):s(d.value).then(o,l)}u((r=r.apply(n,e||[])).next())})};class fp{constructor(e,t,r){var s,a,i;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=mh(e),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:lh,realtime:uh,auth:Object.assign(Object.assign({},ch),{storageKey:u}),global:oh},c=vh(r!=null?r:{},d);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=c.auth)!==null&&i!==void 0?i:{},this.headers,c.global.fetch),this.fetch=ph(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new $f(new URL("rest/v1",l).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new yf(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ah(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return dp(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,storageKey:a,flowType:i,lock:o,debug:l},u,d){const c={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new up({url:this.authUrl.href,headers:Object.assign(Object.assign({},c),u),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,flowType:i,lock:o,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Hf(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const hp=(n,e,t)=>new fp(n,e,t),Xt=class Xt{constructor(){ce(this,"isDevelopment");ce(this,"logHistory",[]);ce(this,"maxHistorySize",100);ce(this,"levelPriority",{debug:0,info:1,warn:2,error:3});ce(this,"productionMinLevel","warn");ce(this,"wallpaper",{debug:(e,t)=>this.debug(e,t,"Wallpaper"),info:(e,t)=>this.info(e,t,"Wallpaper"),warn:(e,t)=>this.warn(e,t,"Wallpaper"),error:(e,t)=>this.error(e,t,"Wallpaper")});ce(this,"favicon",{debug:(e,t)=>this.debug(e,t,"Favicon"),info:(e,t)=>this.info(e,t,"Favicon"),warn:(e,t)=>this.warn(e,t,"Favicon"),error:(e,t)=>this.error(e,t,"Favicon")});ce(this,"sync",{debug:(e,t)=>this.debug(e,t,"Sync"),info:(e,t)=>this.info(e,t,"Sync"),warn:(e,t)=>this.warn(e,t,"Sync"),error:(e,t)=>this.error(e,t,"Sync")});ce(this,"cache",{debug:(e,t)=>this.debug(e,t,"Cache"),info:(e,t)=>this.info(e,t,"Cache"),warn:(e,t)=>this.warn(e,t,"Cache"),error:(e,t)=>this.error(e,t,"Cache")});this.isDevelopment=!1}static getInstance(){return Xt.instance||(Xt.instance=new Xt),Xt.instance}shouldLog(e){return this.isDevelopment?!0:this.levelPriority[e]>=this.levelPriority[this.productionMinLevel]}formatMessage(e,t,r){const s=new Date().toISOString().split("T")[1].split(".")[0],a=r?`[${r}]`:"";return`${this.getEmoji(e)} ${s} ${a} ${t}`}getEmoji(e){return{debug:"",info:"",warn:"",error:""}[e]}addToHistory(e){this.logHistory.push(e),this.logHistory.length>this.maxHistorySize&&(this.logHistory=this.logHistory.slice(-this.maxHistorySize))}log(e,t,r,s){const a={level:e,message:t,data:r,timestamp:Date.now(),category:s};if(this.addToHistory(a),!this.shouldLog(e))return;const i=this.formatMessage(e,t,s);switch(e){case"debug":console.log(i,r||"");break;case"info":console.info(i,r||"");break;case"warn":console.warn(i,r||"");break;case"error":console.error(i,r||"");break}}debug(e,t,r){this.log("debug",e,t,r)}info(e,t,r){this.log("info",e,t,r)}warn(e,t,r){this.log("warn",e,t,r)}error(e,t,r){this.log("error",e,t,r)}getHistory(e,t){let r=this.logHistory;return e&&(r=r.filter(s=>s.level===e)),t&&(r=r.filter(s=>s.category===t)),r.slice().reverse()}clearHistory(){this.logHistory=[]}exportLogs(){return JSON.stringify(this.logHistory,null,2)}getStats(){const e={total:this.logHistory.length,byLevel:{debug:0,info:0,warn:0,error:0},byCategory:{}};return this.logHistory.forEach(t=>{e.byLevel[t.level]++,t.category&&(e.byCategory[t.category]=(e.byCategory[t.category]||0)+1)}),e}};ce(Xt,"instance");let Kn=Xt;const D=Kn.getInstance(),Qc="https://wxheqargopbsrruootyr.supabase.co",eu="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind4aGVxYXJnb3Bic3JydW9vdHlyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI4MTc5MzMsImV4cCI6MjA2ODM5MzkzM30.KWm3ww5Ang42Bswim-O-CHtd6GwBIWZepUy359Bk7Yw";D.debug("",{NODE_ENV:"production",VITE_SUPABASE_URL:` (${Qc.substring(0,30)}...)`,VITE_SUPABASE_ANON_KEY:` (${eu.substring(0,30)}...)`});const qe=hp(Qc,eu,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});D.info("Supabase");const or={USER_PROFILES:"user_profiles",USER_SETTINGS:"user_settings",USER_WEBSITES:"user_websites"},pp=(n,e)=>x(null,null,function*(){try{const t=yield fetch(n);if(!t.ok)throw new Error(`: ${t.status}`);const r=yield t.blob(),s=Date.now(),o=`favicons/${`${e}_${s}.png`}`,{error:l}=yield qe.storage.from("favicons").upload(o,r,{contentType:r.type||"image/png"});if(l)throw new Error(`: ${l.message}`);const{data:u}=qe.storage.from("favicons").getPublicUrl(o);return u.publicUrl}catch(t){return D.error("Supabase",t),n}}),gp=ff({name:gs().min(1,""),url:gs().url(""),favicon:gs().url("URL"),note:gs().optional()});function mp({id:n,name:e,url:t,favicon:r,tags:s,note:a,onClose:i,onSave:o,onDelete:l}){const[u,d]=A.useState({name:e,url:t,favicon:r,note:a||""}),[c,h]=A.useState(s||[]),[m,b]=A.useState(""),[g,p]=A.useState({}),[y,I]=A.useState(!1),[v,_]=A.useState(!1);A.useEffect(()=>{const M=ue=>{ue.key==="Escape"&&i()};return document.addEventListener("keydown",M),()=>{document.removeEventListener("keydown",M)}},[i]);const R=()=>{m.trim()&&c.length<2&&!c.includes(m.trim())&&(h([...c,m.trim()]),b(""))},$=M=>{h(c.filter((ue,oe)=>oe!==M))},O=M=>{M.key==="Enter"&&(M.preventDefault(),R())},N=M=>["https://api.allorigins.win/raw?url="+encodeURIComponent(`https://favicon.im/${M}?larger=true`),`https://favicon.im/${M}?larger=true`,`https://www.google.com/s2/favicons?domain=${M}&sz=64`,`https://www.google.com/s2/favicons?domain=${M}&sz=32`,`https://icons.duckduckgo.com/ip3/${M}.ico`,`https://${M}/favicon.ico`,`https://${M}/favicon.png`,"/icon/favicon.png"],k=M=>new Promise((ue,oe)=>{const te=new Image;te.onload=()=>ue(M),te.onerror=()=>oe(new Error(`: ${M}`)),te.src=M,setTimeout(()=>oe(new Error(`: ${M}`)),3e3)}),T=()=>x(null,null,function*(){if(!u.url||!u.url.startsWith("http")){p({url:"(http://https://)"});return}try{I(!0);const M=new URL(u.url).hostname,oe=(me=>{try{return new URL(me).hostname.replace(/^www\./,"")}catch(Ae){return me.replace(/^(https?:\/\/)?(www\.)?/,"").split("/")[0]}})(u.url);console.log(" :",oe);try{const me="favicon-cache-simple",Ae=localStorage.getItem(me);if(Ae){const Ce=JSON.parse(Ae);delete Ce[oe],localStorage.setItem(me,JSON.stringify(Ce))}}catch(me){console.warn(":",me)}const te=N(oe);let ye="/icon/favicon.png";console.log(" ...");for(const me of te)try{console.log(` : ${me}`),yield k(me),ye=me,console.log(` : ${me}`);break}catch(Ae){console.log(` : ${me}`);continue}d(me=>ee(C({},me),{favicon:ye})),d(me=>ee(C({},me),{name:M.replace("www.","").split(".")[0]})),p(me=>{const Ae=C({},me);return delete Ae.url,Ae}),console.log(" :",ye)}catch(M){console.error(":",M),p({url:""})}finally{I(!1)}}),q=M=>x(null,null,function*(){M.preventDefault();try{_(!0);const ue=gp.safeParse(u);if(!ue.success){const ye={};ue.error.errors.forEach(me=>{ye[me.path[0]]=me.message}),p(ye);return}const oe=u.note||"";let te=u.favicon;if(u.favicon!==r){console.log(" ...");try{te=yield pp(u.favicon,n),console.log(" :",te)}catch(ye){console.warn(" URL:",ye)}}else console.log(" ");if(u.favicon!==r){console.log(" Favicon ");const me=(Ae=>{try{return new URL(Ae).hostname.replace(/^www\./,"")}catch(Ce){return Ae.replace(/^(https?:\/\/)?(www\.)?/,"").split("/")[0]}})(u.url);try{const Ae="favicon-cache-simple",Ce=localStorage.getItem(Ae);if(Ce){const L=JSON.parse(Ce);delete L[me],localStorage.setItem(Ae,JSON.stringify(L)),console.log(" :",me)}}catch(Ae){console.warn(":",Ae)}}o({id:n,name:u.name,url:u.url,favicon:te,tags:c,note:oe}),i()}catch(ue){console.error(":",ue),p({submit:""})}finally{_(!1)}}),W=M=>{const{name:ue,value:oe}=M.target;d(te=>ee(C({},te),{[ue]:oe})),g[ue]&&p(te=>{const ye=C({},te);return delete ye[ue],ye})};return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 select-none",children:f.jsx(ai,{tiltEnable:!0,tiltReverse:!1,tiltMaxAngleX:8,tiltMaxAngleY:8,perspective:1200,transitionSpeed:800,scale:1.02,glareEnable:!0,glareMaxOpacity:.15,glareColor:"rgba(255,255,255,0.8)",glarePosition:"all",children:f.jsxs(Se.div,{className:"w-full max-w-md bg-white rounded-xl shadow-xl p-6 select-none",initial:{opacity:0,scale:.9,rotateX:-10},animate:{opacity:1,scale:1,rotateX:0},exit:{opacity:0,scale:.9,rotateX:10},transition:{type:"spring",damping:25,stiffness:200,duration:.4},style:{background:"linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.9) 100%)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.3)"},children:[f.jsxs("div",{className:"flex justify-between items-center mb-4 select-none",children:[f.jsx("h2",{className:"text-xl font-semibold select-none bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent",children:""}),f.jsx(Se.button,{onClick:i,className:"text-gray-500 hover:text-gray-700 select-none p-2 rounded-full hover:bg-gray-100 transition-colors",whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},children:f.jsx("i",{className:"fa-solid fa-xmark select-none"})})]}),f.jsxs("form",{onSubmit:q,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 select-none",children:""}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"url",name:"url",value:u.url,onChange:W,className:"flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com"}),f.jsx(Se.button,{type:"button",onClick:T,disabled:y||!u.url,className:"px-3 py-2 text-white rounded-md select-none bg-gradient-to-b from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 disabled:from-blue-300 disabled:to-blue-400 disabled:cursor-not-allowed shadow-sm",whileHover:y||!u.url?{}:{scale:1.05,y:-1},whileTap:y||!u.url?{}:{scale:.95,y:0},transition:{type:"spring",stiffness:400,damping:25},children:y?f.jsxs(f.Fragment,{children:[f.jsx(Se.i,{className:"fa-solid fa-spinner mr-1",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),"..."]}):""})]}),g.url&&f.jsx("p",{className:"mt-1 text-sm text-red-500 select-none",children:g.url})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 select-none",children:""}),f.jsx("input",{type:"text",name:"name",value:u.name,onChange:W,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""}),g.name&&f.jsx("p",{className:"mt-1 text-sm text-red-500 select-none",children:g.name})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 select-none",children:""}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"flex-1",children:f.jsx("input",{type:"url",name:"favicon",value:u.favicon,onChange:W,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/favicon.ico"})}),f.jsx("span",{className:"text-gray-400 select-none",children:""}),f.jsxs("label",{className:"cursor-pointer select-none",children:[f.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:M=>{var oe;const ue=(oe=M.target.files)==null?void 0:oe[0];if(ue){const te=new FileReader;te.onload=ye=>{var me;(me=ye.target)!=null&&me.result&&d(Ae=>{var Ce;return ee(C({},Ae),{favicon:(Ce=ye.target)==null?void 0:Ce.result})})},te.readAsDataURL(ue)}}}),f.jsxs("div",{className:"px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-md text-sm text-gray-700 transition-colors select-none",children:[f.jsx("i",{className:"fa-solid fa-upload mr-1 select-none"}),""]})]})]}),u.favicon&&f.jsxs("div",{className:"mt-2 flex items-center select-none",children:[f.jsx("img",{src:u.favicon,alt:"",className:"w-8 h-8 rounded mr-2 select-none"}),f.jsx("span",{className:"text-xs text-gray-500 truncate max-w-xs select-none",children:u.favicon.startsWith("data:image")?"":u.favicon})]}),g.favicon&&f.jsx("p",{className:"mt-1 text-sm text-red-500 select-none",children:g.favicon})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 select-none",children:" (2)"}),f.jsxs("div",{className:"space-y-2",children:[c.length>0&&f.jsx("div",{className:"flex flex-wrap gap-2",children:c.map((M,ue)=>f.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:[M,f.jsx("button",{type:"button",onClick:()=>$(ue),className:"hover:bg-blue-200 rounded-full p-0.5 transition-colors",children:f.jsx("i",{className:"fa-solid fa-times text-xs"})})]},ue))}),c.length<2&&f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:m,onChange:M=>b(M.target.value),onKeyDown:O,className:"flex-1 px-3 py-2 text-sm border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"...",maxLength:10}),f.jsx(Se.button,{type:"button",onClick:R,disabled:!m.trim()||c.includes(m.trim()),className:"px-3 py-2 text-white text-sm rounded-md select-none bg-gradient-to-b from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 disabled:from-gray-300 disabled:to-gray-400 disabled:cursor-not-allowed shadow-sm",whileHover:!m.trim()||c.includes(m.trim())?{}:{scale:1.05,y:-1},whileTap:!m.trim()||c.includes(m.trim())?{}:{scale:.95,y:0},transition:{type:"spring",stiffness:400,damping:25},children:""})]}),f.jsxs("div",{className:"text-xs text-gray-500",children:[c.length===0&&"",c.length===1&&"1",c.length===2&&""]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 select-none",children:""}),f.jsx("textarea",{name:"note",value:u.note,onChange:W,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"..."})]}),f.jsxs("div",{className:"flex flex-col gap-4 pt-4 select-none",children:[f.jsxs("div",{className:"flex gap-2 select-none",children:[f.jsx(Se.button,{type:"button",onClick:i,className:"flex-1 px-4 py-2 text-gray-700 border rounded-md select-none bg-gradient-to-b from-gray-50 to-gray-100 hover:from-gray-100 hover:to-gray-200 shadow-sm border-gray-200",whileHover:{scale:1.02,y:-1},whileTap:{scale:.98,y:0},transition:{type:"spring",stiffness:400,damping:25},children:""}),f.jsx(Se.button,{type:"submit",disabled:v,className:"flex-1 px-4 py-2 text-white rounded-md select-none bg-gradient-to-b from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 disabled:from-blue-300 disabled:to-blue-400 disabled:cursor-not-allowed shadow-md",whileHover:v?{}:{scale:1.02,y:-1},whileTap:v?{}:{scale:.98,y:0},transition:{type:"spring",stiffness:400,damping:25},children:v?f.jsxs(f.Fragment,{children:[f.jsx(Se.i,{className:"fa-solid fa-spinner mr-2",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),"..."]}):""})]}),g.submit&&f.jsx("p",{className:"text-red-500 text-sm text-center select-none",children:g.submit}),l&&f.jsxs(Se.button,{type:"button",onClick:()=>{confirm("")&&(l(n),i())},className:"w-full px-4 py-2 text-white rounded-md select-none bg-gradient-to-b from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 shadow-md border border-red-400",whileHover:{scale:1.02,y:-1},whileTap:{scale:.98,y:0},transition:{type:"spring",stiffness:400,damping:25},children:[f.jsx(Se.i,{className:"fa-solid fa-trash mr-2 select-none",whileHover:{rotate:[0,-10,10,0]},transition:{duration:.5}}),""]})]})]})]})})})}const fm=[{name:"",rgb:"0, 0, 0",preview:"#000000"},{name:"",rgb:"255, 255, 255",preview:"#ffffff"},{name:"",rgb:"239, 68, 68",preview:"#ef4444"},{name:"",rgb:"245, 158, 11",preview:"#f59e0b"},{name:"",rgb:"59, 130, 246",preview:"#3b82f6"},{name:"",rgb:"34, 197, 94",preview:"#22c55e"},{name:"",rgb:"147, 51, 234",preview:"#9333ea"},{name:"",rgb:"236, 72, 153",preview:"#ec4899"}],tu=A.createContext(void 0);function vp({children:n}){const[e,t]=A.useState(()=>{const re=localStorage.getItem("cardOpacity");let Pe=re?parseFloat(re):.1;return Pe>1&&(Pe=Pe/100),Math.max(.05,Math.min(1,Pe))}),[r,s]=A.useState(()=>{const re=localStorage.getItem("searchBarOpacity");let Pe=re?parseFloat(re):.1;return Pe>1&&(Pe=Pe/100),Math.max(.05,Math.min(1,Pe))}),[a,i]=A.useState(()=>{const re=localStorage.getItem("parallaxEnabled");return re?JSON.parse(re):!0}),[o,l]=A.useState(()=>localStorage.getItem("cardColor")||"255, 255, 255"),[u,d]=A.useState(()=>localStorage.getItem("searchBarColor")||"255, 255, 255"),c=()=>window.innerHeight>window.innerWidth?"mobile":"1080p",[h,m]=A.useState(()=>localStorage.getItem("wallpaperResolution")||c()),[b,g]=A.useState(!1),[p,y]=A.useState(!1),[I,v]=A.useState(()=>{const re=localStorage.getItem("autoSyncEnabled");return re?re==="true":!0}),[_,R]=A.useState(()=>{const re=localStorage.getItem("autoSyncInterval"),Pe=re?parseInt(re):30;return Math.max(3,Math.min(60,Pe))}),[$,O]=A.useState(()=>{const re=localStorage.getItem("searchInNewTab");return re?re==="true":!0}),[N,k]=A.useState(!1),[T,q]=A.useState(()=>{const re=localStorage.getItem("timeComponentEnabled");return re?re==="true":!0}),[W,M]=A.useState(()=>{const re=localStorage.getItem("showFullDate");return re?re==="true":!0}),[ue,oe]=A.useState(()=>{const re=localStorage.getItem("showSeconds");return re?re==="true":!0}),[te,ye]=A.useState(()=>{const re=localStorage.getItem("showWeekday");return re?re==="true":!0}),[me,Ae]=A.useState(()=>{const re=localStorage.getItem("showYear");return re?re==="true":!0}),[Ce,L]=A.useState(()=>{const re=localStorage.getItem("showMonth");return re?re==="true":!0}),[Y,Z]=A.useState(()=>{const re=localStorage.getItem("showDay");return re?re==="true":!0}),[ge,Ne]=A.useState(()=>localStorage.getItem("dateDisplayMode")||"yearMonthDay"),[be,ze]=A.useState(()=>{const re=localStorage.getItem("searchBarBorderRadius"),Pe=re?parseInt(re):9999;return Math.max(0,Math.min(50,Pe))});return A.useEffect(()=>{try{const re=localStorage.getItem("autoSortEnabled");re!==null&&k(re==="true")}catch(re){console.warn("Failed to read autoSortEnabled from localStorage:",re)}},[]),A.useEffect(()=>{localStorage.setItem("cardOpacity",e.toString())},[e]),A.useEffect(()=>{localStorage.setItem("searchBarOpacity",r.toString())},[r]),A.useEffect(()=>{localStorage.setItem("parallaxEnabled",JSON.stringify(a))},[a]),A.useEffect(()=>{localStorage.setItem("wallpaperResolution",h)},[h]),A.useEffect(()=>{localStorage.setItem("autoSyncEnabled",I.toString())},[I]),A.useEffect(()=>{localStorage.setItem("autoSyncInterval",_.toString())},[_]),A.useEffect(()=>{localStorage.setItem("cardColor",o)},[o]),A.useEffect(()=>{localStorage.setItem("searchBarColor",u)},[u]),A.useEffect(()=>{localStorage.setItem("searchInNewTab",$.toString())},[$]),A.useEffect(()=>{localStorage.setItem("autoSortEnabled",N.toString())},[N]),A.useEffect(()=>{localStorage.setItem("timeComponentEnabled",T.toString())},[T]),A.useEffect(()=>{localStorage.setItem("showFullDate",W.toString())},[W]),A.useEffect(()=>{localStorage.setItem("showSeconds",ue.toString())},[ue]),A.useEffect(()=>{localStorage.setItem("showWeekday",te.toString())},[te]),A.useEffect(()=>{localStorage.setItem("showYear",me.toString())},[me]),A.useEffect(()=>{localStorage.setItem("showMonth",Ce.toString())},[Ce]),A.useEffect(()=>{localStorage.setItem("showDay",Y.toString())},[Y]),A.useEffect(()=>{localStorage.setItem("dateDisplayMode",ge)},[ge]),A.useEffect(()=>{localStorage.setItem("searchBarBorderRadius",be.toString())},[be]),f.jsx(tu.Provider,{value:{cardOpacity:e,searchBarOpacity:r,parallaxEnabled:a,wallpaperResolution:h,isSettingsOpen:b,isSearchFocused:p,cardColor:o,searchBarColor:u,autoSyncEnabled:I,autoSyncInterval:_,searchInNewTab:$,autoSortEnabled:N,timeComponentEnabled:T,showFullDate:W,showSeconds:ue,showWeekday:te,showYear:me,showMonth:Ce,showDay:Y,dateDisplayMode:ge,searchBarBorderRadius:be,setCardOpacity:t,setSearchBarOpacity:s,setParallaxEnabled:i,setWallpaperResolution:m,setIsSettingsOpen:g,setIsSearchFocused:y,setCardColor:l,setSearchBarColor:d,setAutoSyncEnabled:v,setAutoSyncInterval:R,setSearchInNewTab:O,setAutoSortEnabled:k,setTimeComponentEnabled:q,setShowFullDate:M,setShowSeconds:oe,setShowWeekday:ye,setShowYear:Ae,setShowMonth:L,setShowDay:Z,setDateDisplayMode:Ne,setSearchBarBorderRadius:ze},children:n})}function Ft(){const n=A.useContext(tu);if(n===void 0)throw new Error("useTransparency must be used within a TransparencyProvider");return n}const Qt=class Qt{constructor(){ce(this,"db",null);ce(this,"dbName","WallpaperCache");ce(this,"version",1);ce(this,"storeName","images")}static getInstance(){return Qt.instance||(Qt.instance=new Qt),Qt.instance}init(){return x(this,null,function*(){return new Promise((e,t)=>{const r=indexedDB.open(this.dbName,this.version);r.onerror=()=>{console.error("IndexedDB :",r.error),t(r.error)},r.onsuccess=()=>{this.db=r.result,console.log(" IndexedDB "),e()},r.onupgradeneeded=s=>{const a=s.target.result;a.objectStoreNames.contains(this.storeName)||(a.createObjectStore(this.storeName,{keyPath:"key"}).createIndex("timestamp","timestamp",{unique:!1}),console.log("  IndexedDB "))}})})}ensureDB(){return x(this,null,function*(){return this.db||(yield this.init()),this.db})}set(s,a){return x(this,arguments,function*(e,t,r=2*60*60*1e3){try{const l=(yield this.ensureDB()).transaction([this.storeName],"readwrite").objectStore(this.storeName),u={key:e,blob:t,timestamp:Date.now(),ttl:r,size:t.size,type:t.type},d=l.put(u);return new Promise((c,h)=>{d.onsuccess=()=>{console.log(` IndexedDB : ${e} (${(t.size/1024/1024).toFixed(2)}MB)`),c()},d.onerror=()=>{console.error("IndexedDB :",d.error),h(d.error)}})}catch(i){throw console.error("IndexedDB :",i),i}})}get(e){return x(this,null,function*(){try{const a=(yield this.ensureDB()).transaction([this.storeName],"readonly").objectStore(this.storeName).get(e);return new Promise((i,o)=>{a.onsuccess=()=>{const l=a.result;if(!l){i(null);return}if(Date.now()-l.timestamp>l.ttl){console.log(` IndexedDB : ${e}`),this.delete(e).catch(d=>{console.warn(":",d)}),i(null);return}console.log(` IndexedDB : ${e} (${(l.size/1024/1024).toFixed(2)}MB)`),i(l.blob)},a.onerror=()=>{console.error("IndexedDB :",a.error),o(a.error)}})}catch(t){return console.error("IndexedDB :",t),null}})}has(e){return x(this,null,function*(){try{const a=(yield this.ensureDB()).transaction([this.storeName],"readonly").objectStore(this.storeName).get(e);return new Promise(i=>{a.onsuccess=()=>{const o=a.result;if(!o){i(!1);return}if(Date.now()-o.timestamp>o.ttl){this.delete(e).catch(u=>{console.warn(":",u)}),i(!1);return}i(!0)},a.onerror=()=>{i(!1)}})}catch(t){return!1}})}delete(e){return x(this,null,function*(){try{const a=(yield this.ensureDB()).transaction([this.storeName],"readwrite").objectStore(this.storeName).delete(e);return new Promise((i,o)=>{a.onsuccess=()=>{console.log(` IndexedDB : ${e}`),i()},a.onerror=()=>{console.error("IndexedDB :",a.error),o(a.error)}})}catch(t){console.error("IndexedDB :",t)}})}cleanup(){return x(this,null,function*(){try{const e=yield this.ensureDB(),t=[],r=Date.now(),i=e.transaction([this.storeName],"readonly").objectStore(this.storeName).openCursor();if(yield new Promise((o,l)=>{i.onsuccess=u=>{const d=u.target.result;if(d){const c=d.value;r-c.timestamp>c.ttl&&t.push(c.key),d.continue()}else o()},i.onerror=()=>{console.error("IndexedDB :",i.error),l(i.error)}}),t.length>0){const o=e.transaction([this.storeName],"readwrite"),l=o.objectStore(this.storeName);for(const u of t)l.delete(u);yield new Promise((u,d)=>{o.oncomplete=()=>{console.log(` IndexedDB  ${t.length} `),u()},o.onerror=()=>{console.error("IndexedDB :",o.error),d(o.error)}})}else console.log(" IndexedDB ")}catch(e){console.error("IndexedDB :",e)}})}getAllKeys(){return x(this,null,function*(){try{const s=(yield this.ensureDB()).transaction([this.storeName],"readonly").objectStore(this.storeName).getAllKeys();return new Promise((a,i)=>{s.onsuccess=()=>{const o=s.result;a(o)},s.onerror=()=>{console.error("IndexedDB :",s.error),i(s.error)}})}catch(e){return console.error("IndexedDB :",e),[]}})}getStats(){return x(this,null,function*(){try{const s=(yield this.ensureDB()).transaction([this.storeName],"readonly").objectStore(this.storeName).openCursor();let a=0,i=0;return new Promise((o,l)=>{s.onsuccess=u=>{const d=u.target.result;if(d){const c=d.value;a++,i+=c.size||0,d.continue()}else o({count:a,totalSize:i})},s.onerror=()=>{console.error("IndexedDB :",s.error),l(s.error)}})}catch(e){return console.error("IndexedDB :",e),{count:0,totalSize:0}}})}};ce(Qt,"instance");let Gn=Qt;const je=Gn.getInstance(),er=class er{constructor(){ce(this,"blobUrls",new Map);ce(this,"blobKeyToUrl",new Map);ce(this,"maxAge",30*60*1e3);ce(this,"maxTotalSize",200*1024*1024);window.addEventListener("beforeunload",()=>{this.cleanup(!0)}),D.debug("",{maxAge:this.maxAge,maxTotalSize:this.maxTotalSize})}static getInstance(){return er.instance||(er.instance=new er),er.instance}generateBlobKey(e){return x(this,null,function*(){try{const t=Math.min(e.size,1024),s=yield e.slice(0,t).arrayBuffer();let a=2166136261;const i=new Uint8Array(s);for(let o=0;o<i.length;o++)a^=i[o],a*=16777619;return`${e.size}-${e.type}-${a.toString(36)}`}catch(t){return`${e.size}-${e.type}-${Date.now()}`}})}createBlobUrl(e,t="general"){return x(this,null,function*(){const r=yield this.generateBlobKey(e),s=this.blobKeyToUrl.get(r);if(s&&this.blobUrls.has(s))return this.addRef(s),D.debug(" Blob URL",{category:t,blobKey:r.substring(0,20),refs:this.blobUrls.get(s).refs}),s;const a=URL.createObjectURL(e),i={url:a,size:e.size,createdAt:Date.now(),category:t,refs:1,blobKey:r,lastAccessTime:Date.now()};return this.blobUrls.set(a,i),this.blobKeyToUrl.set(r,a),D.debug(" Blob URL",{category:t,size:`${(e.size/1024/1024).toFixed(2)}MB`,blobKey:r.substring(0,20),totalUrls:this.blobUrls.size}),this.checkMemoryUsage(),a})}addRef(e){const t=this.blobUrls.get(e);return t?(t.refs++,t.lastAccessTime=Date.now(),D.debug(" Blob URL ",{url:e.substring(0,50),refs:t.refs}),!0):!1}markAccessed(e){const t=this.blobUrls.get(e);return t?(t.lastAccessTime=Date.now(),!0):!1}releaseRef(e){const t=this.blobUrls.get(e);return t&&(t.refs--,D.debug(" Blob URL ",{url:e.substring(0,50),refs:t.refs}),t.refs<=0)?(this.revokeBlobUrl(e),!0):!1}revokeBlobUrl(e){const t=this.blobUrls.get(e);if(t)try{return URL.revokeObjectURL(e),this.blobUrls.delete(e),this.blobKeyToUrl.delete(t.blobKey),D.debug(" Blob URL",{category:t.category,size:`${(t.size/1024/1024).toFixed(2)}MB`,age:`${((Date.now()-t.createdAt)/1e3).toFixed(1)}s`,blobKey:t.blobKey.substring(0,20),totalUrls:this.blobUrls.size}),!0}catch(r){D.warn(" Blob URL ",{url:e.substring(0,50),error:r})}return!1}checkMemoryUsage(){const e=this.getStats();e.totalSize>this.maxTotalSize&&(D.warn("",{currentSize:`${(e.totalSize/1024/1024).toFixed(2)}MB`,maxSize:`${(this.maxTotalSize/1024/1024).toFixed(2)}MB`}),this.cleanup())}cleanup(e=!1){const t=Date.now();let r=0,s=0;const a=Array.from(this.blobUrls.entries()).sort(([,i],[,o])=>i.lastAccessTime-o.lastAccessTime);for(const[i,o]of a){const l=t-o.createdAt,u=t-o.lastAccessTime;(e||l>this.maxAge||o.refs<=0&&u>5*60*1e3||o.refs<=0&&l>60*1e3)&&this.revokeBlobUrl(i)&&(r++,s+=o.size)}r>0&&D.info("",{cleanedCount:r,cleanedSize:`${(s/1024/1024).toFixed(2)}MB`,remainingUrls:this.blobUrls.size,forceAll:e})}getStats(){const e=Date.now();let t=0,r=0,s=0;const a={};for(const i of this.blobUrls.values()){t+=i.size;const o=e-i.createdAt;r+=o,s=Math.max(s,o),a[i.category]||(a[i.category]={count:0,size:0}),a[i.category].count++,a[i.category].size+=i.size}return{totalUrls:this.blobUrls.size,totalSize:t,byCategory:a,oldestAge:s,averageAge:this.blobUrls.size>0?r/this.blobUrls.size:0}}getUrlsByCategory(e){return Array.from(this.blobUrls.entries()).filter(([,t])=>t.category===e).map(([t])=>t)}cleanupCategory(e){let t=0;for(const[r,s]of this.blobUrls.entries())s.category===e&&this.revokeBlobUrl(r)&&t++;return t>0&&D.info(` ${e}`,{cleanedCount:t}),t}destroy(){this.cleanup(!0),D.info("")}};ce(er,"instance");let Vn=er;const nt=Vn.getInstance();function Tn(n,e="general"){return nt.createBlobUrl(n,e)}function Yn(n){return nt.releaseRef(n)}class yp{constructor(){ce(this,"metadataKey","favicon-metadata");ce(this,"defaultExpiry",7*24*60*60*1e3);ce(this,"metadata",{});ce(this,"loadingPromises",new Map);ce(this,"blobUrlCache",new Map);this.loadMetadata(),this.preloadBlobUrls()}loadMetadata(){try{const e=localStorage.getItem(this.metadataKey);e&&(this.metadata=JSON.parse(e),this.cleanExpiredMetadata())}catch(e){console.warn(" favicon :",e),this.metadata={}}}preloadBlobUrls(){return x(this,null,function*(){const e=Date.now(),t=Object.entries(this.metadata).filter(([,s])=>e<s.expiry).map(([s])=>s);console.log(`  ${t.length}  favicon Blob URL`);const r=5;for(let s=0;s<t.length;s+=r){const a=t.slice(s,s+r);yield Promise.all(a.map(i=>x(this,null,function*(){try{if(this.blobUrlCache.has(i))return;const o=this.getFaviconCacheKey(i),l=yield je.get(o);if(l){const u=yield Tn(l,"favicon");this.blobUrlCache.set(i,u),console.log(`  Blob URL: ${i}`)}}catch(o){console.warn(` Blob URL : ${i}`,o)}}))),s+r<t.length&&(yield new Promise(i=>setTimeout(i,10)))}console.log(`  ${this.blobUrlCache.size}  Blob URL`)})}saveMetadata(){try{localStorage.setItem(this.metadataKey,JSON.stringify(this.metadata))}catch(e){console.warn(" favicon :",e)}}cleanExpiredMetadata(){const e=Date.now(),t=[];for(const[r,s]of Object.entries(this.metadata))e>s.expiry&&(t.push(r),this.deleteFaviconFile(r).catch(console.warn));t.forEach(r=>{delete this.metadata[r]}),t.length>0&&this.saveMetadata()}extractDomain(e){try{return new URL(e).hostname.replace(/^www\./,"")}catch(t){return e.replace(/^(https?:\/\/)?(www\.)?/,"").split("/")[0]}}getFaviconCacheKey(e){return`favicon-file:${e}`}getFaviconUrls(e,t){return[`https://api.allorigins.win/raw?url=${encodeURIComponent(`https://favicon.im/${t}?larger=true&size=64`)}`,`https://api.allorigins.win/raw?url=${encodeURIComponent(`https://favicon.im/${t}?larger=true&size=32`)}`,`https://corsproxy.io/?${encodeURIComponent(`https://favicon.im/${t}?larger=true&size=64`)}`,`https://corsproxy.io/?${encodeURIComponent(`https://favicon.im/${t}?larger=true&size=32`)}`,...e&&!e.includes("favicon.im")?[e]:[]]}downloadAndCacheFavicon(e,t){return x(this,null,function*(){for(const r of e)try{console.log(`  favicon: ${t} -> ${r}`);const s=new AbortController,a=setTimeout(()=>s.abort(),5e3),i=yield fetch(r,{mode:"cors",credentials:"omit",headers:{Accept:"image/*,*/*;q=0.8","User-Agent":"Mozilla/5.0 (compatible; FaviconBot/1.0)"},signal:s.signal});if(clearTimeout(a),!i.ok)throw new Error(`HTTP ${i.status}`);const o=yield i.blob();if(!o.type.startsWith("image/")||o.size<100)throw new Error("");const l=this.getFaviconCacheKey(t);yield je.set(l,o,this.defaultExpiry),this.metadata[t]={domain:t,originalUrl:r,timestamp:Date.now(),expiry:Date.now()+this.defaultExpiry,size:o.size,type:o.type},this.saveMetadata();const u=this.blobUrlCache.get(t);if(u&&u.startsWith("blob:"))try{Yn(u),this.blobUrlCache.delete(t),console.log(`  Blob URL: ${t}`)}catch(c){console.warn(` Blob URL : ${t}`,c),this.blobUrlCache.delete(t)}const d=yield Tn(o,"favicon");return this.blobUrlCache.set(t,d),console.log(` Favicon : ${t} (${(o.size/1024).toFixed(1)}KB)`),d}catch(s){console.log(` Favicon : ${t} -> ${r} (${s})`),r.includes("api.allorigins.win")&&console.log(" ");continue}return console.log(`  favicon : ${t}`),"/icon/favicon.png"})}getCachedFaviconFile(e){return x(this,null,function*(){try{const t=this.metadata[e];if(!t||Date.now()>t.expiry)return null;const r=this.getFaviconCacheKey(e),s=yield je.get(r);if(s){console.log(`  favicon : ${e} (${(s.size/1024).toFixed(1)}KB)`);const a=this.blobUrlCache.get(e);if(a&&a.startsWith("blob:"))return a;try{const i=yield Tn(s,"favicon");return this.blobUrlCache.set(e,i),i}catch(i){return console.warn(` Blob URL : ${e}`,i),null}}}catch(t){if(console.warn(` favicon : ${e}`,t),t&&typeof t=="object"&&"name"in t&&t.name==="InvalidStateError")try{delete this.metadata[e],this.saveMetadata(),console.log(`: ${e}`)}catch(r){console.warn(`: ${e}`,r)}}return null})}safeBlobUrlCleanup(e){const t=this.blobUrlCache.get(e);if(t&&t.startsWith("blob:"))try{Yn(t),this.blobUrlCache.delete(e),console.log(`  Blob URL: ${e}`)}catch(r){console.warn(` Blob URL : ${e}`,r),this.blobUrlCache.delete(e)}}deleteFaviconFile(e){return x(this,null,function*(){try{this.safeBlobUrlCleanup(e);const t=this.getFaviconCacheKey(e);yield je.delete(t),console.log(`  favicon : ${e}`)}catch(t){console.warn(` favicon : ${e}`,t)}})}getCachedFavicon(e){const t=this.extractDomain(e),r=this.blobUrlCache.get(t);if(r)return console.log(`  Blob URL : ${t}`),r;const s=this.metadata[t];return s&&Date.now()<s.expiry?s.originalUrl:null}getFavicon(e,t){return x(this,null,function*(){const r=this.extractDomain(e),s=yield this.getCachedFaviconFile(r);if(s)return s;if(!navigator.onLine)return console.log(` : ${r}`),"/icon/favicon.png";if(this.loadingPromises.has(r))return this.loadingPromises.get(r);const a=this.loadAndCacheFavicon(t,r);this.loadingPromises.set(r,a);try{return yield a}finally{this.loadingPromises.delete(r)}})}loadAndCacheFavicon(e,t){return x(this,null,function*(){const r=this.getFaviconUrls(e,t);try{return yield this.downloadAndCacheFavicon(r,t)}catch(s){return console.warn(` favicon : ${t}`,s),"/icon/favicon.png"}})}getFaviconWithIndexedDB(e,t){return x(this,null,function*(){return this.getFavicon(e,t)})}getFaviconWithHybridCache(e,t){return x(this,null,function*(){return this.getFavicon(e,t)})}preloadFavicons(e){return x(this,null,function*(){const t=e.filter(s=>!this.getCachedFavicon(s.url));if(t.length===0){console.log(" ");return}console.log(`  ${t.length} `);const r=3;for(let s=0;s<t.length;s+=r){const a=t.slice(s,s+r);yield Promise.allSettled(a.map(i=>x(this,null,function*(){try{yield this.getFavicon(i.url,i.favicon)}catch(o){console.warn(`: ${i.url}`,o)}}))),s+r<t.length&&(yield new Promise(i=>setTimeout(i,200)))}console.log(" ")})}batchCacheFaviconsToIndexedDB(e){return x(this,null,function*(){console.log(`  ${e.length}  favicon`);let t=0,r=0,s=0;const a=3;for(let i=0;i<e.length;i+=a){const l=e.slice(i,i+a).map((u,d)=>x(this,null,function*(){const c=this.extractDomain(u.url);try{if(yield this.getCachedFaviconFile(c)){r++;return}const m=(d+1)*1200;yield new Promise(g=>setTimeout(g,m)),console.log(` [${i+d+1}/${e.length}] : ${c}`);const b=yield this.getFavicon(u.url,u.favicon);b&&b!=="/icon/favicon.png"?(t++,console.log(` : ${c}`)):s++}catch(h){s++,console.warn(` : ${c}`,h)}}));yield Promise.allSettled(l),i+a<e.length&&(yield new Promise(u=>setTimeout(u,1500)))}console.log("  favicon :"),console.log(`   : ${t}, : ${r}, : ${s}`)})}cleanupExpiredBlobUrls(){const e=Date.now(),t=[];for(const[s,a]of Object.entries(this.metadata))e>a.expiry&&t.push(s);let r=0;for(const s of t)try{this.safeBlobUrlCleanup(s),r++}catch(a){console.warn(`: ${s}`,a)}r>0&&console.log(`  ${r}  Blob URL`)}clearCache(){return x(this,null,function*(){console.log("  favicon ...");const e=Object.keys(this.metadata);let t=0,r=0;for(const s of e)try{yield this.deleteFaviconFile(s),t++}catch(a){console.warn(`: ${s}`,a)}for(const[s]of this.blobUrlCache)try{this.safeBlobUrlCleanup(s),r++}catch(a){console.warn(` Blob URL : ${s}`,a)}this.metadata={},this.loadingPromises.clear(),this.blobUrlCache.clear();try{localStorage.removeItem(this.metadataKey)}catch(s){console.warn(" localStorage :",s)}console.log(` favicon : =${t}, Blob=${r}`)})}getCacheStats(){const e=Date.now(),t=Object.keys(this.metadata).length,r=Object.values(this.metadata).filter(i=>e>i.expiry).length,s=Object.values(this.metadata).reduce((i,o)=>i+(o.size||0),0),a=s>1024*1024?`${(s/1024/1024).toFixed(1)} MB`:`${(s/1024).toFixed(1)} KB`;return{total:t,expired:r,totalSize:a}}}const Mt=new yp,bp=()=>typeof window!="undefined"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")?"":"/jiang_ai_web",xp=()=>`${bp()}/icon/chatgpt.svg`,Sr=n=>n==="/icon/favicon.png"||n===xp(),wp=n=>{try{return new URL(n).hostname.replace(/^www\./,"")}catch(e){return n.replace(/^(https?:\/\/)?(www\.)?/,"").split("/")[0]}},xs=(n,e,t)=>{if(!n||typeof n!="string")return console.warn("processFaviconUrl :",n),t;const r="https://api.allorigins.win/raw?url=";if(n.includes("favicon.im")&&!n.includes("api.allorigins.win")){if(Mt.getCachedFavicon(e)){const a=wp(e);return console.log(` : ${a}`),n}return console.log(` favicon.im URL: ${n}`),r+encodeURIComponent(n)}return n};function _p(n,e,t,r={}){const{rootMargin:s="50px",threshold:a=.1}=r,[i,o]=A.useState(()=>{const y=Mt.getCachedFavicon(n);return y&&!Sr(y)?y:e}),[l,u]=A.useState(!1),[d,c]=A.useState(!1),[h,m]=A.useState(!1),b=A.useRef(null),g=A.useRef(!1),p=()=>{b.current&&b.current.startsWith("blob:")&&(Yn(b.current),b.current=null)};return A.useEffect(()=>{if(!t.current)return;const y=new IntersectionObserver(I=>{const[v]=I;v.isIntersecting&&!g.current&&(m(!0),g.current=!0)},{rootMargin:s,threshold:a});return y.observe(t.current),()=>{y.disconnect()}},[t,s,a]),A.useEffect(()=>{if(!h)return;x(null,null,function*(){const I=Mt.getCachedFavicon(n);if(I&&!Sr(I)&&I!==i){const v=xs(I,n,e);p(),o(v),b.current=v.startsWith("blob:")?v:null,c(!1),u(!1)}})},[n,h]),A.useEffect(()=>{if(!h)return;const y=setTimeout(()=>{const I=xs(e,n,e),v=Sr(e),_=Mt.getCachedFavicon(n);if(_&&!Sr(_)){const R=xs(_,n,e);i!==R&&(p(),o(R),b.current=R.startsWith("blob:")?R:null),c(!1),u(!1);return}!Sr(i)&&!_||(i!==I&&(p(),o(I),b.current=I.startsWith("blob:")?I:null),c(!1),u(!1),v&&!_&&(u(!0),Mt.getFavicon(n,e).then(R=>{if(R!==e&&!Sr(R)){const $=xs(R,n,e);p(),o($),b.current=$.startsWith("blob:")?$:null}c(!1)}).catch(R=>{console.warn("Favicon :",R),c(!0)}).finally(()=>{u(!1)})))},100);return()=>clearTimeout(y)},[n,e,h]),A.useEffect(()=>()=>{p()},[]),{faviconUrl:i,isLoading:l,error:d,isVisible:h}}const ws={mobile:640,tablet:768,desktop:1024,wide:1440},Sp={columns:{mobile:2,tablet:3,tabletLandscape:4,desktop:6,wide:8},gaps:{mobile:"gap-x-2 gap-y-6",tablet:"gap-x-3 gap-y-8",desktop:"gap-x-4 gap-y-10"},cardSizes:{mobile:"w-full max-w-[160px]",tablet:"w-full max-w-[180px]",desktop:"w-full max-w-[200px]"}};function di(n){const[e,t]=A.useState({width:typeof window!="undefined"?window.innerWidth:1024,height:typeof window!="undefined"?window.innerHeight:768}),[r,s]=A.useState("landscape"),[a,i]=A.useState("desktop"),o=C(C({},Sp),n);A.useEffect(()=>{const h=()=>{const m=window.innerWidth,b=window.innerHeight;t({width:m,height:b}),s(m>b?"landscape":"portrait"),m<ws.mobile||m<ws.tablet?i("mobile"):m<ws.desktop?i("tablet"):m<ws.wide?i("desktop"):i("wide")};return h(),window.addEventListener("resize",h),window.addEventListener("orientationchange",h),()=>{window.removeEventListener("resize",h),window.removeEventListener("orientationchange",h)}},[]);const l=()=>{const h=a==="tablet"&&r==="landscape";return{columns:h?o.columns.tabletLandscape:o.columns[a],gap:o.gaps[a==="wide"?"desktop":a],cardSize:o.cardSizes[a==="wide"?"desktop":a],deviceType:a,orientation:r,screenSize:e,isMobile:a==="mobile",isTablet:a==="tablet",isDesktop:a==="desktop"||a==="wide",isTabletLandscape:h}},u=()=>{const h=l(),m="grid";return h.isMobile?`${m} grid-cols-2 ${h.gap} px-2`:h.isTablet?h.isTabletLandscape?`${m} grid-cols-4 ${h.gap} px-4`:`${m} grid-cols-3 ${h.gap} px-4`:`${m} grid-cols-6 lg:grid-cols-8 ${h.gap} px-6`},d=()=>{const h=l(),m="relative group";return h.isMobile?`${m} ${h.cardSize} mx-auto`:h.isTablet?`${m} ${h.cardSize} mx-auto transform transition-transform duration-200 hover:scale-105`:`${m} ${h.cardSize} mx-auto transform transition-all duration-300 hover:scale-110 hover:z-10`},c=()=>{const h=l();return h.isMobile?{containerClass:"px-4 py-4",searchClass:"w-full max-w-lg mx-auto",buttonSize:"text-sm px-3 py-2"}:h.isTablet?{containerClass:"px-6 py-6",searchClass:"w-full max-w-2xl mx-auto",buttonSize:"text-base px-4 py-2"}:{containerClass:"px-8 py-8",searchClass:"w-full max-w-3xl mx-auto",buttonSize:"text-lg px-6 py-3"}};return ee(C({},l()),{getGridClasses:u,getCardClasses:d,getSearchBarLayout:c})}const Ap=A.memo(function({id:e,name:t,url:r,favicon:s,tags:a,visitCount:i,note:o,index:l,moveCard:u,onSave:d,onDelete:c}){const[h,m]=A.useState(!1),[b,g]=A.useState(!1),[,p]=A.useState(!1),y=A.useRef(null),I=A.useRef(null),{cardOpacity:v,cardColor:_}=Ft(),{faviconUrl:R,isLoading:$,error:O}=_p(r,s,y),{isMobile:N,getCardClasses:k}=di(),{autoSortEnabled:T}=Ft(),[{isDragging:q},W]=Ju({type:"WEBSITE_CARD",item:{id:e,index:l},collect:L=>({isDragging:L.isDragging()}),canDrag:()=>!N&&!T}),[,M]=Xu({accept:"WEBSITE_CARD",hover(L,Y){if(!y.current)return;const Z=L.index,ge=l;if(Z===ge)return;const Ne=y.current.getBoundingClientRect(),be=(Ne.bottom-Ne.top)/2,ze=(Ne.right-Ne.left)/2,re=Y.getClientOffset();if(!re)return;const Pe=re.y-Ne.top,Xe=re.x-Ne.left,pt=Math.floor(window.innerWidth/150),Ze=Math.floor(Z/pt),He=Math.floor(ge/pt);if(Ze===He){if(Z<ge&&Xe<ze||Z>ge&&Xe>ze)return}else if(Z<ge&&Pe<be*.3||Z>ge&&Pe>be*1.7)return;u(Z,ge),L.index=ge}});M(y),W(y);const ue=()=>{I.current&&(clearTimeout(I.current),I.current=null)};A.useEffect(()=>()=>{ue()},[]);const oe=()=>{!N&&!q&&g(!0)},te=()=>{N||g(!1)},ye=()=>{N&&(p(!0),setTimeout(()=>p(!1),200)),window.open(r,"_blank"),d({id:e,name:t,url:r,favicon:s,tags:a,note:o,visitCount:i+1,lastVisit:new Date().toISOString().split("T")[0]})},me=()=>{N&&m(!0)},Ae=()=>{N&&(I.current=setTimeout(me,500))},Ce=()=>{I.current&&(clearTimeout(I.current),I.current=null)};return f.jsxs(f.Fragment,{children:[f.jsx(ai,{tiltEnable:!N&&!q&&!T,tiltReverse:!0,tiltMaxAngleX:25,tiltMaxAngleY:25,perspective:1e3,transitionSpeed:1e3,scale:1.02,glareEnable:!N&&!T,glareMaxOpacity:.3,glareColor:"lightblue",glarePosition:"all",children:f.jsxs(Se.div,{className:`${k()} relative rounded-lg`,style:{backgroundColor:`rgba(${_}, ${v})`,backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:q?"0 20px 40px rgba(0,0,0,0.3)":"none"},animate:{opacity:q?.5:1,zIndex:q?50:0,rotate:q?5:0,scale:q?1.05:1},transition:{type:"spring",stiffness:200,damping:15,duration:.2},onMouseEnter:oe,onMouseLeave:te,onTouchStart:Ae,onTouchEnd:Ce,onTouchMove:Ce,onTouchCancel:Ce,onClick:ye,whileTap:N?{scale:.95,transition:{duration:.1,ease:"easeInOut"}}:{},initial:{opacity:0,y:20},whileInView:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut",delay:.05}},viewport:{once:!0},ref:y,children:[f.jsx("div",{className:`absolute ${N?"top-1 right-1":"bottom-0.5 right-0.5"} z-10`,children:f.jsx("button",{onClick:L=>{L.stopPropagation(),m(!0)},className:`p-1 text-white/50 hover:text-white select-none transition-all duration-500 ease-out ${N?"text-xs bg-black/20 rounded-full":""} ${b&&!N?"opacity-100":N?"opacity-70":"opacity-0"}`,children:f.jsx("i",{className:"fa-solid fa-gear text-xs select-none"})})}),f.jsxs("div",{className:`h-full flex flex-col ${N?"pt-2":"pt-3"} select-none`,children:[f.jsxs("div",{className:`flex flex-col items-center ${N?"px-1":"px-2"} select-none`,children:[f.jsxs("div",{className:`${N?"w-8 h-8 mb-1":"w-11 h-11 mb-1"} rounded-md overflow-hidden select-none relative`,children:[f.jsx("img",{src:R,alt:`${t} favicon`,className:"w-full h-full object-contain select-none",loading:"lazy",draggable:"false"}),$&&f.jsx("div",{className:`absolute top-0 right-0 ${N?"w-1.5 h-1.5":"w-2 h-2"} bg-yellow-400 rounded-full animate-pulse`,title:"..."}),!$&&O&&f.jsx("div",{className:`absolute top-0 right-0 ${N?"w-1.5 h-1.5":"w-2 h-2"} bg-red-400 rounded-full`,title:""})]}),f.jsx("h3",{className:`${N?"text-[0.65rem]":"text-xs"} font-medium text-white text-center line-clamp-2 px-2 mt-1 select-none`,children:t})]}),!N&&f.jsx("div",{className:"px-2 mb-1 select-none",children:f.jsx("p",{className:"text-white/60 text-[0.65rem] text-center line-clamp-2 select-none",children:o||new URL(r).hostname})}),f.jsx("div",{className:`mt-0 ${N?"px-1 pb-1":"px-3 pb-2"} select-none`,children:f.jsx("div",{className:"flex flex-wrap gap-1 justify-center select-none",children:a.slice(0,N?2:6).map(L=>f.jsx("span",{className:`px-1.5 py-0.5 bg-white/20 rounded-full ${N?"text-[0.55rem]":"text-[0.65rem]"} text-white ${N?"max-w-[45px]":"max-w-[60px]"} truncate select-none`,children:L},L))})}),i>0&&f.jsx("div",{className:"px-2 pb-2 select-none",children:f.jsx("div",{className:"text-center",children:f.jsxs("span",{className:`px-2 py-1 bg-blue-500/20 text-blue-200 rounded-full ${N?"text-[0.55rem]":"text-[0.65rem]"} border border-blue-300/30 select-none`,children:[f.jsx("i",{className:"fa-solid fa-eye mr-1 select-none"}),f.jsxs("span",{className:"select-none",children:[i,""]})]})})}),f.jsx("div",{className:"flex-1"})]}),!N&&b&&!q&&f.jsx(Se.div,{className:"absolute inset-0 rounded-lg ring-2 ring-white/30 pointer-events-none",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.4,ease:"easeOut"}}),q&&f.jsx(Se.div,{className:"absolute inset-0 rounded-lg border-2 border-dashed border-white/50 bg-white/10 pointer-events-none flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:f.jsx(Se.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:"text-white/60 text-sm",children:f.jsx("i",{className:"fa-solid fa-arrows-up-down-left-right"})})}),!N&&b&&f.jsx(Se.div,{className:"absolute inset-0 rounded-lg pointer-events-none",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5,ease:"easeOut"},style:{boxShadow:"0 8px 25px rgba(0,0,0,0.2)",zIndex:-1}})]})}),h&&f.jsx(mp,{id:e,name:t,url:r,favicon:s,tags:a,note:o,onClose:()=>m(!1),onSave:L=>{d(L),m(!1)},onDelete:c})]})});class yo{constructor(e,t){ce(this,"apiKey");ce(this,"baseUrl","https://api.notion.com/v1");ce(this,"corsProxy");this.apiKey=e,this.corsProxy=t||this.getDefaultSupabaseProxy()}getDefaultSupabaseProxy(){return`${"https://wxheqargopbsrruootyr.supabase.co".replace(/\/$/,"")}/functions/v1/notion-proxy`}makeRequest(r){return x(this,arguments,function*(e,t={}){const s=this.baseUrl+e;if(console.log(" Notion API :"),console.log("- URL:",s),console.log("- :",!this.corsProxy),console.log("- API Key:",this.apiKey.substring(0,15)+"..."),console.log("- :",t.method||"GET"),this.corsProxy)try{if(this.corsProxy.includes("supabase.co")||this.corsProxy.includes("localhost:54321")){const u=this.corsProxy+e;console.log("  Supabase Edge Functions :",t.method||"GET",u),console.log(" :",this.apiKey.substring(0,20)+"...");const d=yield fetch(u,C({method:t.method||"GET",headers:{Authorization:this.apiKey.startsWith("Bearer ")?this.apiKey:`Bearer ${this.apiKey}`,"Content-Type":"application/json","Notion-Version":"2022-06-28"}},t.body&&{body:t.body}));if(console.log(" Supabase :",d.status,d.statusText),!d.ok){const h=yield d.text();throw console.error(" Supabase :",h),d.status===401?new Error("API"):d.status===404?new Error("Integration"):new Error(`Supabase : ${d.status} ${d.statusText}`)}const c=yield d.json();return console.log(" Supabase "),console.log(" :",c),c}const a=`https://corsproxy.io/?${encodeURIComponent(s)}`;console.log("- URL:",a);const i=yield fetch(a,C({method:t.method||"GET",headers:{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json","Notion-Version":"2022-06-28"}},t.body&&{body:t.body}));if(console.log(" Vercel:",i.status,i.statusText),!i.ok){const u=yield i.text();throw console.error(" Vercel:",u),i.status===400?new Error("APIID"):i.status===401?new Error("API"):i.status===404?new Error("Integration"):new Error(`Vercel: ${i.status} ${i.statusText}`)}const o=i.headers.get("content-type")||"";if(console.log(":",o),!o.includes("application/json")){const u=yield i.text();throw console.error("JSON:",u.substring(0,200)),new Error("JSON")}const l=yield i.json();return console.log(" Vercel"),l}catch(a){throw console.error(" :",a),a instanceof Error&&a.message.includes("Failed to fetch")?new Error(`
1. 
2. 
3. CORS`):a instanceof Error?a:new Error(String(a))}console.log("- CORSURL:",s);try{const a=[`https://corsproxy.io/?${encodeURIComponent(s)}`,`https://api.allorigins.win/raw?url=${encodeURIComponent(s)}`];let i=null;for(const o of a)try{console.log(" :",o.split("?")[0]);const l=yield fetch(o,C({method:t.method||"GET",headers:{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json","Notion-Version":"2022-06-28"}},t.body&&{body:t.body}));if(console.log(" :",l.status,l.statusText),!l.ok){const d=yield l.text();throw console.error(" Notion API:"),console.error(":",l.status),console.error(":",d),l.status===400?new Error("APIID"):l.status===401?new Error("API"):l.status===404?new Error("Integration"):new Error(`Notion API error: ${l.status} ${l.statusText}`)}const u=yield l.json();return console.log(" "),u}catch(l){console.warn(` : ${o.split("?")[0]}`,l instanceof Error?l.message:String(l)),i=l instanceof Error?l:new Error(String(l));continue}throw i||new Error("CORS")}catch(a){throw console.error(" :",a),a instanceof Error&&a.message.includes("Failed to fetch")?new Error(`
1. 
2. CORS
3. `):a instanceof Error?a:new Error(String(a))}})}getDatabase(e){return x(this,null,function*(){const t=e.split("?")[0].split("#")[0].trim();return yield this.makeRequest(`/databases/${t}`)})}queryDatabase(e,t,r){return x(this,null,function*(){const s=e.split("?")[0].split("#")[0].trim();let a=[],i=!0,o;for(;i;){const l={page_size:100};t&&(l.filter=t),r&&(l.sorts=r),o&&(l.start_cursor=o);const u=yield this.makeRequest(`/databases/${s}/query`,{method:"POST",body:JSON.stringify(l)});a=a.concat(u.results),i=u.has_more,o=u.next_cursor}return a})}parseWorkspaceItems(e,t){return e.filter(r=>r&&r.properties).map(r=>{const s=r.properties,a=(m,b=[])=>{var p,y,I,v,_,R,$;const g=[m,...b];for(const O of g){const N=s[O];if(N&&N.type)try{switch(N.type){case"title":return((y=(p=N.title)==null?void 0:p[0])==null?void 0:y.plain_text)||"";case"rich_text":return((v=(I=N.rich_text)==null?void 0:I[0])==null?void 0:v.plain_text)||"";case"url":return N.url||"";case"select":return((_=N.select)==null?void 0:_.name)||"";case"checkbox":return N.checkbox!==void 0?N.checkbox:!1;case"multi_select":return(($=(R=N.multi_select)==null?void 0:R[0])==null?void 0:$.name)||"";default:return N.plain_text||N.name||""}}catch(k){console.warn(` ${O} :`,k instanceof Error?k.message:String(k));continue}}return""},i=m=>{if(!m)return"";const b=m.trim();return b.toLowerCase()==="null"||b.toLowerCase()==="undefined"||b===""?"":b},o=a("",["Name","Title",""]),l=a("",["URL","Link",""]),u=a("",["Description","","Notes"]),d=a("Select",["Category","","","Type"]),c=i(a("",["Username","","Account"])),h=i(a("",["Password","Pass","Pwd"]));return console.log(" :",{pageId:r.id,title:o,url:l,description:i(u),category:d,username:c,password:h?"***":void 0,availableProperties:Object.keys(s)}),{id:`notion-${r.id}`,title:o||"Untitled",url:l||r.url,description:i(u),category:d||"Default",isActive:!0,lastSync:new Date().toISOString(),notionId:r.id,icon:this.extractIcon(l),username:c||void 0,password:h||void 0}})}extractIcon(e){return""}testConnection(){return x(this,null,function*(){try{return yield this.makeRequest("/users/me"),!0}catch(e){return!1}})}}class Ip{constructor(){ce(this,"notionClient",null);ce(this,"cacheKey","workspace-items");ce(this,"configKey","workspace-config");this.loadConfig()}configureNotion(e,t,r){const s=r||this.getDefaultSupabaseProxy();this.notionClient=new yo(e,s);const a={apiKey:e,databaseId:t,corsProxy:s,lastConfigured:new Date().toISOString()};localStorage.setItem(this.configKey,JSON.stringify(a))}getDefaultSupabaseProxy(){return`${"https://wxheqargopbsrruootyr.supabase.co".replace(/\/$/,"")}/functions/v1/notion-proxy`}loadConfig(){try{const e=localStorage.getItem(this.configKey);if(e){const{apiKey:t,databaseId:r,corsProxy:s}=JSON.parse(e);if(t&&r){const a=s||this.getDefaultSupabaseProxy();return this.notionClient=new yo(t,a),{apiKey:t,databaseId:r,corsProxy:a}}}}catch(e){console.warn(":",e instanceof Error?e.message:String(e))}return null}getConfig(){try{const e=localStorage.getItem(this.configKey);return e?JSON.parse(e):null}catch(e){return null}}syncWorkspaceData(){return x(this,null,function*(){var t,r,s,a,i;if(!this.notionClient)throw new Error("NotionAPIID");const e=this.getConfig();if(!(e!=null&&e.databaseId))throw new Error("ID");try{console.log(" ...");const o=yield this.notionClient.getDatabase(e.databaseId);console.log(" :",((r=(t=o.title)==null?void 0:t[0])==null?void 0:r.plain_text)||"");const l=yield this.notionClient.queryDatabase(e.databaseId);console.log(`  ${l.length} `),l.length>0&&console.log(" :",{id:(s=l[0])==null?void 0:s.id,hasProperties:!!((a=l[0])!=null&&a.properties),propertyKeys:(i=l[0])!=null&&i.properties?Object.keys(l[0].properties):""});const u=this.notionClient.parseWorkspaceItems(l,o.properties);return this.cacheWorkspaceItems(u),console.log(`  ${u.length} `),u}catch(o){console.error(" :",o);const l=this.getCachedWorkspaceItems();if(l.length>0)return console.warn("  "+l.length+" "),l;throw o}})}cacheWorkspaceItems(e){try{const t={items:e,lastSync:new Date().toISOString(),version:"1.0"};localStorage.setItem(this.cacheKey,JSON.stringify(t))}catch(t){console.warn(":",t instanceof Error?t.message:String(t))}}getCachedWorkspaceItems(){try{const e=localStorage.getItem(this.cacheKey);if(e){const{items:t}=JSON.parse(e);return t||[]}}catch(e){console.warn(":",e instanceof Error?e.message:String(e))}return[]}getCacheInfo(){try{const e=localStorage.getItem(this.cacheKey);if(e){const{lastSync:t,version:r}=JSON.parse(e);return{lastSync:t,version:r}}}catch(e){console.warn(":",e instanceof Error?e.message:String(e))}return null}clearAll(){localStorage.removeItem(this.configKey),localStorage.removeItem(this.cacheKey),this.notionClient=null}testConnection(){return x(this,null,function*(){return this.notionClient?yield this.notionClient.testConnection():!1})}}const wt=new Ip,ru=A.createContext(void 0);function Ep({children:n}){const[e,t]=A.useState(!1),[r,s]=A.useState([]),[a,i]=A.useState(!1),[o,l]=A.useState(null),[u,d]=A.useState(!1),[c,h]=A.useState(null),[m,b]=A.useState(()=>{try{const L=localStorage.getItem("workspace-view-type");return L==="card"||L==="list"?L:"list"}catch(L){return"list"}}),[g,p]=A.useState("all"),[y,I]=A.useState(""),[v,_]=A.useState([]),[R,$]=A.useState(-1),O=A.useMemo(()=>{const L=new Map;r.forEach(Z=>{const ge=Z.category||"Default";L.set(ge,(L.get(ge)||0)+1)});const Y=[{name:"all",count:r.length,icon:""}];return L.forEach((Z,ge)=>{Y.push({name:ge,count:Z,icon:ge===""?"":ge===""?"":""})}),Y},[r]),N=A.useMemo(()=>{let L=r;if(g!=="all"&&(L=L.filter(Y=>Y.category===g)),y.trim()){const Y=y.toLowerCase().trim();L=L.filter(Z=>{var ge;return Z.title.toLowerCase().includes(Y)||((ge=Z.description)==null?void 0:ge.toLowerCase().includes(Y))||Z.url.toLowerCase().includes(Y)})}return L},[r,g,y]);A.useEffect(()=>{if(y.trim()){const L=y.toLowerCase(),Y=r.filter(Z=>{var ge;return Z.title.toLowerCase().includes(L)||((ge=Z.description)==null?void 0:ge.toLowerCase().includes(L))||Z.url.toLowerCase().includes(L)}).slice(0,8).map(Z=>({id:Z.id,title:Z.title,description:Z.description,category:Z.category,url:Z.url,hasCredentials:!!(Z.username||Z.password)}));_(Y)}else _([])},[y,r]),A.useEffect(()=>{$(-1)},[N]),A.useEffect(()=>{try{localStorage.setItem("workspace-view-type",m)}catch(L){console.warn(":",L)}},[m]),A.useEffect(()=>{const L=wt.getConfig();d(!!(L!=null&&L.apiKey)&&!!(L!=null&&L.databaseId));const Y=wt.getCachedWorkspaceItems();Y.length>0&&s(Y);const Z=wt.getCacheInfo();h((Z==null?void 0:Z.lastSync)||null)},[]);const k=(L,Y,Z)=>{try{wt.configureNotion(L,Y,Z),d(!0),l(null)}catch(ge){l(ge instanceof Error?ge.message:""),d(!1)}},T=()=>x(null,null,function*(){if(!u){l("Notion APIID");return}i(!0),l(null);try{const L=yield wt.syncWorkspaceData();s(L),h(new Date().toISOString()),console.log(" ")}catch(L){const Y=L instanceof Error?L.message:"";l(Y),console.error(" :",Y);const Z=wt.getCachedWorkspaceItems();Z.length>0&&(s(Z),console.warn(""))}finally{i(!1)}}),Ce={isWorkspaceOpen:e,workspaceItems:r,isLoading:a,error:o,isConfigured:u,lastSync:c,viewType:m,selectedCategory:g,searchQuery:y,searchSuggestions:v,filteredItems:N,categories:O,focusedItemIndex:R,setIsWorkspaceOpen:t,syncWorkspaceData:T,configureNotion:k,testConnection:()=>x(null,null,function*(){if(!u)return!1;try{const L=yield wt.testConnection();return L||l("Notion APIAPI"),L}catch(L){return l(""),!1}}),clearConfiguration:()=>{wt.clearAll(),d(!1),s([]),l(null),h(null)},refreshItems:()=>x(null,null,function*(){yield T()}),getConfiguration:()=>wt.getConfig(),setViewType:b,setSelectedCategory:p,setSearchQuery:I,clearFilters:()=>{p("all"),I(""),$(-1)},setFocusedItemIndex:$,moveFocusUp:()=>{$(L=>Math.max(0,L-1))},moveFocusDown:()=>{$(L=>Math.min(N.length-1,L+1))},openItem:L=>{window.open(L.url,"_blank","noopener,noreferrer")},copyItemUrl:L=>x(null,null,function*(){try{yield navigator.clipboard.writeText(L.url),console.log("URL ")}catch(Y){console.error(" URL :",Y)}}),copyItemCredentials:(L,Y)=>x(null,null,function*(){try{const Z=Y==="username"?L.username:L.password;Z&&(yield navigator.clipboard.writeText(Z),console.log(`${Y==="username"?"":""} `))}catch(Z){console.error(`${Y==="username"?"":""}:`,Z)}})};return f.jsx(ru.Provider,{value:Ce,children:n})}function su(){const n=A.useContext(ru);if(n===void 0)throw new Error("useWorkspace must be used within a WorkspaceProvider");return n}var _s={exports:{}},Ss={exports:{}},As={exports:{}},bo;function K(){return bo||(bo=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){if(r==null)throw new TypeError("Expected a string but received a ".concat(r));if(r.constructor.name!=="String")throw new TypeError("Expected a string but received a ".concat(r.constructor.name))}n.exports=e.default,n.exports.default=e.default}(As,As.exports)),As.exports}var xo;function fi(){return xo||(xo=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(K());function r(a){return a&&a.__esModule?a:{default:a}}function s(a){return(0,t.default)(a),a=Date.parse(a),isNaN(a)?null:new Date(a)}n.exports=e.default,n.exports.default=e.default}(Ss,Ss.exports)),Ss.exports}var Is={exports:{}},Ar={},Es={exports:{}},wo;function au(){return wo||(wo=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){return r==null}n.exports=e.default,n.exports.default=e.default}(Es,Es.exports)),Es.exports}var Fe={},_o;function ls(){if(_o)return Fe;_o=1,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.farsiLocales=Fe.englishLocales=Fe.dotDecimal=Fe.decimal=Fe.commaDecimal=Fe.bengaliLocales=Fe.arabicLocales=Fe.alphanumeric=Fe.alpha=void 0;for(var n=Fe.alpha={"en-US":/^[A-Z]+$/i,"az-AZ":/^[A-VXYZ]+$/i,"bg-BG":/^[-]+$/i,"cs-CZ":/^[A-Z]+$/i,"da-DK":/^[A-Z]+$/i,"de-DE":/^[A-Z]+$/i,"el-GR":/^[-]+$/i,"es-ES":/^[A-Z]+$/i,"fa-IR":/^[]+$/i,"fi-FI":/^[A-Z]+$/i,"fr-FR":/^[A-Z]+$/i,"it-IT":/^[A-Z]+$/i,"ja-JP":/^[----]+$/i,"nb-NO":/^[A-Z]+$/i,"nl-NL":/^[A-Z]+$/i,"nn-NO":/^[A-Z]+$/i,"hu-HU":/^[A-Z]+$/i,"pl-PL":/^[A-Z]+$/i,"pt-PT":/^[A-Z]+$/i,"ru-RU":/^[-]+$/i,"kk-KZ":/^[-\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]+$/i,"sl-SI":/^[A-Z]+$/i,"sk-SK":/^[A-Z]+$/i,"sr-RS@latin":/^[A-Z]+$/i,"sr-RS":/^[-]+$/i,"sv-SE":/^[A-Z]+$/i,"th-TH":/^[-\s]+$/i,"tr-TR":/^[A-Z]+$/i,"uk-UA":/^[-I]+$/i,"vi-VN":/^[A-Z]+$/i,"ko-KR":/^[---]*$/,"ku-IQ":/^[]+$/i,ar:/^[]+$/,he:/^[-]+$/,fa:/^['']+$/i,bn:/^['']+$/,eo:/^[ABCD-GHIJK-PRSTUVZ]+$/i,"hi-IN":/^[\u0900-\u0961]+[\u0972-\u097F]*$/i,"si-LK":/^[\u0D80-\u0DFF]+$/},e=Fe.alphanumeric={"en-US":/^[0-9A-Z]+$/i,"az-AZ":/^[0-9A-VXYZ]+$/i,"bg-BG":/^[0-9-]+$/i,"cs-CZ":/^[0-9A-Z]+$/i,"da-DK":/^[0-9A-Z]+$/i,"de-DE":/^[0-9A-Z]+$/i,"el-GR":/^[0-9-]+$/i,"es-ES":/^[0-9A-Z]+$/i,"fi-FI":/^[0-9A-Z]+$/i,"fr-FR":/^[0-9A-Z]+$/i,"it-IT":/^[0-9A-Z]+$/i,"ja-JP":/^[0-9-----]+$/i,"hu-HU":/^[0-9A-Z]+$/i,"nb-NO":/^[0-9A-Z]+$/i,"nl-NL":/^[0-9A-Z]+$/i,"nn-NO":/^[0-9A-Z]+$/i,"pl-PL":/^[0-9A-Z]+$/i,"pt-PT":/^[0-9A-Z]+$/i,"ru-RU":/^[0-9-]+$/i,"kk-KZ":/^[0-9-\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]+$/i,"sl-SI":/^[0-9A-Z]+$/i,"sk-SK":/^[0-9A-Z]+$/i,"sr-RS@latin":/^[0-9A-Z]+$/i,"sr-RS":/^[0-9-]+$/i,"sv-SE":/^[0-9A-Z]+$/i,"th-TH":/^[-\s]+$/i,"tr-TR":/^[0-9A-Z]+$/i,"uk-UA":/^[0-9-I]+$/i,"ko-KR":/^[0-9---]*$/,"ku-IQ":/^[0-9]+$/i,"vi-VN":/^[0-9A-Z]+$/i,ar:/^[0-9]+$/,he:/^[0-9-]+$/,fa:/^['0-9']+$/i,bn:/^['']+$/,eo:/^[0-9ABCD-GHIJK-PRSTUVZ]+$/i,"hi-IN":/^[\u0900-\u0963]+[\u0966-\u097F]*$/i,"si-LK":/^[0-9\u0D80-\u0DFF]+$/},t=Fe.decimal={"en-US":".",ar:""},r=Fe.englishLocales=["AU","GB","HK","IN","NZ","ZA","ZM"],s,a=0;a<r.length;a++)s="en-".concat(r[a]),n[s]=n["en-US"],e[s]=e["en-US"],t[s]=t["en-US"];for(var i=Fe.arabicLocales=["AE","BH","DZ","EG","IQ","JO","KW","LB","LY","MA","QM","QA","SA","SD","SY","TN","YE"],o,l=0;l<i.length;l++)o="ar-".concat(i[l]),n[o]=n.ar,e[o]=e.ar,t[o]=t.ar;for(var u=Fe.farsiLocales=["IR","AF"],d,c=0;c<u.length;c++)d="fa-".concat(u[c]),e[d]=e.fa,t[d]=t.ar;for(var h=Fe.bengaliLocales=["BD","IN"],m,b=0;b<h.length;b++)m="bn-".concat(h[b]),n[m]=n.bn,e[m]=e.bn,t[m]=t["en-US"];for(var g=Fe.dotDecimal=["ar-EG","ar-LB","ar-LY"],p=Fe.commaDecimal=["bg-BG","cs-CZ","da-DK","de-DE","el-GR","en-ZM","eo","es-ES","fr-CA","fr-FR","id-ID","it-IT","ku-IQ","hi-IN","hu-HU","nb-NO","nn-NO","nl-NL","pl-PL","pt-PT","ru-RU","kk-KZ","si-LK","sl-SI","sr-RS@latin","sr-RS","sv-SE","tr-TR","uk-UA","vi-VN"],y=0;y<g.length;y++)t[g[y]]=t["en-US"];for(var I=0;I<p.length;I++)t[p[I]]=",";return n["fr-CA"]=n["fr-FR"],e["fr-CA"]=e["fr-FR"],n["pt-BR"]=n["pt-PT"],e["pt-BR"]=e["pt-PT"],t["pt-BR"]=t["pt-PT"],n["pl-Pl"]=n["pl-PL"],e["pl-Pl"]=e["pl-PL"],t["pl-Pl"]=t["pl-PL"],n["fa-AF"]=n.fa,Fe}var So;function nu(){if(So)return Ar;So=1,Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.default=s,Ar.locales=void 0;var n=r(K()),e=r(au()),t=ls();function r(a){return a&&a.__esModule?a:{default:a}}function s(a,i){(0,n.default)(a),i=i||{};var o=new RegExp("^(?:[-+])?(?:[0-9]+)?(?:\\".concat(i.locale?t.decimal[i.locale]:".","[0-9]*)?(?:[eE][\\+\\-]?(?:[0-9]+))?$"));if(a===""||a==="."||a===","||a==="-"||a==="+")return!1;var l=parseFloat(a.replace(",","."));return o.test(a)&&(!i.hasOwnProperty("min")||(0,e.default)(i.min)||l>=i.min)&&(!i.hasOwnProperty("max")||(0,e.default)(i.max)||l<=i.max)&&(!i.hasOwnProperty("lt")||(0,e.default)(i.lt)||l<i.lt)&&(!i.hasOwnProperty("gt")||(0,e.default)(i.gt)||l>i.gt)}return Ar.locales=Object.keys(t.decimal),Ar}var Ao;function iu(){return Ao||(Ao=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(nu());function r(a){return a&&a.__esModule?a:{default:a}}function s(a){return(0,t.default)(a)?parseFloat(a):NaN}n.exports=e.default,n.exports.default=e.default}(Is,Is.exports)),Is.exports}var Cs={exports:{}},Io;function Cp(){return Io||(Io=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(K());function r(a){return a&&a.__esModule?a:{default:a}}function s(a,i){return(0,t.default)(a),parseInt(a,i||10)}n.exports=e.default,n.exports.default=e.default}(Cs,Cs.exports)),Cs.exports}var ks={exports:{}},Eo;function kp(){return Eo||(Eo=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(K());function r(a){return a&&a.__esModule?a:{default:a}}function s(a,i){return(0,t.default)(a),i?a==="1"||/^true$/i.test(a):a!=="0"&&!/^false$/i.test(a)&&a!==""}n.exports=e.default,n.exports.default=e.default}(ks,ks.exports)),ks.exports}var Rs={exports:{}},Co;function Rp(){return Co||(Co=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(K());function r(a){return a&&a.__esModule?a:{default:a}}function s(a,i){return(0,t.default)(a),a===i}n.exports=e.default,n.exports.default=e.default}(Rs,Rs.exports)),Rs.exports}var $s={exports:{}},Ts={exports:{}},ko;function ou(){return ko||(ko=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function t(s){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},t(s)}function r(s){return t(s)==="object"&&s!==null?typeof s.toString=="function"?s=s.toString():s="[object Object]":(s===null||typeof s=="undefined"||isNaN(s)&&!s.length)&&(s=""),String(s)}n.exports=e.default,n.exports.default=e.default}(Ts,Ts.exports)),Ts.exports}var js={exports:{}},Ro;function tt(){return Ro||(Ro=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;for(var a in s)typeof r[a]=="undefined"&&(r[a]=s[a]);return r}n.exports=e.default,n.exports.default=e.default}(js,js.exports)),js.exports}var $o;function $p(){return $o||($o=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=a(K()),r=a(ou()),s=a(tt());function a(l){return l&&l.__esModule?l:{default:l}}var i={ignoreCase:!1,minOccurrences:1};function o(l,u,d){return(0,t.default)(l),d=(0,s.default)(d,i),d.ignoreCase?l.toLowerCase().split((0,r.default)(u).toLowerCase()).length>d.minOccurrences:l.split((0,r.default)(u)).length>d.minOccurrences}n.exports=e.default,n.exports.default=e.default}($s,$s.exports)),$s.exports}var Ns={exports:{}},To;function Tp(){return To||(To=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(K());function r(a){return a&&a.__esModule?a:{default:a}}function s(a,i,o){return(0,t.default)(a),Object.prototype.toString.call(i)!=="[object RegExp]"&&(i=new RegExp(i,o)),!!a.match(i)}n.exports=e.default,n.exports.default=e.default}(Ns,Ns.exports)),Ns.exports}var Ps={exports:{}},Os={exports:{}},jo;function lu(){return jo||(jo=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function t(s){return Object.prototype.toString.call(s)==="[object RegExp]"}function r(s,a){for(var i=0;i<a.length;i++){var o=a[i];if(s===o||t(o)&&o.test(s))return!0}return!1}n.exports=e.default,n.exports.default=e.default}(Os,Os.exports)),Os.exports}var Ds={exports:{}},No;function cu(){return No||(No=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=r(K());function r(i){return i&&i.__esModule?i:{default:i}}function s(i){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},s(i)}function a(i,o){(0,t.default)(i);var l,u;s(o)==="object"?(l=o.min||0,u=o.max):(l=arguments[1],u=arguments[2]);var d=encodeURI(i).split(/%..|./).length-1;return d>=l&&(typeof u=="undefined"||d<=u)}n.exports=e.default,n.exports.default=e.default}(Ds,Ds.exports)),Ds.exports}var Ms={exports:{}},Po;function hi(){return Po||(Po=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=s(K()),r=s(tt());function s(o){return o&&o.__esModule?o:{default:o}}var a={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};function i(o,l){(0,t.default)(o),l=(0,r.default)(l,a),l.allow_trailing_dot&&o[o.length-1]==="."&&(o=o.substring(0,o.length-1)),l.allow_wildcard===!0&&o.indexOf("*.")===0&&(o=o.substring(2));var u=o.split("."),d=u[u.length-1];return l.require_tld&&(u.length<2||!l.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(d)||/\s/.test(d))||!l.allow_numeric_tld&&/^\d+$/.test(d)?!1:u.every(function(c){return!(c.length>63&&!l.ignore_max_length||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(c)||/[\uff01-\uff5e]/.test(c)||/^-|-$/.test(c)||!l.allow_underscores&&/_/.test(c))})}n.exports=e.default,n.exports.default=e.default}(Ms,Ms.exports)),Ms.exports}var Ls={exports:{}},Oo;function wn(){return Oo||(Oo=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=d;var t=r(K());function r(c){return c&&c.__esModule?c:{default:c}}function s(c){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},s(c)}var a="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",i="(".concat(a,"[.]){3}").concat(a),o=new RegExp("^".concat(i,"$")),l="(?:[0-9a-fA-F]{1,4})",u=new RegExp("^("+"(?:".concat(l,":){7}(?:").concat(l,"|:)|")+"(?:".concat(l,":){6}(?:").concat(i,"|:").concat(l,"|:)|")+"(?:".concat(l,":){5}(?::").concat(i,"|(:").concat(l,"){1,2}|:)|")+"(?:".concat(l,":){4}(?:(:").concat(l,"){0,1}:").concat(i,"|(:").concat(l,"){1,3}|:)|")+"(?:".concat(l,":){3}(?:(:").concat(l,"){0,2}:").concat(i,"|(:").concat(l,"){1,4}|:)|")+"(?:".concat(l,":){2}(?:(:").concat(l,"){0,3}:").concat(i,"|(:").concat(l,"){1,5}|:)|")+"(?:".concat(l,":){1}(?:(:").concat(l,"){0,4}:").concat(i,"|(:").concat(l,"){1,6}|:)|")+"(?::((?::".concat(l,"){0,5}:").concat(i,"|(?::").concat(l,"){1,7}|:))")+")(%[0-9a-zA-Z.]{1,})?$");function d(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,t.default)(c);var m=(s(h)==="object"?h.version:arguments[1])||"";return m?m.toString()==="4"?o.test(c):m.toString()==="6"?u.test(c):!1:d(c,{version:4})||d(c,{version:6})}n.exports=e.default,n.exports.default=e.default}(Ls,Ls.exports)),Ls.exports}var Do;function uu(){return Do||(Do=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=I;var t=l(K()),r=l(lu()),s=l(cu()),a=l(hi()),i=l(wn()),o=l(tt());function l(v){return v&&v.__esModule?v:{default:v}}var u={allow_display_name:!1,allow_underscores:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[],host_whitelist:[]},d=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,c=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,h=/^[a-z\d]+$/,m=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,b=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A1-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,g=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,p=254;function y(v){var _=v.replace(/^"(.+)"$/,"$1");if(!_.trim())return!1;var R=/[\.";<>]/.test(_);if(R){if(_===v)return!1;var $=_.split('"').length===_.split('\\"').length;if(!$)return!1}return!0}function I(v,_){if((0,t.default)(v),_=(0,o.default)(_,u),_.require_display_name||_.allow_display_name){var R=v.match(d);if(R){var $=R[1];if(v=v.replace($,"").replace(/(^<|>$)/g,""),$.endsWith(" ")&&($=$.slice(0,-1)),!y($))return!1}else if(_.require_display_name)return!1}if(!_.ignore_max_length&&v.length>p)return!1;var O=v.split("@"),N=O.pop(),k=N.toLowerCase();if(_.host_blacklist.length>0&&(0,r.default)(k,_.host_blacklist)||_.host_whitelist.length>0&&!(0,r.default)(k,_.host_whitelist))return!1;var T=O.join("@");if(_.domain_specific_validation&&(k==="gmail.com"||k==="googlemail.com")){T=T.toLowerCase();var q=T.split("+")[0];if(!(0,s.default)(q.replace(/\./g,""),{min:6,max:30}))return!1;for(var W=q.split("."),M=0;M<W.length;M++)if(!h.test(W[M]))return!1}if(_.ignore_max_length===!1&&(!(0,s.default)(T,{max:64})||!(0,s.default)(N,{max:254})))return!1;if(!(0,a.default)(N,{require_tld:_.require_tld,ignore_max_length:_.ignore_max_length,allow_underscores:_.allow_underscores})){if(!_.allow_ip_domain)return!1;if(!(0,i.default)(N)){if(!N.startsWith("[")||!N.endsWith("]"))return!1;var ue=N.slice(1,-1);if(ue.length===0||!(0,i.default)(ue))return!1}}if(_.blacklisted_chars&&T.search(new RegExp("[".concat(_.blacklisted_chars,"]+"),"g"))!==-1)return!1;if(T[0]==='"'&&T[T.length-1]==='"')return T=T.slice(1,T.length-1),_.allow_utf8_local_part?g.test(T):m.test(T);for(var oe=_.allow_utf8_local_part?b:c,te=T.split("."),ye=0;ye<te.length;ye++)if(!oe.test(te[ye]))return!1;return!0}n.exports=e.default,n.exports.default=e.default}(Ps,Ps.exports)),Ps.exports}var Bs={exports:{}},Us={exports:{}},Mo;function du(){return Mo||(Mo=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(s,a){return s.indexOf(a)!==-1};e.default=t,n.exports=e.default,n.exports.default=e.default}(Us,Us.exports)),Us.exports}var Lo;function jp(){return Lo||(Lo=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=y;var t=l(K()),r=l(lu()),s=l(du()),a=l(hi()),i=l(wn()),o=l(tt());function l(I){return I&&I.__esModule?I:{default:I}}function u(I,v){return b(I)||m(I,v)||c(I,v)||d()}function d(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c(I,v){if(I){if(typeof I=="string")return h(I,v);var _={}.toString.call(I).slice(8,-1);return _==="Object"&&I.constructor&&(_=I.constructor.name),_==="Map"||_==="Set"?Array.from(I):_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?h(I,v):void 0}}function h(I,v){(v==null||v>I.length)&&(v=I.length);for(var _=0,R=Array(v);_<v;_++)R[_]=I[_];return R}function m(I,v){var _=I==null?null:typeof Symbol!="undefined"&&I[Symbol.iterator]||I["@@iterator"];if(_!=null){var R,$,O,N,k=[],T=!0,q=!1;try{if(O=(_=_.call(I)).next,v!==0)for(;!(T=(R=O.call(_)).done)&&(k.push(R.value),k.length!==v);T=!0);}catch(W){q=!0,$=W}finally{try{if(!T&&_.return!=null&&(N=_.return(),Object(N)!==N))return}finally{if(q)throw $}}return k}}function b(I){if(Array.isArray(I))return I}var g={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0,max_allowed_length:2084},p=/^\[([^\]]+)\](?::([0-9]+))?$/;function y(I,v){if((0,t.default)(I),!I||/[\s<>]/.test(I)||I.indexOf("mailto:")===0||(v=(0,o.default)(v,g),v.validate_length&&I.length>v.max_allowed_length)||!v.allow_fragments&&(0,s.default)(I,"#")||!v.allow_query_components&&((0,s.default)(I,"?")||(0,s.default)(I,"&")))return!1;var _,R,$,O,N,k,T,q;if(T=I.split("#"),I=T.shift(),T=I.split("?"),I=T.shift(),T=I.split("://"),T.length>1){if(_=T.shift().toLowerCase(),v.require_valid_protocol&&v.protocols.indexOf(_)===-1)return!1}else{if(v.require_protocol)return!1;if(I.slice(0,2)==="//"){if(!v.allow_protocol_relative_urls)return!1;T[0]=I.slice(2)}}if(I=T.join("://"),I==="")return!1;if(T=I.split("/"),I=T.shift(),I===""&&!v.require_host)return!0;if(T=I.split("@"),T.length>1){if(v.disallow_auth||T[0]===""||(R=T.shift(),R.indexOf(":")>=0&&R.split(":").length>2))return!1;var W=R.split(":"),M=u(W,2),ue=M[0],oe=M[1];if(ue===""&&oe==="")return!1}O=T.join("@"),k=null,q=null;var te=O.match(p);if(te?($="",q=te[1],k=te[2]||null):(T=O.split(":"),$=T.shift(),T.length&&(k=T.join(":"))),k!==null&&k.length>0){if(N=parseInt(k,10),!/^[0-9]+$/.test(k)||N<=0||N>65535)return!1}else if(v.require_port)return!1;return v.host_whitelist?(0,r.default)($,v.host_whitelist):$===""&&!v.require_host?!0:!(!(0,i.default)($)&&!(0,a.default)($,v)&&(!q||!(0,i.default)(q,6))||($=$||q,v.host_blacklist&&(0,r.default)($,v.host_blacklist)))}n.exports=e.default,n.exports.default=e.default}(Bs,Bs.exports)),Bs.exports}var Fs={exports:{}},Bo;function Np(){return Bo||(Bo=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=d;var t=r(K());function r(c){return c&&c.__esModule?c:{default:c}}var s=/^(?:[0-9a-fA-F]{2}([-:\s]))([0-9a-fA-F]{2}\1){4}([0-9a-fA-F]{2})$/,a=/^([0-9a-fA-F]){12}$/,i=/^([0-9a-fA-F]{4}\.){2}([0-9a-fA-F]{4})$/,o=/^(?:[0-9a-fA-F]{2}([-:\s]))([0-9a-fA-F]{2}\1){6}([0-9a-fA-F]{2})$/,l=/^([0-9a-fA-F]){16}$/,u=/^([0-9a-fA-F]{4}\.){3}([0-9a-fA-F]{4})$/;function d(c,h){return(0,t.default)(c),h!=null&&h.eui&&(h.eui=String(h.eui)),h!=null&&h.no_colons||h!=null&&h.no_separators?h.eui==="48"?a.test(c):h.eui==="64"?l.test(c):a.test(c)||l.test(c):(h==null?void 0:h.eui)==="48"?s.test(c)||i.test(c):(h==null?void 0:h.eui)==="64"?o.test(c)||u.test(c):d(c,{eui:"48"})||d(c,{eui:"64"})}n.exports=e.default,n.exports.default=e.default}(Fs,Fs.exports)),Fs.exports}var qs={exports:{}},Uo;function Pp(){return Uo||(Uo=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=s(K()),r=s(wn());function s(u){return u&&u.__esModule?u:{default:u}}var a=/^\d{1,3}$/,i=32,o=128;function l(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(0,t.default)(u);var c=u.split("/");if(c.length!==2||!a.test(c[1])||c[1].length>1&&c[1].startsWith("0"))return!1;var h=(0,r.default)(c[0],d);if(!h)return!1;var m=null;switch(String(d)){case"4":m=i;break;case"6":m=o;break;default:m=(0,r.default)(c[0],"6")?o:i}return c[1]<=m&&c[1]>=0}n.exports=e.default,n.exports.default=e.default}(qs,qs.exports)),qs.exports}var Ws={exports:{}},Fo;function fu(){return Fo||(Fo=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=b;var t=r(tt());function r(g){return g&&g.__esModule?g:{default:g}}function s(g,p){return o(g)||i(g,p)||u(g,p)||a()}function a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i(g,p){var y=g==null?null:typeof Symbol!="undefined"&&g[Symbol.iterator]||g["@@iterator"];if(y!=null){var I,v,_,R,$=[],O=!0,N=!1;try{if(_=(y=y.call(g)).next,p!==0)for(;!(O=(I=_.call(y)).done)&&($.push(I.value),$.length!==p);O=!0);}catch(k){N=!0,v=k}finally{try{if(!O&&y.return!=null&&(R=y.return(),Object(R)!==R))return}finally{if(N)throw v}}return $}}function o(g){if(Array.isArray(g))return g}function l(g,p){var y=typeof Symbol!="undefined"&&g[Symbol.iterator]||g["@@iterator"];if(!y){if(Array.isArray(g)||(y=u(g))||p){y&&(g=y);var I=0,v=function(){};return{s:v,n:function(){return I>=g.length?{done:!0}:{done:!1,value:g[I++]}},e:function(N){throw N},f:v}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _,R=!0,$=!1;return{s:function(){y=y.call(g)},n:function(){var N=y.next();return R=N.done,N},e:function(N){$=!0,_=N},f:function(){try{R||y.return==null||y.return()}finally{if($)throw _}}}}function u(g,p){if(g){if(typeof g=="string")return d(g,p);var y={}.toString.call(g).slice(8,-1);return y==="Object"&&g.constructor&&(y=g.constructor.name),y==="Map"||y==="Set"?Array.from(g):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?d(g,p):void 0}}function d(g,p){(p==null||p>g.length)&&(p=g.length);for(var y=0,I=Array(p);y<p;y++)I[y]=g[y];return I}var c={format:"YYYY/MM/DD",delimiters:["/","-"],strictMode:!1};function h(g){return/(^(y{4}|y{2})[.\/-](m{1,2})[.\/-](d{1,2})$)|(^(m{1,2})[.\/-](d{1,2})[.\/-]((y{4}|y{2})$))|(^(d{1,2})[.\/-](m{1,2})[.\/-]((y{4}|y{2})$))/gi.test(g)}function m(g,p){for(var y=[],I=Math.max(g.length,p.length),v=0;v<I;v++)y.push([g[v],p[v]]);return y}function b(g,p){if(typeof p=="string"?p=(0,t.default)({format:p},c):p=(0,t.default)(p,c),typeof g=="string"&&h(p.format)){if(p.strictMode&&g.length!==p.format.length)return!1;var y=p.delimiters.find(function(oe){return p.format.indexOf(oe)!==-1}),I=p.strictMode?y:p.delimiters.find(function(oe){return g.indexOf(oe)!==-1}),v=m(g.split(I),p.format.toLowerCase().split(y)),_={},R=l(v),$;try{for(R.s();!($=R.n()).done;){var O=s($.value,2),N=O[0],k=O[1];if(!N||!k||N.length!==k.length)return!1;_[k.charAt(0)]=N}}catch(oe){R.e(oe)}finally{R.f()}var T=_.y;if(T.startsWith("-"))return!1;if(_.y.length===2){var q=parseInt(_.y,10);if(isNaN(q))return!1;var W=new Date().getFullYear()%100;q<W?T="20".concat(_.y):T="19".concat(_.y)}var M=_.m;_.m.length===1&&(M="0".concat(_.m));var ue=_.d;return _.d.length===1&&(ue="0".concat(_.d)),new Date("".concat(T,"-").concat(M,"-").concat(ue,"T00:00:00.000Z")).getUTCDate()===+_.d}return p.strictMode?!1:Object.prototype.toString.call(g)==="[object Date]"&&isFinite(g)}n.exports=e.default,n.exports.default=e.default}(Ws,Ws.exports)),Ws.exports}var Zs={exports:{}},qo;function Op(){return qo||(qo=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=r(tt());function r(o){return o&&o.__esModule?o:{default:o}}var s={hourFormat:"hour24",mode:"default"},a={hour24:{default:/^([01]?[0-9]|2[0-3]):([0-5][0-9])$/,withSeconds:/^([01]?[0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$/,withOptionalSeconds:/^([01]?[0-9]|2[0-3]):([0-5][0-9])(?::([0-5][0-9]))?$/},hour12:{default:/^(0?[1-9]|1[0-2]):([0-5][0-9]) (A|P)M$/,withSeconds:/^(0?[1-9]|1[0-2]):([0-5][0-9]):([0-5][0-9]) (A|P)M$/,withOptionalSeconds:/^(0?[1-9]|1[0-2]):([0-5][0-9])(?::([0-5][0-9]))? (A|P)M$/}};function i(o,l){return l=(0,t.default)(l,s),typeof o!="string"?!1:a[l.hourFormat][l.mode].test(o)}n.exports=e.default,n.exports.default=e.default}(Zs,Zs.exports)),Zs.exports}var Hs={exports:{}},zs={exports:{}},Wo;function cs(){return Wo||(Wo=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(s,a){return s.some(function(i){return a===i})};e.default=t,n.exports=e.default,n.exports.default=e.default}(zs,zs.exports)),zs.exports}var Zo;function Dp(){return Zo||(Zo=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=s(K()),r=s(cs());function s(u){return u&&u.__esModule?u:{default:u}}var a={loose:!1},i=["true","false","1","0"],o=[].concat(i,["yes","no"]);function l(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a;return(0,t.default)(u),d.loose?(0,r.default)(o,u.toLowerCase()):(0,r.default)(i,u)}n.exports=e.default,n.exports.default=e.default}(Hs,Hs.exports)),Hs.exports}var Ks={exports:{}},Ho;function Mp(){return Ho||(Ho=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=I;var t=r(K());function r(v){return v&&v.__esModule?v:{default:v}}var s="([A-Za-z]{3}(-[A-Za-z]{3}){0,2})",a="(([a-zA-Z]{2,3}(-".concat(s,")?)|([a-zA-Z]{5,8}))"),i="([A-Za-z]{4})",o="([A-Za-z]{2}|\\d{3})",l="([A-Za-z0-9]{5,8}|(\\d[A-Z-a-z0-9]{3}))",u="(\\d|[A-W]|[Y-Z]|[a-w]|[y-z])",d="(".concat(u,"(-[A-Za-z0-9]{2,8})+)"),c="(x(-[A-Za-z0-9]{1,8})+)",h="((en-GB-oed)|(i-ami)|(i-bnn)|(i-default)|(i-enochian)|(i-hak)|(i-klingon)|(i-lux)|(i-mingo)|(i-navajo)|(i-pwn)|(i-tao)|(i-tay)|(i-tsu)|(sgn-BE-FR)|(sgn-BE-NL)|(sgn-CH-DE))",m="((art-lojban)|(cel-gaulish)|(no-bok)|(no-nyn)|(zh-guoyu)|(zh-hakka)|(zh-min)|(zh-min-nan)|(zh-xiang))",b="(".concat(h,"|").concat(m,")"),g="(-|_)",p="".concat(a,"(").concat(g).concat(i,")?(").concat(g).concat(o,")?(").concat(g).concat(l,")*(").concat(g).concat(d,")*(").concat(g).concat(c,")?"),y=new RegExp("(^".concat(c,"$)|(^").concat(b,"$)|(^").concat(p,"$)"));function I(v){return(0,t.default)(v),y.test(v)}n.exports=e.default,n.exports.default=e.default}(Ks,Ks.exports)),Ks.exports}var Gs={exports:{}},zo;function Lp(){return zo||(zo=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=r(K());function r(i){return i&&i.__esModule?i:{default:i}}var s=/^(?!(1[3-9])|(20)|(3[3-9])|(4[0-9])|(5[0-9])|(60)|(7[3-9])|(8[1-9])|(9[0-2])|(9[3-9]))[0-9]{9}$/;function a(i){if((0,t.default)(i),!s.test(i))return!1;for(var o=0,l=0;l<i.length;l++)l%3===0?o+=i[l]*3:l%3===1?o+=i[l]*7:o+=i[l]*1;return o%10===0}n.exports=e.default,n.exports.default=e.default}(Gs,Gs.exports)),Gs.exports}var Ir={},Ko;function Bp(){if(Ko)return Ir;Ko=1,Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.default=r,Ir.locales=void 0;var n=t(K()),e=ls();function t(s){return s&&s.__esModule?s:{default:s}}function r(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en-US",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(0,n.default)(s);var o=s,l=i.ignore;if(l)if(l instanceof RegExp)o=o.replace(l,"");else if(typeof l=="string")o=o.replace(new RegExp("[".concat(l.replace(/[-[\]{}()*+?.,\\^$|#\\s]/g,"\\$&"),"]"),"g"),"");else throw new Error("ignore should be instance of a String or RegExp");if(a in e.alpha)return e.alpha[a].test(o);throw new Error("Invalid locale '".concat(a,"'"))}return Ir.locales=Object.keys(e.alpha),Ir}var Er={},Go;function Up(){if(Go)return Er;Go=1,Object.defineProperty(Er,"__esModule",{value:!0}),Er.default=r,Er.locales=void 0;var n=t(K()),e=ls();function t(s){return s&&s.__esModule?s:{default:s}}function r(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en-US",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(0,n.default)(s);var o=s,l=i.ignore;if(l)if(l instanceof RegExp)o=o.replace(l,"");else if(typeof l=="string")o=o.replace(new RegExp("[".concat(l.replace(/[-[\]{}()*+?.,\\^$|#\\s]/g,"\\$&"),"]"),"g"),"");else throw new Error("ignore should be instance of a String or RegExp");if(a in e.alphanumeric)return e.alphanumeric[a].test(o);throw new Error("Invalid locale '".concat(a,"'"))}return Er.locales=Object.keys(e.alphanumeric),Er}var Vs={exports:{}},Vo;function Fp(){return Vo||(Vo=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=s(K()),r=ls();function s(o){return o&&o.__esModule?o:{default:o}}var a=/^[0-9]+$/;function i(o,l){return(0,t.default)(o),l&&l.no_symbols?a.test(o):new RegExp("^[+-]?([0-9]*[".concat((l||{}).locale?r.decimal[l.locale]:".","])?[0-9]+$")).test(o)}n.exports=e.default,n.exports.default=e.default}(Vs,Vs.exports)),Vs.exports}var Cr={},Yo;function qp(){if(Yo)return Cr;Yo=1,Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.default=r,Cr.locales=void 0;var n=e(K());function e(s){return s&&s.__esModule?s:{default:s}}var t={AM:/^[A-Z]{2}\d{7}$/,AR:/^[A-Z]{3}\d{6}$/,AT:/^[A-Z]\d{7}$/,AU:/^[A-Z]\d{7}$/,AZ:/^[A-Z]{1}\d{8}$/,BE:/^[A-Z]{2}\d{6}$/,BG:/^\d{9}$/,BR:/^[A-Z]{2}\d{6}$/,BY:/^[A-Z]{2}\d{7}$/,CA:/^[A-Z]{2}\d{6}$|^[A-Z]\d{6}[A-Z]{2}$/,CH:/^[A-Z]\d{7}$/,CN:/^G\d{8}$|^E(?![IO])[A-Z0-9]\d{7}$/,CY:/^[A-Z](\d{6}|\d{8})$/,CZ:/^\d{8}$/,DE:/^[CFGHJKLMNPRTVWXYZ0-9]{9}$/,DK:/^\d{9}$/,DZ:/^\d{9}$/,EE:/^([A-Z]\d{7}|[A-Z]{2}\d{7})$/,ES:/^[A-Z0-9]{2}([A-Z0-9]?)\d{6}$/,FI:/^[A-Z]{2}\d{7}$/,FR:/^\d{2}[A-Z]{2}\d{5}$/,GB:/^\d{9}$/,GR:/^[A-Z]{2}\d{7}$/,HR:/^\d{9}$/,HU:/^[A-Z]{2}(\d{6}|\d{7})$/,IE:/^[A-Z0-9]{2}\d{7}$/,IN:/^[A-Z]{1}-?\d{7}$/,ID:/^[A-C]\d{7}$/,IR:/^[A-Z]\d{8}$/,IS:/^(A)\d{7}$/,IT:/^[A-Z0-9]{2}\d{7}$/,JM:/^[Aa]\d{7}$/,JP:/^[A-Z]{2}\d{7}$/,KR:/^[MS]\d{8}$/,KZ:/^[a-zA-Z]\d{7}$/,LI:/^[a-zA-Z]\d{5}$/,LT:/^[A-Z0-9]{8}$/,LU:/^[A-Z0-9]{8}$/,LV:/^[A-Z0-9]{2}\d{7}$/,LY:/^[A-Z0-9]{8}$/,MT:/^\d{7}$/,MZ:/^([A-Z]{2}\d{7})|(\d{2}[A-Z]{2}\d{5})$/,MY:/^[AHK]\d{8}$/,MX:/^\d{10,11}$/,NL:/^[A-Z]{2}[A-Z0-9]{6}\d$/,NZ:/^([Ll]([Aa]|[Dd]|[Ff]|[Hh])|[Ee]([Aa]|[Pp])|[Nn])\d{6}$/,PH:/^([A-Z](\d{6}|\d{7}[A-Z]))|([A-Z]{2}(\d{6}|\d{7}))$/,PK:/^[A-Z]{2}\d{7}$/,PL:/^[A-Z]{2}\d{7}$/,PT:/^[A-Z]\d{6}$/,RO:/^\d{8,9}$/,RU:/^\d{9}$/,SE:/^\d{8}$/,SL:/^(P)[A-Z]\d{7}$/,SK:/^[0-9A-Z]\d{7}$/,TH:/^[A-Z]{1,2}\d{6,7}$/,TR:/^[A-Z]\d{8}$/,UA:/^[A-Z]{2}\d{6}$/,US:/^\d{9}$|^[A-Z]\d{8}$/,ZA:/^[TAMD]\d{8}$/};Cr.locales=Object.keys(t);function r(s,a){(0,n.default)(s);var i=s.replace(/\s/g,"").toUpperCase();return a.toUpperCase()in t&&t[a].test(i)}return Cr}var Ys={exports:{}},Js={exports:{}},Jo;function pi(){return Jo||(Jo=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=s(K()),r=s(au());function s(l){return l&&l.__esModule?l:{default:l}}var a=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,i=/^[-+]?[0-9]+$/;function o(l,u){(0,t.default)(l),u=u||{};var d=u.allow_leading_zeroes===!1?a:i,c=!u.hasOwnProperty("min")||(0,r.default)(u.min)||l>=u.min,h=!u.hasOwnProperty("max")||(0,r.default)(u.max)||l<=u.max,m=!u.hasOwnProperty("lt")||(0,r.default)(u.lt)||l<u.lt,b=!u.hasOwnProperty("gt")||(0,r.default)(u.gt)||l>u.gt;return d.test(l)&&c&&h&&m&&b}n.exports=e.default,n.exports.default=e.default}(Js,Js.exports)),Js.exports}var Xo;function Wp(){return Xo||(Xo=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(pi());function r(a){return a&&a.__esModule?a:{default:a}}function s(a){return(0,t.default)(a,{allow_leading_zeroes:!1,min:0,max:65535})}n.exports=e.default,n.exports.default=e.default}(Ys,Ys.exports)),Ys.exports}var Xs={exports:{}},Qo;function Zp(){return Qo||(Qo=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(K());function r(a){return a&&a.__esModule?a:{default:a}}function s(a){return(0,t.default)(a),a===a.toLowerCase()}n.exports=e.default,n.exports.default=e.default}(Xs,Xs.exports)),Xs.exports}var Qs={exports:{}},el;function Hp(){return el||(el=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(K());function r(a){return a&&a.__esModule?a:{default:a}}function s(a){return(0,t.default)(a),a===a.toUpperCase()}n.exports=e.default,n.exports.default=e.default}(Qs,Qs.exports)),Qs.exports}var ea={exports:{}},tl;function zp(){return tl||(tl=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=r(K());function r(o){return o&&o.__esModule?o:{default:o}}var s=/^[0-9]{15}$/,a=/^\d{2}-\d{6}-\d{6}-\d{1}$/;function i(o,l){(0,t.default)(o),l=l||{};var u=s;if(l.allow_hyphens&&(u=a),!u.test(o))return!1;o=o.replace(/-/g,"");for(var d=0,c=2,h=14,m=0;m<h;m++){var b=o.substring(h-m-1,h-m),g=parseInt(b,10)*c;g>=10?d+=g%10+1:d+=g,c===1?c+=1:c-=1}var p=(10-d%10)%10;return p===parseInt(o.substring(14,15),10)}n.exports=e.default,n.exports.default=e.default}(ea,ea.exports)),ea.exports}var ta={exports:{}},rl;function Kp(){return rl||(rl=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=r(K());function r(i){return i&&i.__esModule?i:{default:i}}var s=/^[\x00-\x7F]+$/;function a(i){return(0,t.default)(i),s.test(i)}n.exports=e.default,n.exports.default=e.default}(ta,ta.exports)),ta.exports}var kr={},sl;function hu(){if(sl)return kr;sl=1,Object.defineProperty(kr,"__esModule",{value:!0}),kr.default=r,kr.fullWidth=void 0;var n=e(K());function e(s){return s&&s.__esModule?s:{default:s}}var t=kr.fullWidth=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;function r(s){return(0,n.default)(s),t.test(s)}return kr}var Rr={},al;function pu(){if(al)return Rr;al=1,Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.default=r,Rr.halfWidth=void 0;var n=e(K());function e(s){return s&&s.__esModule?s:{default:s}}var t=Rr.halfWidth=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;function r(s){return(0,n.default)(s),t.test(s)}return Rr}var ra={exports:{}},nl;function Gp(){return nl||(nl=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=a(K()),r=hu(),s=pu();function a(o){return o&&o.__esModule?o:{default:o}}function i(o){return(0,t.default)(o),r.fullWidth.test(o)&&s.halfWidth.test(o)}n.exports=e.default,n.exports.default=e.default}(ra,ra.exports)),ra.exports}var sa={exports:{}},il;function Vp(){return il||(il=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=r(K());function r(i){return i&&i.__esModule?i:{default:i}}var s=/[^\x00-\x7F]/;function a(i){return(0,t.default)(i),s.test(i)}n.exports=e.default,n.exports.default=e.default}(sa,sa.exports)),sa.exports}var aa={exports:{}},na={exports:{}},ol;function Yp(){return ol||(ol=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r,s){var a=r.join("");return new RegExp(a,s)}n.exports=e.default,n.exports.default=e.default}(na,na.exports)),na.exports}var ll;function Jp(){return ll||(ll=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=s(K()),r=s(Yp());function s(o){return o&&o.__esModule?o:{default:o}}var a=(0,r.default)(["^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)","(?:-((?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*))*))","?(?:\\+([0-9a-z-]+(?:\\.[0-9a-z-]+)*))?$"],"i");function i(o){return(0,t.default)(o),a.test(o)}n.exports=e.default,n.exports.default=e.default}(aa,aa.exports)),aa.exports}var ia={exports:{}},cl;function Xp(){return cl||(cl=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=r(K());function r(i){return i&&i.__esModule?i:{default:i}}var s=/[\uD800-\uDBFF][\uDC00-\uDFFF]/;function a(i){return(0,t.default)(i),s.test(i)}n.exports=e.default,n.exports.default=e.default}(ia,ia.exports)),ia.exports}var oa={exports:{}},ul;function Qp(){return ul||(ul=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=d;var t=i(tt()),r=i(K()),s=i(cs()),a=ls();function i(c){return c&&c.__esModule?c:{default:c}}function o(c){var h=new RegExp("^[-+]?([0-9]+)?(\\".concat(a.decimal[c.locale],"[0-9]{").concat(c.decimal_digits,"})").concat(c.force_decimal?"":"?","$"));return h}var l={force_decimal:!1,decimal_digits:"1,",locale:"en-US"},u=["","-","+"];function d(c,h){if((0,r.default)(c),h=(0,t.default)(h,l),h.locale in a.decimal)return!(0,s.default)(u,c.replace(/ /g,""))&&o(h).test(c);throw new Error("Invalid locale '".concat(h.locale,"'"))}n.exports=e.default,n.exports.default=e.default}(oa,oa.exports)),oa.exports}var la={exports:{}},dl;function gu(){return dl||(dl=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=r(K());function r(i){return i&&i.__esModule?i:{default:i}}var s=/^(0x|0h)?[0-9A-F]+$/i;function a(i){return(0,t.default)(i),s.test(i)}n.exports=e.default,n.exports.default=e.default}(la,la.exports)),la.exports}var ca={exports:{}},fl;function e0(){return fl||(fl=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=r(K());function r(i){return i&&i.__esModule?i:{default:i}}var s=/^(0o)?[0-7]+$/i;function a(i){return(0,t.default)(i),s.test(i)}n.exports=e.default,n.exports.default=e.default}(ca,ca.exports)),ca.exports}var ua={exports:{}},hl;function t0(){return hl||(hl=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=s(K()),r=s(iu());function s(i){return i&&i.__esModule?i:{default:i}}function a(i,o){return(0,t.default)(i),(0,r.default)(i)%parseInt(o,10)===0}n.exports=e.default,n.exports.default=e.default}(ua,ua.exports)),ua.exports}var da={exports:{}},pl;function r0(){return pl||(pl=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=r(K());function r(i){return i&&i.__esModule?i:{default:i}}var s=/^#?([0-9A-F]{3}|[0-9A-F]{4}|[0-9A-F]{6}|[0-9A-F]{8})$/i;function a(i){return(0,t.default)(i),s.test(i)}n.exports=e.default,n.exports.default=e.default}(da,da.exports)),da.exports}var fa={exports:{}},gl;function s0(){return gl||(gl=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=d;var t=r(K());function r(c){return c&&c.__esModule?c:{default:c}}function s(c){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},s(c)}var a=/^rgb\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){2}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\)$/,i=/^rgba\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){3}(0?\.\d\d?|1(\.0)?|0(\.0)?)\)$/,o=/^rgb\((([0-9]%|[1-9][0-9]%|100%),){2}([0-9]%|[1-9][0-9]%|100%)\)$/,l=/^rgba\((([0-9]%|[1-9][0-9]%|100%),){3}(0?\.\d\d?|1(\.0)?|0(\.0)?)\)$/,u=/^rgba?/;function d(c,h){(0,t.default)(c);var m=!1,b=!0;if(s(h)!=="object"?arguments.length>=2&&(b=arguments[1]):(m=h.allowSpaces!==void 0?h.allowSpaces:m,b=h.includePercentValues!==void 0?h.includePercentValues:b),m){if(!u.test(c))return!1;c=c.replace(/\s/g,"")}return b?a.test(c)||i.test(c)||o.test(c)||l.test(c):a.test(c)||i.test(c)}n.exports=e.default,n.exports.default=e.default}(fa,fa.exports)),fa.exports}var ha={exports:{}},ml;function a0(){return ml||(ml=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=r(K());function r(o){return o&&o.__esModule?o:{default:o}}var s=/^hsla?\(((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn)?(,(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}(,((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?))?\)$/i,a=/^hsla?\(((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn)?(\s(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}\s?(\/\s((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?)\s?)?\)$/i;function i(o){(0,t.default)(o);var l=o.replace(/\s+/g," ").replace(/\s?(hsla?\(|\)|,)\s?/ig,"$1");return l.indexOf(",")!==-1?s.test(l):a.test(l)}n.exports=e.default,n.exports.default=e.default}(ha,ha.exports)),ha.exports}var pa={exports:{}},vl;function n0(){return vl||(vl=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=r(K());function r(i){return i&&i.__esModule?i:{default:i}}var s=/^[A-Z]{2}[0-9A-Z]{3}\d{2}\d{5}$/;function a(i){return(0,t.default)(i),s.test(i)}n.exports=e.default,n.exports.default=e.default}(pa,pa.exports)),pa.exports}var $r={},yl;function i0(){if(yl)return $r;yl=1,Object.defineProperty($r,"__esModule",{value:!0}),$r.default=o,$r.locales=void 0;var n=t(K()),e=t(cs());function t(l){return l&&l.__esModule?l:{default:l}}var r={AD:/^(AD[0-9]{2})\d{8}[A-Z0-9]{12}$/,AE:/^(AE[0-9]{2})\d{3}\d{16}$/,AL:/^(AL[0-9]{2})\d{8}[A-Z0-9]{16}$/,AT:/^(AT[0-9]{2})\d{16}$/,AZ:/^(AZ[0-9]{2})[A-Z0-9]{4}\d{20}$/,BA:/^(BA[0-9]{2})\d{16}$/,BE:/^(BE[0-9]{2})\d{12}$/,BG:/^(BG[0-9]{2})[A-Z]{4}\d{6}[A-Z0-9]{8}$/,BH:/^(BH[0-9]{2})[A-Z]{4}[A-Z0-9]{14}$/,BR:/^(BR[0-9]{2})\d{23}[A-Z]{1}[A-Z0-9]{1}$/,BY:/^(BY[0-9]{2})[A-Z0-9]{4}\d{20}$/,CH:/^(CH[0-9]{2})\d{5}[A-Z0-9]{12}$/,CR:/^(CR[0-9]{2})\d{18}$/,CY:/^(CY[0-9]{2})\d{8}[A-Z0-9]{16}$/,CZ:/^(CZ[0-9]{2})\d{20}$/,DE:/^(DE[0-9]{2})\d{18}$/,DK:/^(DK[0-9]{2})\d{14}$/,DO:/^(DO[0-9]{2})[A-Z]{4}\d{20}$/,DZ:/^(DZ\d{24})$/,EE:/^(EE[0-9]{2})\d{16}$/,EG:/^(EG[0-9]{2})\d{25}$/,ES:/^(ES[0-9]{2})\d{20}$/,FI:/^(FI[0-9]{2})\d{14}$/,FO:/^(FO[0-9]{2})\d{14}$/,FR:/^(FR[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,GB:/^(GB[0-9]{2})[A-Z]{4}\d{14}$/,GE:/^(GE[0-9]{2})[A-Z0-9]{2}\d{16}$/,GI:/^(GI[0-9]{2})[A-Z]{4}[A-Z0-9]{15}$/,GL:/^(GL[0-9]{2})\d{14}$/,GR:/^(GR[0-9]{2})\d{7}[A-Z0-9]{16}$/,GT:/^(GT[0-9]{2})[A-Z0-9]{4}[A-Z0-9]{20}$/,HR:/^(HR[0-9]{2})\d{17}$/,HU:/^(HU[0-9]{2})\d{24}$/,IE:/^(IE[0-9]{2})[A-Z]{4}\d{14}$/,IL:/^(IL[0-9]{2})\d{19}$/,IQ:/^(IQ[0-9]{2})[A-Z]{4}\d{15}$/,IR:/^(IR[0-9]{2})0\d{2}0\d{18}$/,IS:/^(IS[0-9]{2})\d{22}$/,IT:/^(IT[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,JO:/^(JO[0-9]{2})[A-Z]{4}\d{22}$/,KW:/^(KW[0-9]{2})[A-Z]{4}[A-Z0-9]{22}$/,KZ:/^(KZ[0-9]{2})\d{3}[A-Z0-9]{13}$/,LB:/^(LB[0-9]{2})\d{4}[A-Z0-9]{20}$/,LC:/^(LC[0-9]{2})[A-Z]{4}[A-Z0-9]{24}$/,LI:/^(LI[0-9]{2})\d{5}[A-Z0-9]{12}$/,LT:/^(LT[0-9]{2})\d{16}$/,LU:/^(LU[0-9]{2})\d{3}[A-Z0-9]{13}$/,LV:/^(LV[0-9]{2})[A-Z]{4}[A-Z0-9]{13}$/,MA:/^(MA[0-9]{26})$/,MC:/^(MC[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,MD:/^(MD[0-9]{2})[A-Z0-9]{20}$/,ME:/^(ME[0-9]{2})\d{18}$/,MK:/^(MK[0-9]{2})\d{3}[A-Z0-9]{10}\d{2}$/,MR:/^(MR[0-9]{2})\d{23}$/,MT:/^(MT[0-9]{2})[A-Z]{4}\d{5}[A-Z0-9]{18}$/,MU:/^(MU[0-9]{2})[A-Z]{4}\d{19}[A-Z]{3}$/,MZ:/^(MZ[0-9]{2})\d{21}$/,NL:/^(NL[0-9]{2})[A-Z]{4}\d{10}$/,NO:/^(NO[0-9]{2})\d{11}$/,PK:/^(PK[0-9]{2})[A-Z0-9]{4}\d{16}$/,PL:/^(PL[0-9]{2})\d{24}$/,PS:/^(PS[0-9]{2})[A-Z]{4}[A-Z0-9]{21}$/,PT:/^(PT[0-9]{2})\d{21}$/,QA:/^(QA[0-9]{2})[A-Z]{4}[A-Z0-9]{21}$/,RO:/^(RO[0-9]{2})[A-Z]{4}[A-Z0-9]{16}$/,RS:/^(RS[0-9]{2})\d{18}$/,SA:/^(SA[0-9]{2})\d{2}[A-Z0-9]{18}$/,SC:/^(SC[0-9]{2})[A-Z]{4}\d{20}[A-Z]{3}$/,SE:/^(SE[0-9]{2})\d{20}$/,SI:/^(SI[0-9]{2})\d{15}$/,SK:/^(SK[0-9]{2})\d{20}$/,SM:/^(SM[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,SV:/^(SV[0-9]{2})[A-Z0-9]{4}\d{20}$/,TL:/^(TL[0-9]{2})\d{19}$/,TN:/^(TN[0-9]{2})\d{20}$/,TR:/^(TR[0-9]{2})\d{5}[A-Z0-9]{17}$/,UA:/^(UA[0-9]{2})\d{6}[A-Z0-9]{19}$/,VA:/^(VA[0-9]{2})\d{18}$/,VG:/^(VG[0-9]{2})[A-Z]{4}\d{16}$/,XK:/^(XK[0-9]{2})\d{16}$/};function s(l){var u=l.filter(function(d){return!(d in r)});return!(u.length>0)}function a(l,u){var d=l.replace(/[\s\-]+/gi,"").toUpperCase(),c=d.slice(0,2).toUpperCase(),h=c in r;if(u.whitelist){if(!s(u.whitelist))return!1;var m=(0,e.default)(u.whitelist,c);if(!m)return!1}if(u.blacklist){var b=(0,e.default)(u.blacklist,c);if(b)return!1}return h&&r[c].test(d)}function i(l){var u=l.replace(/[^A-Z0-9]+/gi,"").toUpperCase(),d=u.slice(4)+u.slice(0,4),c=d.replace(/[A-Z]/g,function(m){return m.charCodeAt(0)-55}),h=c.match(/\d{1,7}/g).reduce(function(m,b){return Number(m+b)%97},"");return h===1}function o(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,n.default)(l),a(l,u)&&i(l)}return $r.locales=Object.keys(r),$r}var ga={exports:{}},Tr={},bl;function mu(){if(bl)return Tr;bl=1,Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.CountryCodes=void 0,Tr.default=r;var n=e(K());function e(s){return s&&s.__esModule?s:{default:s}}var t=new Set(["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"]);function r(s){return(0,n.default)(s),t.has(s.toUpperCase())}return Tr.CountryCodes=t,Tr}var xl;function o0(){return xl||(xl=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=s(K()),r=mu();function s(o){return o&&o.__esModule?o:{default:o}}var a=/^[A-Za-z]{6}[A-Za-z0-9]{2}([A-Za-z0-9]{3})?$/;function i(o){(0,t.default)(o);var l=o.slice(4,6).toUpperCase();return!r.CountryCodes.has(l)&&l!=="XK"?!1:a.test(o)}n.exports=e.default,n.exports.default=e.default}(ga,ga.exports)),ga.exports}var ma={exports:{}},wl;function l0(){return wl||(wl=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=r(K());function r(i){return i&&i.__esModule?i:{default:i}}var s=/^[a-f0-9]{32}$/;function a(i){return(0,t.default)(i),s.test(i)}n.exports=e.default,n.exports.default=e.default}(ma,ma.exports)),ma.exports}var va={exports:{}},_l;function c0(){return _l||(_l=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=r(K());function r(i){return i&&i.__esModule?i:{default:i}}var s={md5:32,md4:32,sha1:40,sha256:64,sha384:96,sha512:128,ripemd128:32,ripemd160:40,tiger128:32,tiger160:40,tiger192:48,crc32:8,crc32b:8};function a(i,o){(0,t.default)(i);var l=new RegExp("^[a-fA-F0-9]{".concat(s[o],"}$"));return l.test(i)}n.exports=e.default,n.exports.default=e.default}(va,va.exports)),va.exports}var ya={exports:{}},ba={exports:{}},Sl;function vu(){return Sl||(Sl=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var t=s(K()),r=s(tt());function s(d){return d&&d.__esModule?d:{default:d}}var a=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})$/,i=/^[A-Za-z0-9+/]+$/,o=/^(?:[A-Za-z0-9_-]{4})*(?:[A-Za-z0-9_-]{2}==|[A-Za-z0-9_-]{3}=|[A-Za-z0-9_-]{4})$/,l=/^[A-Za-z0-9_-]+$/;function u(d,c){var h;if((0,t.default)(d),c=(0,r.default)(c,{urlSafe:!1,padding:!((h=c)!==null&&h!==void 0&&h.urlSafe)}),d==="")return!0;var m;return c.urlSafe?m=c.padding?o:l:m=c.padding?a:i,(!c.padding||d.length%4===0)&&m.test(d)}n.exports=e.default,n.exports.default=e.default}(ba,ba.exports)),ba.exports}var Al;function u0(){return Al||(Al=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=s(K()),r=s(vu());function s(i){return i&&i.__esModule?i:{default:i}}function a(i){(0,t.default)(i);var o=i.split("."),l=o.length;return l!==3?!1:o.reduce(function(u,d){return u&&(0,r.default)(d,{urlSafe:!0})},!0)}n.exports=e.default,n.exports.default=e.default}(ya,ya.exports)),ya.exports}var xa={exports:{}},Il;function d0(){return Il||(Il=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=a(K()),r=a(cs()),s=a(tt());function a(u){return u&&u.__esModule?u:{default:u}}function i(u){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},i(u)}var o={allow_primitives:!1};function l(u,d){(0,t.default)(u);try{d=(0,s.default)(d,o);var c=[];d.allow_primitives&&(c=[null,!1,!0]);var h=JSON.parse(u);return(0,r.default)(c,h)||!!h&&i(h)==="object"}catch(m){}return!1}n.exports=e.default,n.exports.default=e.default}(xa,xa.exports)),xa.exports}var wa={exports:{}},El;function f0(){return El||(El=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=s(K()),r=s(tt());function s(o){return o&&o.__esModule?o:{default:o}}var a={ignore_whitespace:!1};function i(o,l){return(0,t.default)(o),l=(0,r.default)(l,a),(l.ignore_whitespace?o.trim().length:o.length)===0}n.exports=e.default,n.exports.default=e.default}(wa,wa.exports)),wa.exports}var _a={exports:{}},Cl;function h0(){return Cl||(Cl=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=r(K());function r(i){return i&&i.__esModule?i:{default:i}}function s(i){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},s(i)}function a(i,o){(0,t.default)(i);var l,u;s(o)==="object"?(l=o.min||0,u=o.max):(l=arguments[1]||0,u=arguments[2]);var d=i.match(/(\uFE0F|\uFE0E)/g)||[],c=i.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],h=i.length-d.length-c.length,m=h>=l&&(typeof u=="undefined"||h<=u);return m&&Array.isArray(o==null?void 0:o.discreteLengths)?o.discreteLengths.some(function(b){return b===h}):m}n.exports=e.default,n.exports.default=e.default}(_a,_a.exports)),_a.exports}var Sa={exports:{}},kl;function p0(){return kl||(kl=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(K());function r(a){return a&&a.__esModule?a:{default:a}}function s(a){return(0,t.default)(a),/^[0-7][0-9A-HJKMNP-TV-Z]{25}$/i.test(a)}n.exports=e.default,n.exports.default=e.default}(Sa,Sa.exports)),Sa.exports}var Aa={exports:{}},Rl;function g0(){return Rl||(Rl=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=r(K());function r(i){return i&&i.__esModule?i:{default:i}}var s={1:/^[0-9A-F]{8}-[0-9A-F]{4}-1[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,2:/^[0-9A-F]{8}-[0-9A-F]{4}-2[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,6:/^[0-9A-F]{8}-[0-9A-F]{4}-6[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,7:/^[0-9A-F]{8}-[0-9A-F]{4}-7[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,8:/^[0-9A-F]{8}-[0-9A-F]{4}-8[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,nil:/^00000000-0000-0000-0000-000000000000$/i,max:/^ffffffff-ffff-ffff-ffff-ffffffffffff$/i,loose:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,all:/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i};function a(i,o){return(0,t.default)(i),o==null&&(o="all"),o in s?s[o].test(i):!1}n.exports=e.default,n.exports.default=e.default}(Aa,Aa.exports)),Aa.exports}var Ia={exports:{}},$l;function m0(){return $l||($l=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=s(K()),r=s(gu());function s(i){return i&&i.__esModule?i:{default:i}}function a(i){return(0,t.default)(i),(0,r.default)(i)&&i.length===24}n.exports=e.default,n.exports.default=e.default}(Ia,Ia.exports)),Ia.exports}var Ea={exports:{}},Tl;function v0(){return Tl||(Tl=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=r(fi());function r(i){return i&&i.__esModule?i:{default:i}}function s(i){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},s(i)}function a(i,o){var l=(s(o)==="object"?o.comparisonDate:o)||Date().toString(),u=(0,t.default)(l),d=(0,t.default)(i);return!!(d&&u&&d>u)}n.exports=e.default,n.exports.default=e.default}(Ea,Ea.exports)),Ea.exports}var Ca={exports:{}},jl;function y0(){return jl||(jl=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=r(fi());function r(i){return i&&i.__esModule?i:{default:i}}function s(i){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},s(i)}function a(i,o){var l=(s(o)==="object"?o.comparisonDate:o)||Date().toString(),u=(0,t.default)(l),d=(0,t.default)(i);return!!(d&&u&&d<u)}n.exports=e.default,n.exports.default=e.default}(Ca,Ca.exports)),Ca.exports}var ka={exports:{}},Nl;function b0(){return Nl||(Nl=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=s(K()),r=s(ou());function s(o){return o&&o.__esModule?o:{default:o}}function a(o){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},a(o)}function i(o,l){(0,t.default)(o);var u;if(Object.prototype.toString.call(l)==="[object Array]"){var d=[];for(u in l)({}).hasOwnProperty.call(l,u)&&(d[u]=(0,r.default)(l[u]));return d.indexOf(o)>=0}else{if(a(l)==="object")return l.hasOwnProperty(o);if(l&&typeof l.indexOf=="function")return l.indexOf(o)>=0}return!1}n.exports=e.default,n.exports.default=e.default}(ka,ka.exports)),ka.exports}var Ra={exports:{}},Pl;function yu(){return Pl||(Pl=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(K());function r(a){return a&&a.__esModule?a:{default:a}}function s(a){(0,t.default)(a);for(var i=a.replace(/[- ]+/g,""),o=0,l,u,d,c=i.length-1;c>=0;c--)l=i.substring(c,c+1),u=parseInt(l,10),d?(u*=2,u>=10?o+=u%10+1:o+=u):o+=u,d=!d;return!!(o%10===0&&i)}n.exports=e.default,n.exports.default=e.default}(Ra,Ra.exports)),Ra.exports}var $a={exports:{}},Ol;function x0(){return Ol||(Ol=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=s(K()),r=s(yu());function s(l){return l&&l.__esModule?l:{default:l}}var a={amex:/^3[47][0-9]{13}$/,dinersclub:/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/,discover:/^6(?:011|5[0-9][0-9])[0-9]{12,15}$/,jcb:/^(?:2131|1800|35\d{3})\d{11}$/,mastercard:/^5[1-5][0-9]{2}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$/,unionpay:/^(6[27][0-9]{14}|^(81[0-9]{14,17}))$/,visa:/^(?:4[0-9]{12})(?:[0-9]{3,6})?$/},i=function(){var l=[];for(var u in a)a.hasOwnProperty(u)&&l.push(a[u]);return l}();function o(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,t.default)(l);var d=u.provider,c=l.replace(/[- ]+/g,"");if(d&&d.toLowerCase()in a){if(!a[d.toLowerCase()].test(c))return!1}else{if(d&&!(d.toLowerCase()in a))throw new Error("".concat(d," is not a valid credit card provider."));if(!i.some(function(h){return h.test(c)}))return!1}return(0,r.default)(l)}n.exports=e.default,n.exports.default=e.default}($a,$a.exports)),$a.exports}var Ta={exports:{}},Dl;function w0(){return Dl||(Dl=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=a(K()),r=a(cs()),s=a(pi());function a(l){return l&&l.__esModule?l:{default:l}}var i={PL:function(u){(0,t.default)(u);var d={1:1,2:3,3:7,4:9,5:1,6:3,7:7,8:9,9:1,10:3,11:0};if(u!=null&&u.length===11&&(0,s.default)(u,{allow_leading_zeroes:!0})){var c=u.split("").slice(0,-1),h=c.reduce(function(g,p,y){return g+Number(p)*d[y+1]},0),m=h%10,b=Number(u.charAt(u.length-1));if(m===0&&b===0||b===10-m)return!0}return!1},ES:function(u){(0,t.default)(u);var d=/^[0-9X-Z][0-9]{7}[TRWAGMYFPDXBNJZSQVHLCKE]$/,c={X:0,Y:1,Z:2},h=["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"],m=u.trim().toUpperCase();if(!d.test(m))return!1;var b=m.slice(0,-1).replace(/[X,Y,Z]/g,function(g){return c[g]});return m.endsWith(h[b%23])},FI:function(u){if((0,t.default)(u),u.length!==11||!u.match(/^\d{6}[\-A\+]\d{3}[0-9ABCDEFHJKLMNPRSTUVWXY]{1}$/))return!1;var d="0123456789ABCDEFHJKLMNPRSTUVWXY",c=parseInt(u.slice(0,6),10)*1e3+parseInt(u.slice(7,10),10),h=c%31,m=d[h];return m===u.slice(10,11)},IN:function(u){var d=/^[1-9]\d{3}\s?\d{4}\s?\d{4}$/,c=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],h=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],m=u.trim();if(!d.test(m))return!1;var b=0,g=m.replace(/\s/g,"").split("").map(Number).reverse();return g.forEach(function(p,y){b=c[b][h[y%8][p]]}),b===0},IR:function(u){if(!u.match(/^\d{10}$/)||(u="0000".concat(u).slice(u.length-6),parseInt(u.slice(3,9),10)===0))return!1;for(var d=parseInt(u.slice(9,10),10),c=0,h=0;h<9;h++)c+=parseInt(u.slice(h,h+1),10)*(10-h);return c%=11,c<2&&d===c||c>=2&&d===11-c},IT:function(u){return u.length!==9||u==="CA00000AA"?!1:u.search(/C[A-Z]\d{5}[A-Z]{2}/i)>-1},NO:function(u){var d=u.trim();if(isNaN(Number(d))||d.length!==11||d==="00000000000")return!1;var c=d.split("").map(Number),h=(11-(3*c[0]+7*c[1]+6*c[2]+1*c[3]+8*c[4]+9*c[5]+4*c[6]+5*c[7]+2*c[8])%11)%11,m=(11-(5*c[0]+4*c[1]+3*c[2]+2*c[3]+7*c[4]+6*c[5]+5*c[6]+4*c[7]+3*c[8]+2*h)%11)%11;return!(h!==c[9]||m!==c[10])},TH:function(u){if(!u.match(/^[1-8]\d{12}$/))return!1;for(var d=0,c=0;c<12;c++)d+=parseInt(u[c],10)*(13-c);return u[12]===((11-d%11)%10).toString()},LK:function(u){var d=/^[1-9]\d{8}[vx]$/i,c=/^[1-9]\d{11}$/i;return u.length===10&&d.test(u)?!0:!!(u.length===12&&c.test(u))},"he-IL":function(u){var d=/^\d{9}$/,c=u.trim();if(!d.test(c))return!1;for(var h=c,m=0,b,g=0;g<h.length;g++)b=Number(h[g])*(g%2+1),m+=b>9?b-9:b;return m%10===0},"ar-LY":function(u){var d=/^(1|2)\d{11}$/,c=u.trim();return!!d.test(c)},"ar-TN":function(u){var d=/^\d{8}$/,c=u.trim();return!!d.test(c)},"zh-CN":function(u){var d=["11","12","13","14","15","21","22","23","31","32","33","34","35","36","37","41","42","43","44","45","46","50","51","52","53","54","61","62","63","64","65","71","81","82","91"],c=["7","9","10","5","8","4","2","1","6","3","7","9","10","5","8","4","2"],h=["1","0","X","9","8","7","6","5","4","3","2"],m=function(R){return(0,r.default)(d,R)},b=function(R){var $=parseInt(R.substring(0,4),10),O=parseInt(R.substring(4,6),10),N=parseInt(R.substring(6),10),k=new Date($,O-1,N);return k>new Date?!1:k.getFullYear()===$&&k.getMonth()===O-1&&k.getDate()===N},g=function(R){for(var $=R.substring(0,17),O=0,N=0;N<17;N++)O+=parseInt($.charAt(N),10)*parseInt(c[N],10);var k=O%11;return h[k]},p=function(R){return g(R)===R.charAt(17).toUpperCase()},y=function(R){var $=/^[1-9]\d{7}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}$/.test(R);if(!$)return!1;var O=R.substring(0,2);if($=m(O),!$)return!1;var N="19".concat(R.substring(6,12));return $=b(N),!!$},I=function(R){var $=/^[1-9]\d{5}[1-9]\d{3}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}(\d|x|X)$/.test(R);if(!$)return!1;var O=R.substring(0,2);if($=m(O),!$)return!1;var N=R.substring(6,14);return $=b(N),$?p(R):!1},v=function(R){var $=/^\d{15}|(\d{17}(\d|x|X))$/.test(R);return $?R.length===15?y(R):I(R):!1};return v(u)},"zh-HK":function(u){u=u.trim();var d=/^[A-Z]{1,2}[0-9]{6}((\([0-9A]\))|(\[[0-9A]\])|([0-9A]))$/,c=/^[0-9]$/;if(u=u.toUpperCase(),!d.test(u))return!1;u=u.replace(/\[|\]|\(|\)/g,""),u.length===8&&(u="3".concat(u));for(var h=0,m=0;m<=7;m++){var b=void 0;c.test(u[m])?b=u[m]:b=(u[m].charCodeAt(0)-55)%11,h+=b*(9-m)}h%=11;var g;return h===0?g="0":h===1?g="A":g=String(11-h),g===u[u.length-1]},"zh-TW":function(u){var d={A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:34,J:18,K:19,L:20,M:21,N:22,O:35,P:23,Q:24,R:25,S:26,T:27,U:28,V:29,W:32,X:30,Y:31,Z:33},c=u.trim().toUpperCase();return/^[A-Z][0-9]{9}$/.test(c)?Array.from(c).reduce(function(h,m,b){if(b===0){var g=d[m];return g%10*9+Math.floor(g/10)}return b===9?(10-h%10-Number(m))%10===0:h+Number(m)*(9-b)},0):!1},PK:function(u){var d=/^[1-7][0-9]{4}-[0-9]{7}-[1-9]$/,c=u.trim();return d.test(c)}};function o(l,u){if((0,t.default)(l),u in i)return i[u](l);if(u==="any"){for(var d in i)if(i.hasOwnProperty(d)){var c=i[d];if(c(l))return!0}return!1}throw new Error("Invalid locale '".concat(u,"'"))}n.exports=e.default,n.exports.default=e.default}(Ta,Ta.exports)),Ta.exports}var ja={exports:{}},Ml;function _0(){return Ml||(Ml=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var t=r(K());function r(d){return d&&d.__esModule?d:{default:d}}var s=8,a=14,i=/^(\d{8}|\d{13}|\d{14})$/;function o(d,c){return d===s||d===a?c%2===0?3:1:c%2===0?1:3}function l(d){var c=d.slice(0,-1).split("").map(function(m,b){return Number(m)*o(d.length,b)}).reduce(function(m,b){return m+b},0),h=10-c%10;return h<10?h:0}function u(d){(0,t.default)(d);var c=Number(d.slice(-1));return i.test(d)&&c===l(d)}n.exports=e.default,n.exports.default=e.default}(ja,ja.exports)),ja.exports}var Na={exports:{}},Ll;function S0(){return Ll||(Ll=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=r(K());function r(i){return i&&i.__esModule?i:{default:i}}var s=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;function a(i){if((0,t.default)(i),!s.test(i))return!1;for(var o=!0,l=0,u=i.length-2;u>=0;u--)if(i[u]>="A"&&i[u]<="Z")for(var d=i[u].charCodeAt(0)-55,c=d%10,h=Math.trunc(d/10),m=0,b=[c,h];m<b.length;m++){var g=b[m];o?g>=5?l+=1+(g-5)*2:l+=g*2:l+=g,o=!o}else{var p=i[u].charCodeAt(0)-48;o?p>=5?l+=1+(p-5)*2:l+=p*2:l+=p,o=!o}var y=Math.trunc((l+9)/10)*10-l;return+i[i.length-1]===y}n.exports=e.default,n.exports.default=e.default}(Na,Na.exports)),Na.exports}var Pa={exports:{}},Bl;function A0(){return Bl||(Bl=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=r(K());function r(l){return l&&l.__esModule?l:{default:l}}var s=/^(?:[0-9]{9}X|[0-9]{10})$/,a=/^(?:[0-9]{13})$/,i=[1,3];function o(l,u){(0,t.default)(l);var d=String((u==null?void 0:u.version)||u);if(!(u!=null&&u.version||u))return o(l,{version:10})||o(l,{version:13});var c=l.replace(/[\s-]+/g,""),h=0;if(d==="10"){if(!s.test(c))return!1;for(var m=0;m<d-1;m++)h+=(m+1)*c.charAt(m);if(c.charAt(9)==="X"?h+=10*10:h+=10*c.charAt(9),h%11===0)return!0}else if(d==="13"){if(!a.test(c))return!1;for(var b=0;b<12;b++)h+=i[b%2]*c.charAt(b);if(c.charAt(12)-(10-h%10)%10===0)return!0}return!1}n.exports=e.default,n.exports.default=e.default}(Pa,Pa.exports)),Pa.exports}var Oa={exports:{}},Ul;function I0(){return Ul||(Ul=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=r(K());function r(i){return i&&i.__esModule?i:{default:i}}var s="^\\d{4}-?\\d{3}[\\dX]$";function a(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,t.default)(i);var l=s;if(l=o.require_hyphen?l.replace("?",""):l,l=o.case_sensitive?new RegExp(l):new RegExp(l,"i"),!l.test(i))return!1;for(var u=i.replace("-","").toUpperCase(),d=0,c=0;c<u.length;c++){var h=u[c];d+=(h==="X"?10:+h)*(8-c)}return d%11===0}n.exports=e.default,n.exports.default=e.default}(Oa,Oa.exports)),Oa.exports}var Da={exports:{}},Gt={},Fl;function bu(){if(Fl)return Gt;Fl=1,Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.iso7064Check=n,Gt.luhnCheck=e,Gt.reverseMultiplyAndSum=t,Gt.verhoeffCheck=r;function n(s){for(var a=10,i=0;i<s.length-1;i++)a=(parseInt(s[i],10)+a)%10===0?10*2%11:(parseInt(s[i],10)+a)%10*2%11;return a=a===1?0:11-a,a===parseInt(s[10],10)}function e(s){for(var a=0,i=!1,o=s.length-1;o>=0;o--){if(i){var l=parseInt(s[o],10)*2;l>9?a+=l.toString().split("").map(function(u){return parseInt(u,10)}).reduce(function(u,d){return u+d},0):a+=l}else a+=parseInt(s[o],10);i=!i}return a%10===0}function t(s,a){for(var i=0,o=0;o<s.length;o++)i+=s[o]*(a-o);return i}function r(s){for(var a=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],i=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],o=s.split("").reverse().join(""),l=0,u=0;u<o.length;u++)l=a[l][i[u%8][parseInt(o[u],10)]];return l===0}return Gt}var ql;function E0(){return ql||(ql=1,function(n,e){function t(w){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},t(w)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=gt;var r=o(K()),s=i(bu()),a=o(fu());function i(w,S){if(typeof WeakMap=="function")var P=new WeakMap,G=new WeakMap;return(i=function(U,pe){if(!pe&&U&&U.__esModule)return U;var ve,Ie,E={__proto__:null,default:U};if(U===null||t(U)!="object"&&typeof U!="function")return E;if(ve=pe?G:P){if(ve.has(U))return ve.get(U);ve.set(U,E)}for(var B in U)B!=="default"&&{}.hasOwnProperty.call(U,B)&&((Ie=(ve=Object.defineProperty)&&Object.getOwnPropertyDescriptor(U,B))&&(Ie.get||Ie.set)?ve(E,B,Ie):E[B]=U[B]);return E})(w,S)}function o(w){return w&&w.__esModule?w:{default:w}}function l(w){return h(w)||c(w)||d(w)||u()}function u(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d(w,S){if(w){if(typeof w=="string")return m(w,S);var P={}.toString.call(w).slice(8,-1);return P==="Object"&&w.constructor&&(P=w.constructor.name),P==="Map"||P==="Set"?Array.from(w):P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P)?m(w,S):void 0}}function c(w){if(typeof Symbol!="undefined"&&w[Symbol.iterator]!=null||w["@@iterator"]!=null)return Array.from(w)}function h(w){if(Array.isArray(w))return m(w)}function m(w,S){(S==null||S>w.length)&&(S=w.length);for(var P=0,G=Array(S);P<S;P++)G[P]=w[P];return G}function b(w){var S=w.slice(0,2),P=parseInt(w.slice(2,4),10);P>40?(P-=40,S="20".concat(S)):P>20?(P-=20,S="18".concat(S)):S="19".concat(S),P<10&&(P="0".concat(P));var G="".concat(S,"/").concat(P,"/").concat(w.slice(4,6));if(!(0,a.default)(G,"YYYY/MM/DD"))return!1;for(var H=w.split("").map(function(Ie){return parseInt(Ie,10)}),U=[2,4,8,5,10,9,7,3,6],pe=0,ve=0;ve<U.length;ve++)pe+=H[ve]*U[ve];return pe=pe%11===10?0:pe%11,pe===H[9]}function g(w){var S=w.split(""),P=S.filter(function(H,U){return U%2}).map(function(H){return Number(H)*2}).join("").split(""),G=S.filter(function(H,U){return!(U%2)}).concat(P).map(function(H){return Number(H)}).reduce(function(H,U){return H+U});return G%10===0}function p(w){w=w.replace(/\W/,"");var S=parseInt(w.slice(0,2),10);if(w.length===10)S<54?S="20".concat(S):S="19".concat(S);else{if(w.slice(6)==="000")return!1;if(S<54)S="19".concat(S);else return!1}S.length===3&&(S=[S.slice(0,2),"0",S.slice(2)].join(""));var P=parseInt(w.slice(2,4),10);if(P>50&&(P-=50),P>20){if(parseInt(S,10)<2004)return!1;P-=20}P<10&&(P="0".concat(P));var G="".concat(S,"/").concat(P,"/").concat(w.slice(4,6));if(!(0,a.default)(G,"YYYY/MM/DD"))return!1;if(w.length===10&&parseInt(w,10)%11!==0){var H=parseInt(w.slice(0,9),10)%11;if(parseInt(S,10)<1986&&H===10){if(parseInt(w.slice(9),10)!==0)return!1}else return!1}return!0}function y(w){return s.luhnCheck(w)}function I(w){for(var S=w.split("").map(function(Ie){return parseInt(Ie,10)}),P=[],G=0;G<S.length-1;G++){P.push("");for(var H=0;H<S.length-1;H++)S[G]===S[H]&&(P[G]+=H)}if(P=P.filter(function(Ie){return Ie.length>1}),P.length!==2&&P.length!==3)return!1;if(P[0].length===3){for(var U=P[0].split("").map(function(Ie){return parseInt(Ie,10)}),pe=0,ve=0;ve<U.length-1;ve++)U[ve]+1===U[ve+1]&&(pe+=1);if(pe===2)return!1}return s.iso7064Check(w)}function v(w){w=w.replace(/\W/,"");var S=parseInt(w.slice(4,6),10),P=w.slice(6,7);switch(P){case"0":case"1":case"2":case"3":S="19".concat(S);break;case"4":case"9":S<37?S="20".concat(S):S="19".concat(S);break;default:if(S<37)S="20".concat(S);else if(S>58)S="18".concat(S);else return!1;break}S.length===3&&(S=[S.slice(0,2),"0",S.slice(2)].join(""));var G="".concat(S,"/").concat(w.slice(2,4),"/").concat(w.slice(0,2));if(!(0,a.default)(G,"YYYY/MM/DD"))return!1;for(var H=w.split("").map(function(Ie){return parseInt(Ie,10)}),U=0,pe=4,ve=0;ve<9;ve++)U+=H[ve]*pe,pe-=1,pe===1&&(pe=7);return U%=11,U===1?!1:U===0?H[9]===0:H[9]===11-U}function _(w){for(var S=w.slice(0,8).split("").map(function(U){return parseInt(U,10)}),P=0,G=1;G<S.length;G+=2)P+=S[G];for(var H=0;H<S.length;H+=2)S[H]<2?P+=1-S[H]:(P+=2*(S[H]-2)+5,S[H]>4&&(P+=2));return String.fromCharCode(P%26+65)===w.charAt(8)}function R(w){for(var S=w.split("").map(function(H){return parseInt(H,10)}),P=0,G=0;G<8;G++)P+=S[G]*Math.pow(2,8-G);return P%11%10===S[8]}function $(w){var S=s.reverseMultiplyAndSum(w.split("").slice(0,7).map(function(P){return parseInt(P,10)}),8);return w.length===9&&w[8]!=="W"&&(S+=(w[8].charCodeAt(0)-64)*9),S%=23,S===0?w[7].toUpperCase()==="W":w[7].toUpperCase()===String.fromCharCode(64+S)}var O={andover:["10","12"],atlanta:["60","67"],austin:["50","53"],brookhaven:["01","02","03","04","05","06","11","13","14","16","21","22","23","25","34","51","52","54","55","56","57","58","59","65"],cincinnati:["30","32","35","36","37","38","61"],fresno:["15","24"],internet:["20","26","27","45","46","47"],kansas:["40","44"],memphis:["94","95"],ogden:["80","90"],philadelphia:["33","39","41","42","43","46","48","62","63","64","66","68","71","72","73","74","75","76","77","81","82","83","84","85","86","87","88","91","92","93","98","99"],sba:["31"]};function N(){var w=[];for(var S in O)O.hasOwnProperty(S)&&w.push.apply(w,l(O[S]));return w}function k(w){return N().indexOf(w.slice(0,2))!==-1}function T(w){for(var S=0,P=w.split(""),G=parseInt(P.pop(),10),H=0;H<P.length;H++)S+=P[9-H]*(2+H%6);var U=11-S%11;return U===11?U=0:U===10&&(U=9),G===U}function q(w){var S=w.toUpperCase().split("");if(isNaN(parseInt(S[0],10))&&S.length>1){var P=0;switch(S[0]){case"Y":P=1;break;case"Z":P=2;break}S.splice(0,1,P)}else for(;S.length<9;)S.unshift(0);var G=["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"];S=S.join("");var H=parseInt(S.slice(0,8),10)%23;return S[8]===G[H]}function W(w){var S=w.slice(1,3),P=w.slice(0,1);switch(P){case"1":case"2":S="18".concat(S);break;case"3":case"4":S="19".concat(S);break;default:S="20".concat(S);break}var G="".concat(S,"/").concat(w.slice(3,5),"/").concat(w.slice(5,7));if(!(0,a.default)(G,"YYYY/MM/DD"))return!1;for(var H=w.split("").map(function(E){return parseInt(E,10)}),U=0,pe=1,ve=0;ve<10;ve++)U+=H[ve]*pe,pe+=1,pe===10&&(pe=1);if(U%11===10){U=0,pe=3;for(var Ie=0;Ie<10;Ie++)U+=H[Ie]*pe,pe+=1,pe===10&&(pe=1);if(U%11===10)return H[10]===0}return U%11===H[10]}function M(w){var S=w.slice(4,6),P=w.slice(6,7);switch(P){case"+":S="18".concat(S);break;case"-":S="19".concat(S);break;default:S="20".concat(S);break}var G="".concat(S,"/").concat(w.slice(2,4),"/").concat(w.slice(0,2));if(!(0,a.default)(G,"YYYY/MM/DD"))return!1;var H=parseInt(w.slice(0,6)+w.slice(7,10),10)%31;if(H<10)return H===parseInt(w.slice(10),10);H-=10;var U=["A","B","C","D","E","F","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y"];return U[H]===w.slice(10)}function ue(w){if(w.slice(2,4)!=="00"||w.slice(4,6)!=="00"){var S="".concat(w.slice(0,2),"/").concat(w.slice(2,4),"/").concat(w.slice(4,6));if(!(0,a.default)(S,"YY/MM/DD"))return!1}var P=97-parseInt(w.slice(0,9),10)%97,G=parseInt(w.slice(9,11),10);return!(P!==G&&(P=97-parseInt("2".concat(w.slice(0,9)),10)%97,P!==G))}function oe(w){w=w.replace(/\s/g,"");var S=parseInt(w.slice(0,10),10)%511,P=parseInt(w.slice(10,13),10);return S===P}function te(w){var S="".concat(w.slice(0,4),"/").concat(w.slice(4,6),"/").concat(w.slice(6,8));return!(0,a.default)(S,"YYYY/MM/DD")||!s.luhnCheck(w.slice(0,12))?!1:s.verhoeffCheck("".concat(w.slice(0,11)).concat(w[12]))}function ye(w){return s.iso7064Check(w)}function me(w){for(var S=w.split("").map(function(H){return parseInt(H,10)}),P=8,G=1;G<9;G++)P+=S[G]*(G+1);return P%11===S[9]}function Ae(w){for(var S=!1,P=!1,G=0;G<3;G++)if(!S&&/[AEIOU]/.test(w[G]))S=!0;else if(!P&&S&&w[G]==="X")P=!0;else if(G>0&&(S&&!P&&!/[AEIOU]/.test(w[G])||P&&!/X/.test(w[G])))return!1;return!0}function Ce(w){var S=w.toUpperCase().split("");if(!Ae(S.slice(0,3))||!Ae(S.slice(3,6)))return!1;for(var P=[6,7,9,10,12,13,14],G={L:"0",M:"1",N:"2",P:"3",Q:"4",R:"5",S:"6",T:"7",U:"8",V:"9"},H=0,U=P;H<U.length;H++){var pe=U[H];S[pe]in G&&S.splice(pe,1,G[S[pe]])}var ve={A:"01",B:"02",C:"03",D:"04",E:"05",H:"06",L:"07",M:"08",P:"09",R:"10",S:"11",T:"12"},Ie=ve[S[8]],E=parseInt(S[9]+S[10],10);E>40&&(E-=40),E<10&&(E="0".concat(E));var B="".concat(S[6]).concat(S[7],"/").concat(Ie,"/").concat(E);if(!(0,a.default)(B,"YY/MM/DD"))return!1;for(var X=0,F=1;F<S.length-1;F+=2){var j=parseInt(S[F],10);isNaN(j)&&(j=S[F].charCodeAt(0)-65),X+=j}for(var V={A:1,B:0,C:5,D:7,E:9,F:13,G:15,H:17,I:19,J:21,K:2,L:4,M:18,N:20,O:11,P:3,Q:6,R:8,S:12,T:14,U:16,V:10,W:22,X:25,Y:24,Z:23,0:1,1:0},se=0;se<S.length-1;se+=2){var le=0;if(S[se]in V)le=V[S[se]];else{var fe=parseInt(S[se],10);le=2*fe+1,fe>4&&(le+=2)}X+=le}return String.fromCharCode(65+X%26)===S[15]}function L(w){w=w.replace(/\W/,"");var S=w.slice(0,2);if(S!=="32"){var P=w.slice(2,4);if(P!=="00"){var G=w.slice(4,6);switch(w[6]){case"0":G="18".concat(G);break;case"1":G="19".concat(G);break;default:G="20".concat(G);break}var H="".concat(G,"/").concat(w.slice(2,4),"/").concat(S);if(!(0,a.default)(H,"YYYY/MM/DD"))return!1}for(var U=1101,pe=[1,6,3,7,9,10,5,8,4,2],ve=0;ve<w.length-1;ve++)U-=parseInt(w[ve],10)*pe[ve];return parseInt(w[10],10)===U%11}return!0}function Y(w){if(w.length!==9){for(var S=w.toUpperCase().split("");S.length<8;)S.unshift(0);switch(w[7]){case"A":case"P":if(parseInt(S[6],10)===0)return!1;break;default:{var P=parseInt(S.join("").slice(0,5),10);if(P>32e3)return!1;var G=parseInt(S.join("").slice(5,7),10);if(P===G)return!1}}}return!0}function Z(w){return s.reverseMultiplyAndSum(w.split("").slice(0,8).map(function(S){return parseInt(S,10)}),9)%11===parseInt(w[8],10)}function ge(w){if(w.length===10){for(var S=[6,5,7,2,3,4,5,6,7],P=0,G=0;G<S.length;G++)P+=parseInt(w[G],10)*S[G];return P%=11,P===10?!1:P===parseInt(w[9],10)}var H=w.slice(0,2),U=parseInt(w.slice(2,4),10);U>80?(H="18".concat(H),U-=80):U>60?(H="22".concat(H),U-=60):U>40?(H="21".concat(H),U-=40):U>20?(H="20".concat(H),U-=20):H="19".concat(H),U<10&&(U="0".concat(U));var pe="".concat(H,"/").concat(U,"/").concat(w.slice(4,6));if(!(0,a.default)(pe,"YYYY/MM/DD"))return!1;for(var ve=0,Ie=1,E=0;E<w.length-1;E++)ve+=parseInt(w[E],10)*Ie%10,Ie+=2,Ie>10?Ie=1:Ie===5&&(Ie+=2);return ve=10-ve%10,ve===parseInt(w[10],10)}function Ne(w){if(w.length===11){var S,P;if(S=0,w==="11111111111"||w==="22222222222"||w==="33333333333"||w==="44444444444"||w==="55555555555"||w==="66666666666"||w==="77777777777"||w==="88888888888"||w==="99999999999"||w==="00000000000")return!1;for(var G=1;G<=9;G++)S+=parseInt(w.substring(G-1,G),10)*(11-G);if(P=S*10%11,P===10&&(P=0),P!==parseInt(w.substring(9,10),10))return!1;S=0;for(var H=1;H<=10;H++)S+=parseInt(w.substring(H-1,H),10)*(12-H);return P=S*10%11,P===10&&(P=0),P===parseInt(w.substring(10,11),10)}if(w==="00000000000000"||w==="11111111111111"||w==="22222222222222"||w==="33333333333333"||w==="44444444444444"||w==="55555555555555"||w==="66666666666666"||w==="77777777777777"||w==="88888888888888"||w==="99999999999999")return!1;for(var U=w.length-2,pe=w.substring(0,U),ve=w.substring(U),Ie=0,E=U-7,B=U;B>=1;B--)Ie+=pe.charAt(U-B)*E,E-=1,E<2&&(E=9);var X=Ie%11<2?0:11-Ie%11;if(X!==parseInt(ve.charAt(0),10))return!1;U+=1,pe=w.substring(0,U),Ie=0,E=U-7;for(var F=U;F>=1;F--)Ie+=pe.charAt(U-F)*E,E-=1,E<2&&(E=9);return X=Ie%11<2?0:11-Ie%11,X===parseInt(ve.charAt(1),10)}function be(w){var S=11-s.reverseMultiplyAndSum(w.split("").slice(0,8).map(function(P){return parseInt(P,10)}),9)%11;return S>9?parseInt(w[8],10)===0:S===parseInt(w[8],10)}function ze(w){if(w.slice(0,4)!=="9000"){var S=w.slice(1,3);switch(w[0]){case"1":case"2":S="19".concat(S);break;case"3":case"4":S="18".concat(S);break;case"5":case"6":S="20".concat(S);break}var P="".concat(S,"/").concat(w.slice(3,5),"/").concat(w.slice(5,7));if(P.length===8){if(!(0,a.default)(P,"YY/MM/DD"))return!1}else if(!(0,a.default)(P,"YYYY/MM/DD"))return!1;for(var G=w.split("").map(function(ve){return parseInt(ve,10)}),H=[2,7,9,1,4,6,3,5,8,2,7,9],U=0,pe=0;pe<H.length;pe++)U+=G[pe]*H[pe];return U%11===10?G[12]===1:G[12]===U%11}return!0}function re(w){if(w.length===9){if(w=w.replace(/\W/,""),w.slice(6)==="000")return!1;var S=parseInt(w.slice(0,2),10);if(S>53)return!1;S<10?S="190".concat(S):S="19".concat(S);var P=parseInt(w.slice(2,4),10);P>50&&(P-=50),P<10&&(P="0".concat(P));var G="".concat(S,"/").concat(P,"/").concat(w.slice(4,6));if(!(0,a.default)(G,"YYYY/MM/DD"))return!1}return!0}function Pe(w){var S=11-s.reverseMultiplyAndSum(w.split("").slice(0,7).map(function(P){return parseInt(P,10)}),8)%11;return S===10?parseInt(w[7],10)===0:S===parseInt(w[7],10)}function Xe(w){var S=w.slice(0);w.length>11&&(S=S.slice(2));var P="",G=S.slice(2,4),H=parseInt(S.slice(4,6),10);if(w.length>11)P=w.slice(0,4);else if(P=w.slice(0,2),w.length===11&&H<60){var U=new Date().getFullYear().toString(),pe=parseInt(U.slice(0,2),10);if(U=parseInt(U,10),w[6]==="-")parseInt("".concat(pe).concat(P),10)>U?P="".concat(pe-1).concat(P):P="".concat(pe).concat(P);else if(P="".concat(pe-1).concat(P),U-parseInt(P,10)<100)return!1}H>60&&(H-=60),H<10&&(H="0".concat(H));var ve="".concat(P,"/").concat(G,"/").concat(H);if(ve.length===8){if(!(0,a.default)(ve,"YY/MM/DD"))return!1}else if(!(0,a.default)(ve,"YYYY/MM/DD"))return!1;return s.luhnCheck(w.replace(/\W/,""))}function pt(w){for(var S=w.split("").map(function(U){return parseInt(U,10)}),P=[-1,5,7,9,4,6,10,5,7],G=0,H=0;H<P.length;H++)G+=S[H]*P[H];return G%11===10?S[9]===0:S[9]===G%11}var Ze={"bg-BG":/^\d{10}$/,"cs-CZ":/^\d{6}\/{0,1}\d{3,4}$/,"de-AT":/^\d{9}$/,"de-DE":/^[1-9]\d{10}$/,"dk-DK":/^\d{6}-{0,1}\d{4}$/,"el-CY":/^[09]\d{7}[A-Z]$/,"el-GR":/^([0-4]|[7-9])\d{8}$/,"en-CA":/^\d{9}$/,"en-GB":/^\d{10}$|^(?!GB|NK|TN|ZZ)(?![DFIQUV])[A-Z](?![DFIQUVO])[A-Z]\d{6}[ABCD ]$/i,"en-IE":/^\d{7}[A-W][A-IW]{0,1}$/i,"en-US":/^\d{2}[- ]{0,1}\d{7}$/,"es-AR":/(20|23|24|27|30|33|34)[0-9]{8}[0-9]/,"es-ES":/^(\d{0,8}|[XYZKLM]\d{7})[A-HJ-NP-TV-Z]$/i,"et-EE":/^[1-6]\d{6}(00[1-9]|0[1-9][0-9]|[1-6][0-9]{2}|70[0-9]|710)\d$/,"fi-FI":/^\d{6}[-+A]\d{3}[0-9A-FHJ-NPR-Y]$/i,"fr-BE":/^\d{11}$/,"fr-FR":/^[0-3]\d{12}$|^[0-3]\d\s\d{2}(\s\d{3}){3}$/,"fr-LU":/^\d{13}$/,"hr-HR":/^\d{11}$/,"hu-HU":/^8\d{9}$/,"it-IT":/^[A-Z]{6}[L-NP-V0-9]{2}[A-EHLMPRST][L-NP-V0-9]{2}[A-ILMZ][L-NP-V0-9]{3}[A-Z]$/i,"lv-LV":/^\d{6}-{0,1}\d{5}$/,"mt-MT":/^\d{3,7}[APMGLHBZ]$|^([1-8])\1\d{7}$/i,"nl-NL":/^\d{9}$/,"pl-PL":/^\d{10,11}$/,"pt-BR":/(?:^\d{11}$)|(?:^\d{14}$)/,"pt-PT":/^\d{9}$/,"ro-RO":/^\d{13}$/,"sk-SK":/^\d{6}\/{0,1}\d{3,4}$/,"sl-SI":/^[1-9]\d{7}$/,"sv-SE":/^(\d{6}[-+]{0,1}\d{4}|(18|19|20)\d{6}[-+]{0,1}\d{4})$/,"uk-UA":/^\d{10}$/};Ze["lb-LU"]=Ze["fr-LU"],Ze["lt-LT"]=Ze["et-EE"],Ze["nl-BE"]=Ze["fr-BE"],Ze["fr-CA"]=Ze["en-CA"];var He={"bg-BG":b,"cs-CZ":p,"de-AT":y,"de-DE":I,"dk-DK":v,"el-CY":_,"el-GR":R,"en-CA":g,"en-IE":$,"en-US":k,"es-AR":T,"es-ES":q,"et-EE":W,"fi-FI":M,"fr-BE":ue,"fr-FR":oe,"fr-LU":te,"hr-HR":ye,"hu-HU":me,"it-IT":Ce,"lv-LV":L,"mt-MT":Y,"nl-NL":Z,"pl-PL":ge,"pt-BR":Ne,"pt-PT":be,"ro-RO":ze,"sk-SK":re,"sl-SI":Pe,"sv-SE":Xe,"uk-UA":pt};He["lb-LU"]=He["fr-LU"],He["lt-LT"]=He["et-EE"],He["nl-BE"]=He["fr-BE"],He["fr-CA"]=He["en-CA"];var Me=/[-\\\/!@#$%\^&\*\(\)\+\=\[\]]+/g,ut={"de-AT":Me,"de-DE":/[\/\\]/g,"fr-BE":Me};ut["nl-BE"]=ut["fr-BE"];function gt(w){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en-US";(0,r.default)(w);var P=w.slice(0);if(S in Ze)return S in ut&&(P=P.replace(ut[S],"")),Ze[S].test(P)?S in He?He[S](P):!0:!1;throw new Error("Invalid locale '".concat(S,"'"))}n.exports=e.default,n.exports.default=e.default}(Da,Da.exports)),Da.exports}var jr={},Wl;function C0(){if(Wl)return jr;Wl=1,Object.defineProperty(jr,"__esModule",{value:!0}),jr.default=r,jr.locales=void 0;var n=e(K());function e(s){return s&&s.__esModule?s:{default:s}}var t={"am-AM":/^(\+?374|0)(33|4[134]|55|77|88|9[13-689])\d{6}$/,"ar-AE":/^((\+?971)|0)?5[024568]\d{7}$/,"ar-BH":/^(\+?973)?(3|6)\d{7}$/,"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-LB":/^(\+?961)?((3|81)\d{6}|7\d{7})$/,"ar-EG":/^((\+?20)|0)?1[0125]\d{8}$/,"ar-IQ":/^(\+?964|0)?7[0-9]\d{8}$/,"ar-JO":/^(\+?962|0)?7[789]\d{7}$/,"ar-KW":/^(\+?965)([569]\d{7}|41\d{6})$/,"ar-LY":/^((\+?218)|0)?(9[1-6]\d{7}|[1-8]\d{7,9})$/,"ar-MA":/^(?:(?:\+|00)212|0)[5-7]\d{8}$/,"ar-OM":/^((\+|00)968)?([79][1-9])\d{6}$/,"ar-PS":/^(\+?970|0)5[6|9](\d{7})$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"ar-SD":/^((\+?249)|0)?(9[012369]|1[012])\d{7}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-TN":/^(\+?216)?[2459]\d{7}$/,"az-AZ":/^(\+994|0)(10|5[015]|7[07]|99)\d{7}$/,"bs-BA":/^((((\+|00)3876)|06))((([0-3]|[5-6])\d{6})|(4\d{7}))$/,"be-BY":/^(\+?375)?(24|25|29|33|44)\d{7}$/,"bg-BG":/^(\+?359|0)?8[789]\d{7}$/,"bn-BD":/^(\+?880|0)1[13456789][0-9]{8}$/,"ca-AD":/^(\+376)?[346]\d{5}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"da-DK":/^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,"de-DE":/^((\+49|0)1)(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7,9}$/,"de-AT":/^(\+43|0)\d{1,4}\d{3,12}$/,"de-CH":/^(\+41|0)([1-9])\d{1,9}$/,"de-LU":/^(\+352)?((6\d1)\d{6})$/,"dv-MV":/^(\+?960)?(7[2-9]|9[1-9])\d{5}$/,"el-GR":/^(\+?30|0)?6(8[5-9]|9(?![26])[0-9])\d{7}$/,"el-CY":/^(\+?357?)?(9(9|7|6|5|4)\d{6})$/,"en-AI":/^(\+?1|0)264(?:2(35|92)|4(?:6[1-2]|76|97)|5(?:3[6-9]|8[1-4])|7(?:2(4|9)|72))\d{4}$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-AG":/^(?:\+1|1)268(?:464|7(?:1[3-9]|[28]\d|3[0246]|64|7[0-689]))\d{4}$/,"en-BM":/^(\+?1)?441(((3|7)\d{6}$)|(5[0-3][0-9]\d{4}$)|(59\d{5}$))/,"en-BS":/^(\+?1[-\s]?|0)?\(?242\)?[-\s]?\d{3}[-\s]?\d{4}$/,"en-GB":/^(\+?44|0)7[1-9]\d{8}$/,"en-GG":/^(\+?44|0)1481\d{6}$/,"en-GH":/^(\+233|0)(20|50|24|54|27|57|26|56|23|53|28|55|59)\d{7}$/,"en-GY":/^(\+592|0)6\d{6}$/,"en-HK":/^(\+?852[-\s]?)?[456789]\d{3}[-\s]?\d{4}$/,"en-MO":/^(\+?853[-\s]?)?[6]\d{3}[-\s]?\d{4}$/,"en-IE":/^(\+?353|0)8[356789]\d{7}$/,"en-IN":/^(\+?91|0)?[6789]\d{9}$/,"en-JM":/^(\+?876)?\d{7}$/,"en-KE":/^(\+?254|0)(7|1)\d{8}$/,"fr-CF":/^(\+?236| ?)(70|75|77|72|21|22)\d{6}$/,"en-SS":/^(\+?211|0)(9[1257])\d{7}$/,"en-KI":/^((\+686|686)?)?( )?((6|7)(2|3|8)[0-9]{6})$/,"en-KN":/^(?:\+1|1)869(?:46\d|48[89]|55[6-8]|66\d|76[02-7])\d{4}$/,"en-LS":/^(\+?266)(22|28|57|58|59|27|52)\d{6}$/,"en-MT":/^(\+?356|0)?(99|79|77|21|27|22|25)[0-9]{6}$/,"en-MU":/^(\+?230|0)?\d{8}$/,"en-MW":/^(\+?265|0)(((77|88|31|99|98|21)\d{7})|(((111)|1)\d{6})|(32000\d{4}))$/,"en-NA":/^(\+?264|0)(6|8)\d{7}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)[28]\d{7,9}$/,"en-PG":/^(\+?675|0)?(7\d|8[18])\d{6}$/,"en-PK":/^((00|\+)?92|0)3[0-6]\d{8}$/,"en-PH":/^(09|\+639)\d{9}$/,"en-RW":/^(\+?250|0)?[7]\d{8}$/,"en-SG":/^(\+65)?[3689]\d{7}$/,"en-SL":/^(\+?232|0)\d{8}$/,"en-TZ":/^(\+?255|0)?[67]\d{8}$/,"en-UG":/^(\+?256|0)?[7]\d{8}$/,"en-US":/^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?0[79][567]\d{7}$/,"en-ZW":/^(\+263)[0-9]{9}$/,"en-BW":/^(\+?267)?(7[1-8]{1})\d{6}$/,"es-AR":/^\+?549(11|[2368]\d)\d{8}$/,"es-BO":/^(\+?591)?(6|7)\d{7}$/,"es-CO":/^(\+?57)?3(0(0|1|2|4|5)|1\d|2[0-4]|5(0|1))\d{7}$/,"es-CL":/^(\+?56|0)[2-9]\d{1}\d{7}$/,"es-CR":/^(\+506)?[2-8]\d{7}$/,"es-CU":/^(\+53|0053)?5\d{7}$/,"es-DO":/^(\+?1)?8[024]9\d{7}$/,"es-HN":/^(\+?504)?[9|8|3|2]\d{7}$/,"es-EC":/^(\+?593|0)([2-7]|9[2-9])\d{7}$/,"es-ES":/^(\+?34)?[6|7]\d{8}$/,"es-GT":/^(\+?502)?[2|6|7]\d{7}$/,"es-PE":/^(\+?51)?9\d{8}$/,"es-MX":/^(\+?52)?(1|01)?\d{10,11}$/,"es-NI":/^(\+?505)\d{7,8}$/,"es-PA":/^(\+?507)\d{7,8}$/,"es-PY":/^(\+?595|0)9[9876]\d{7}$/,"es-SV":/^(\+?503)?[67]\d{7}$/,"es-UY":/^(\+598|0)9[1-9][\d]{6}$/,"es-VE":/^(\+?58)?(2|4)\d{9}$/,"et-EE":/^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,"fa-IR":/^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,"fi-FI":/^(\+?358|0)\s?(4[0-6]|50)\s?(\d\s?){4,8}$/,"fj-FJ":/^(\+?679)?\s?\d{3}\s?\d{4}$/,"fo-FO":/^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"fr-BF":/^(\+226|0)[67]\d{7}$/,"fr-BJ":/^(\+229)\d{8}$/,"fr-CD":/^(\+?243|0)?(8|9)\d{8}$/,"fr-CM":/^(\+?237)6[0-9]{8}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"fr-GF":/^(\+?594|0|00594)[67]\d{8}$/,"fr-GP":/^(\+?590|0|00590)[67]\d{8}$/,"fr-MQ":/^(\+?596|0|00596)[67]\d{8}$/,"fr-PF":/^(\+?689)?8[789]\d{6}$/,"fr-RE":/^(\+?262|0|00262)[67]\d{8}$/,"fr-WF":/^(\+681)?\d{6}$/,"he-IL":/^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,"hu-HU":/^(\+?36|06)(20|30|31|50|70)\d{7}$/,"id-ID":/^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"ir-IR":/^(\+98|0)?9\d{9}$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"it-SM":/^((\+378)|(0549)|(\+390549)|(\+3780549))?6\d{5,9}$/,"ja-JP":/^(\+81[ \-]?(\(0\))?|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,"ka-GE":/^(\+?995)?(79\d{7}|5\d{8})$/,"kk-KZ":/^(\+?7|8)?7\d{9}$/,"kl-GL":/^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"ko-KR":/^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,"ky-KG":/^(\+996\s?)?(22[0-9]|50[0-9]|55[0-9]|70[0-9]|75[0-9]|77[0-9]|880|990|995|996|997|998)\s?\d{3}\s?\d{3}$/,"lt-LT":/^(\+370|8)\d{8}$/,"lv-LV":/^(\+?371)2\d{7}$/,"mg-MG":/^((\+?261|0)(2|3)\d)?\d{7}$/,"mn-MN":/^(\+|00|011)?976(77|81|88|91|94|95|96|99)\d{6}$/,"my-MM":/^(\+?959|09|9)(2[5-7]|3[1-2]|4[0-5]|6[6-9]|7[5-9]|9[6-9])[0-9]{7}$/,"ms-MY":/^(\+?60|0)1(([0145](-|\s)?\d{7,8})|([236-9](-|\s)?\d{7}))$/,"mz-MZ":/^(\+?258)?8[234567]\d{7}$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"ne-NP":/^(\+?977)?9[78]\d{8}$/,"nl-BE":/^(\+?32|0)4\d{8}$/,"nl-NL":/^(((\+|00)?31\(0\))|((\+|00)?31)|0)6{1}\d{8}$/,"nl-AW":/^(\+)?297(56|59|64|73|74|99)\d{5}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?([5-8]\d|45) ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[1-9]{1}\d{3}\-?\d{4}))$/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"pt-AO":/^(\+?244)?9\d{8}$/,"ro-MD":/^(\+?373|0)((6(0|1|2|6|7|8|9))|(7(6|7|8|9)))\d{6}$/,"ro-RO":/^(\+?40|0)\s?7\d{2}(\/|\s|\.|-)?\d{3}(\s|\.|-)?\d{3}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"si-LK":/^(?:0|94|\+94)?(7(0|1|2|4|5|6|7|8)( |-)?)\d{7}$/,"sl-SI":/^(\+386\s?|0)(\d{1}\s?\d{3}\s?\d{2}\s?\d{2}|\d{2}\s?\d{3}\s?\d{3})$/,"sk-SK":/^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"so-SO":/^(\+?252|0)((6[0-9])\d{7}|(7[1-9])\d{7})$/,"sq-AL":/^(\+355|0)6[2-9]\d{7}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"sv-SE":/^(\+?46|0)[\s\-]?7[\s\-]?[02369]([\s\-]?\d){7}$/,"tg-TJ":/^(\+?992)?[5][5]\d{7}$/,"th-TH":/^(\+66|66|0)\d{9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"tk-TM":/^(\+993|993|8)\d{8}$/,"uk-UA":/^(\+?38)?0(50|6[36-8]|7[357]|9[1-9])\d{7}$/,"uz-UZ":/^(\+?998)?(6[125-79]|7[1-69]|88|9\d)\d{7}$/,"vi-VN":/^((\+?84)|0)((3([2-9]))|(5([25689]))|(7([0|6-9]))|(8([1-9]))|(9([0-9])))([0-9]{7})$/,"zh-CN":/^((\+|00)86)?(1[3-9]|9[28])\d{9}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/,"dz-BT":/^(\+?975|0)?(17|16|77|02)\d{6}$/,"ar-YE":/^(((\+|00)9677|0?7)[0137]\d{7}|((\+|00)967|0)[1-7]\d{6})$/,"ar-EH":/^(\+?212|0)[\s\-]?(5288|5289)[\s\-]?\d{5}$/,"fa-AF":/^(\+93|0)?(2{1}[0-8]{1}|[3-5]{1}[0-4]{1})(\d{7})$/,"mk-MK":/^(\+?389|0)?((?:2[2-9]\d{6}|(?:3[1-4]|4[2-8])\d{6}|500\d{5}|5[2-9]\d{6}|7[0-9][2-9]\d{5}|8[1-9]\d{6}|800\d{5}|8009\d{4}))$/};t["en-CA"]=t["en-US"],t["fr-CA"]=t["en-CA"],t["fr-BE"]=t["nl-BE"],t["zh-HK"]=t["en-HK"],t["zh-MO"]=t["en-MO"],t["ga-IE"]=t["en-IE"],t["fr-CH"]=t["de-CH"],t["it-CH"]=t["fr-CH"];function r(s,a,i){if((0,n.default)(s),i&&i.strictMode&&!s.startsWith("+"))return!1;if(Array.isArray(a))return a.some(function(u){if(t.hasOwnProperty(u)){var d=t[u];if(d.test(s))return!0}return!1});if(a in t)return t[a].test(s);if(!a||a==="any"){for(var o in t)if(t.hasOwnProperty(o)){var l=t[o];if(l.test(s))return!0}return!1}throw new Error("Invalid locale '".concat(a,"'"))}return jr.locales=Object.keys(t),jr}var Ma={exports:{}},Zl;function k0(){return Zl||(Zl=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=r(K());function r(i){return i&&i.__esModule?i:{default:i}}var s=/^(0x)[0-9a-f]{40}$/i;function a(i){return(0,t.default)(i),s.test(i)}n.exports=e.default,n.exports.default=e.default}(Ma,Ma.exports)),Ma.exports}var La={exports:{}},Hl;function R0(){return Hl||(Hl=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=s(tt()),r=s(K());function s(l){return l&&l.__esModule?l:{default:l}}function a(l){var u="\\d{".concat(l.digits_after_decimal[0],"}");l.digits_after_decimal.forEach(function(I,v){v!==0&&(u="".concat(u,"|\\d{").concat(I,"}"))});var d="(".concat(l.symbol.replace(/\W/,function(I){return"\\".concat(I)}),")").concat(l.require_symbol?"":"?"),c="-?",h="[1-9]\\d*",m="[1-9]\\d{0,2}(\\".concat(l.thousands_separator,"\\d{3})*"),b=["0",h,m],g="(".concat(b.join("|"),")?"),p="(\\".concat(l.decimal_separator,"(").concat(u,"))").concat(l.require_decimal?"":"?"),y=g+(l.allow_decimal||l.require_decimal?p:"");return l.allow_negatives&&!l.parens_for_negatives&&(l.negative_sign_after_digits?y+=c:l.negative_sign_before_digits&&(y=c+y)),l.allow_negative_sign_placeholder?y="( (?!\\-))?".concat(y):l.allow_space_after_symbol?y=" ?".concat(y):l.allow_space_after_digits&&(y+="( (?!$))?"),l.symbol_after_digits?y+=d:y=d+y,l.allow_negatives&&(l.parens_for_negatives?y="(\\(".concat(y,"\\)|").concat(y,")"):l.negative_sign_before_digits||l.negative_sign_after_digits||(y=c+y)),new RegExp("^(?!-? )(?=.*\\d)".concat(y,"$"))}var i={symbol:"$",require_symbol:!1,allow_space_after_symbol:!1,symbol_after_digits:!1,allow_negatives:!0,parens_for_negatives:!1,negative_sign_before_digits:!1,negative_sign_after_digits:!1,allow_negative_sign_placeholder:!1,thousands_separator:",",decimal_separator:".",allow_decimal:!0,require_decimal:!1,digits_after_decimal:[2],allow_space_after_digits:!1};function o(l,u){return(0,r.default)(l),u=(0,t.default)(u,i),a(u).test(l)}n.exports=e.default,n.exports.default=e.default}(La,La.exports)),La.exports}var Ba={exports:{}},zl;function $0(){return zl||(zl=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=r(K());function r(o){return o&&o.__esModule?o:{default:o}}var s=/^(bc1|tb1|bc1p|tb1p)[ac-hj-np-z02-9]{39,58}$/,a=/^(1|2|3|m)[A-HJ-NP-Za-km-z1-9]{25,39}$/;function i(o){return(0,t.default)(o),s.test(o)||a.test(o)}n.exports=e.default,n.exports.default=e.default}(Ba,Ba.exports)),Ba.exports}var Nr={},Kl;function T0(){if(Kl)return Nr;Kl=1,Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.isFreightContainerID=void 0,Nr.isISO6346=s;var n=e(K());function e(a){return a&&a.__esModule?a:{default:a}}var t=/^[A-Z]{3}(U[0-9]{7})|([J,Z][0-9]{6,7})$/,r=/^[0-9]$/;function s(a){if((0,n.default)(a),a=a.toUpperCase(),!t.test(a))return!1;if(a.length===11){for(var i=0,o=0;o<a.length-1;o++)if(r.test(a[o]))i+=a[o]*Math.pow(2,o);else{var l=void 0,u=a.charCodeAt(o)-55;u<11?l=u:u>=11&&u<=20?l=12+u%11:u>=21&&u<=30?l=23+u%21:l=34+u%31,i+=l*Math.pow(2,o)}var d=i%11;return d===10&&(d=0),Number(a[a.length-1])===d}return!0}return Nr.isFreightContainerID=s,Nr}var Ua={exports:{}},Gl;function j0(){return Gl||(Gl=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=r(K());function r(i){return i&&i.__esModule?i:{default:i}}var s=new Set(["aa","ab","ae","af","ak","am","an","ar","as","av","ay","az","az","ba","be","bg","bh","bi","bm","bn","bo","br","bs","ca","ce","ch","co","cr","cs","cu","cv","cy","da","de","dv","dz","ee","el","en","eo","es","et","eu","fa","ff","fi","fj","fo","fr","fy","ga","gd","gl","gn","gu","gv","ha","he","hi","ho","hr","ht","hu","hy","hz","ia","id","ie","ig","ii","ik","io","is","it","iu","ja","jv","ka","kg","ki","kj","kk","kl","km","kn","ko","kr","ks","ku","kv","kw","ky","la","lb","lg","li","ln","lo","lt","lu","lv","mg","mh","mi","mk","ml","mn","mr","ms","mt","my","na","nb","nd","ne","ng","nl","nn","no","nr","nv","ny","oc","oj","om","or","os","pa","pi","pl","ps","pt","qu","rm","rn","ro","ru","rw","sa","sc","sd","se","sg","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tr","ts","tt","tw","ty","ug","uk","ur","uz","ve","vi","vo","wa","wo","xh","yi","yo","za","zh","zu"]);function a(i){return(0,t.default)(i),s.has(i)}n.exports=e.default,n.exports.default=e.default}(Ua,Ua.exports)),Ua.exports}var Fa={exports:{}},Vl;function N0(){return Vl||(Vl=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=r(K());function r(l){return l&&l.__esModule?l:{default:l}}var s=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,a=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,i=function(u){var d=u.match(/^(\d{4})-?(\d{3})([ T]{1}\.*|$)/);if(d){var c=Number(d[1]),h=Number(d[2]);return c%4===0&&c%100!==0||c%400===0?h<=366:h<=365}var m=u.match(/(\d{4})-?(\d{0,2})-?(\d*)/).map(Number),b=m[1],g=m[2],p=m[3],y=g&&"0".concat(g).slice(-2),I=p&&"0".concat(p).slice(-2),v=new Date("".concat(b,"-").concat(y||"01","-").concat(I||"01"));return g&&p?v.getUTCFullYear()===b&&v.getUTCMonth()+1===g&&v.getUTCDate()===p:!0};function o(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,t.default)(l);var d=u.strictSeparator?a.test(l):s.test(l);return d&&u.strict?i(l):d}n.exports=e.default,n.exports.default=e.default}(Fa,Fa.exports)),Fa.exports}var qa={exports:{}},Yl;function P0(){return Yl||(Yl=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=y;var t=r(K());function r(I){return I&&I.__esModule?I:{default:I}}var s=/[0-9]{4}/,a=/(0[1-9]|1[0-2])/,i=/([12]\d|0[1-9]|3[01])/,o=/([01][0-9]|2[0-3])/,l=/[0-5][0-9]/,u=/([0-5][0-9]|60)/,d=/(\.[0-9]+)?/,c=new RegExp("[-+]".concat(o.source,":").concat(l.source)),h=new RegExp("([zZ]|".concat(c.source,")")),m=new RegExp("".concat(o.source,":").concat(l.source,":").concat(u.source).concat(d.source)),b=new RegExp("".concat(s.source,"-").concat(a.source,"-").concat(i.source)),g=new RegExp("".concat(m.source).concat(h.source)),p=new RegExp("^".concat(b.source,"[ tT]").concat(g.source,"$"));function y(I){return(0,t.default)(I),p.test(I)}n.exports=e.default,n.exports.default=e.default}(qa,qa.exports)),qa.exports}var Pr={},Jl;function O0(){if(Jl)return Pr;Jl=1,Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.ScriptCodes=void 0,Pr.default=r;var n=e(K());function e(s){return s&&s.__esModule?s:{default:s}}var t=new Set(["Adlm","Afak","Aghb","Ahom","Arab","Aran","Armi","Armn","Avst","Bali","Bamu","Bass","Batk","Beng","Bhks","Blis","Bopo","Brah","Brai","Bugi","Buhd","Cakm","Cans","Cari","Cham","Cher","Chis","Chrs","Cirt","Copt","Cpmn","Cprt","Cyrl","Cyrs","Deva","Diak","Dogr","Dsrt","Dupl","Egyd","Egyh","Egyp","Elba","Elym","Ethi","Gara","Geok","Geor","Glag","Gong","Gonm","Goth","Gran","Grek","Gujr","Gukh","Guru","Hanb","Hang","Hani","Hano","Hans","Hant","Hatr","Hebr","Hira","Hluw","Hmng","Hmnp","Hrkt","Hung","Inds","Ital","Jamo","Java","Jpan","Jurc","Kali","Kana","Kawi","Khar","Khmr","Khoj","Kitl","Kits","Knda","Kore","Kpel","Krai","Kthi","Lana","Laoo","Latf","Latg","Latn","Leke","Lepc","Limb","Lina","Linb","Lisu","Loma","Lyci","Lydi","Mahj","Maka","Mand","Mani","Marc","Maya","Medf","Mend","Merc","Mero","Mlym","Modi","Mong","Moon","Mroo","Mtei","Mult","Mymr","Nagm","Nand","Narb","Nbat","Newa","Nkdb","Nkgb","Nkoo","Nshu","Ogam","Olck","Onao","Orkh","Orya","Osge","Osma","Ougr","Palm","Pauc","Pcun","Pelm","Perm","Phag","Phli","Phlp","Phlv","Phnx","Plrd","Piqd","Prti","Psin","Qaaa","Qaab","Qaac","Qaad","Qaae","Qaaf","Qaag","Qaah","Qaai","Qaaj","Qaak","Qaal","Qaam","Qaan","Qaao","Qaap","Qaaq","Qaar","Qaas","Qaat","Qaau","Qaav","Qaaw","Qaax","Qaay","Qaaz","Qaba","Qabb","Qabc","Qabd","Qabe","Qabf","Qabg","Qabh","Qabi","Qabj","Qabk","Qabl","Qabm","Qabn","Qabo","Qabp","Qabq","Qabr","Qabs","Qabt","Qabu","Qabv","Qabw","Qabx","Ranj","Rjng","Rohg","Roro","Runr","Samr","Sara","Sarb","Saur","Sgnw","Shaw","Shrd","Shui","Sidd","Sidt","Sind","Sinh","Sogd","Sogo","Sora","Soyo","Sund","Sunu","Sylo","Syrc","Syre","Syrj","Syrn","Tagb","Takr","Tale","Talu","Taml","Tang","Tavt","Tayo","Telu","Teng","Tfng","Tglg","Thaa","Thai","Tibt","Tirh","Tnsa","Todr","Tols","Toto","Tutg","Ugar","Vaii","Visp","Vith","Wara","Wcho","Wole","Xpeo","Xsux","Yezi","Yiii","Zanb","Zinh","Zmth","Zsye","Zsym","Zxxx","Zyyy","Zzzz"]);function r(s){return(0,n.default)(s),t.has(s)}return Pr.ScriptCodes=t,Pr}var Wa={exports:{}},Xl;function D0(){return Xl||(Xl=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=r(K());function r(i){return i&&i.__esModule?i:{default:i}}var s=new Set(["AFG","ALA","ALB","DZA","ASM","AND","AGO","AIA","ATA","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BMU","BTN","BOL","BES","BIH","BWA","BVT","BRA","IOT","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CYM","CAF","TCD","CHL","CHN","CXR","CCK","COL","COM","COG","COD","COK","CRI","CIV","HRV","CUB","CUW","CYP","CZE","DNK","DJI","DMA","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FLK","FRO","FJI","FIN","FRA","GUF","PYF","ATF","GAB","GMB","GEO","DEU","GHA","GIB","GRC","GRL","GRD","GLP","GUM","GTM","GGY","GIN","GNB","GUY","HTI","HMD","VAT","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","IMN","ISR","ITA","JAM","JPN","JEY","JOR","KAZ","KEN","KIR","PRK","KOR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LIE","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MHL","MTQ","MRT","MUS","MYT","MEX","FSM","MDA","MCO","MNG","MNE","MSR","MAR","MOZ","MMR","NAM","NRU","NPL","NLD","NCL","NZL","NIC","NER","NGA","NIU","NFK","MNP","NOR","OMN","PAK","PLW","PSE","PAN","PNG","PRY","PER","PHL","PCN","POL","PRT","PRI","QAT","REU","ROU","RUS","RWA","BLM","SHN","KNA","LCA","MAF","SPM","VCT","WSM","SMR","STP","SAU","SEN","SRB","SYC","SLE","SGP","SXM","SVK","SVN","SLB","SOM","ZAF","SGS","SSD","ESP","LKA","SDN","SUR","SJM","SWZ","SWE","CHE","SYR","TWN","TJK","TZA","THA","TLS","TGO","TKL","TON","TTO","TUN","TUR","TKM","TCA","TUV","UGA","UKR","ARE","GBR","USA","UMI","URY","UZB","VUT","VEN","VNM","VGB","VIR","WLF","ESH","YEM","ZMB","ZWE"]);function a(i){return(0,t.default)(i),s.has(i.toUpperCase())}n.exports=e.default,n.exports.default=e.default}(Wa,Wa.exports)),Wa.exports}var Za={exports:{}},Ql;function M0(){return Ql||(Ql=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=r(K());function r(i){return i&&i.__esModule?i:{default:i}}var s=new Set(["004","008","010","012","016","020","024","028","031","032","036","040","044","048","050","051","052","056","060","064","068","070","072","074","076","084","086","090","092","096","100","104","108","112","116","120","124","132","136","140","144","148","152","156","158","162","166","170","174","175","178","180","184","188","191","192","196","203","204","208","212","214","218","222","226","231","232","233","234","238","239","242","246","248","250","254","258","260","262","266","268","270","275","276","288","292","296","300","304","308","312","316","320","324","328","332","334","336","340","344","348","352","356","360","364","368","372","376","380","384","388","392","398","400","404","408","410","414","417","418","422","426","428","430","434","438","440","442","446","450","454","458","462","466","470","474","478","480","484","492","496","498","499","500","504","508","512","516","520","524","528","531","533","534","535","540","548","554","558","562","566","570","574","578","580","581","583","584","585","586","591","598","600","604","608","612","616","620","624","626","630","634","638","642","643","646","652","654","659","660","662","663","666","670","674","678","682","686","688","690","694","702","703","704","705","706","710","716","724","728","729","732","740","744","748","752","756","760","762","764","768","772","776","780","784","788","792","795","796","798","800","804","807","818","826","831","832","833","834","840","850","854","858","860","862","876","882","887","894"]);function a(i){return(0,t.default)(i),s.has(i)}n.exports=e.default,n.exports.default=e.default}(Za,Za.exports)),Za.exports}var Or={},ec;function L0(){if(ec)return Or;ec=1,Object.defineProperty(Or,"__esModule",{value:!0}),Or.CurrencyCodes=void 0,Or.default=r;var n=e(K());function e(s){return s&&s.__esModule?s:{default:s}}var t=new Set(["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRU","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLE","SLL","SOS","SRD","SSP","STN","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UYW","UZS","VED","VES","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]);function r(s){return(0,n.default)(s),t.has(s.toUpperCase())}return Or.CurrencyCodes=t,Or}var Ha={exports:{}},tc;function B0(){return tc||(tc=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=s(K()),r=s(tt());function s(u){return u&&u.__esModule?u:{default:u}}var a=/^[A-Z2-7]+=*$/,i=/^[A-HJKMNP-TV-Z0-9]+$/,o={crockford:!1};function l(u,d){if((0,t.default)(u),d=(0,r.default)(d,o),d.crockford)return i.test(u);var c=u.length;return!!(c%8===0&&a.test(u))}n.exports=e.default,n.exports.default=e.default}(Ha,Ha.exports)),Ha.exports}var za={exports:{}},rc;function U0(){return rc||(rc=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=r(K());function r(i){return i&&i.__esModule?i:{default:i}}var s=/^[A-HJ-NP-Za-km-z1-9]*$/;function a(i){return(0,t.default)(i),!!s.test(i)}n.exports=e.default,n.exports.default=e.default}(za,za.exports)),za.exports}var Ka={exports:{}},sc;function F0(){return sc||(sc=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=r(K());function r(l){return l&&l.__esModule?l:{default:l}}var s=/^[a-z]+\/[a-z0-9\-\+\._]+$/i,a=/^[a-z\-]+=[a-z0-9\-]+$/i,i=/^[a-z0-9!\$&'\(\)\*\+,;=\-\._~:@\/\?%\s]*$/i;function o(l){(0,t.default)(l);var u=l.split(",");if(u.length<2)return!1;var d=u.shift().trim().split(";"),c=d.shift();if(c.slice(0,5)!=="data:")return!1;var h=c.slice(5);if(h!==""&&!s.test(h))return!1;for(var m=0;m<d.length;m++)if(!(m===d.length-1&&d[m].toLowerCase()==="base64")&&!a.test(d[m]))return!1;for(var b=0;b<u.length;b++)if(!i.test(u[b]))return!1;return!0}n.exports=e.default,n.exports.default=e.default}(Ka,Ka.exports)),Ka.exports}var Ga={exports:{}},ac;function q0(){return ac||(ac=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=r(K());function r(i){return i&&i.__esModule?i:{default:i}}var s=/(?:^magnet:\?|[^?&]&)xt(?:\.1)?=urn:(?:(?:aich|bitprint|btih|ed2k|ed2khash|kzhash|md5|sha1|tree:tiger):[a-z0-9]{32}(?:[a-z0-9]{8})?|btmh:1220[a-z0-9]{64})(?:$|&)/i;function a(i){return(0,t.default)(i),i.indexOf("magnet:?")!==0?!1:s.test(i)}n.exports=e.default,n.exports.default=e.default}(Ga,Ga.exports)),Ga.exports}var Va={exports:{}},Ya={exports:{}},Ja={exports:{}},nc;function xu(){return nc||(nc=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(K());function r(a){return a&&a.__esModule?a:{default:a}}function s(a,i){if((0,t.default)(a),i){var o=new RegExp("[".concat(i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+$"),"g");return a.replace(o,"")}for(var l=a.length-1;/\s/.test(a.charAt(l));)l-=1;return a.slice(0,l+1)}n.exports=e.default,n.exports.default=e.default}(Ja,Ja.exports)),Ja.exports}var Xa={exports:{}},ic;function wu(){return ic||(ic=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(K());function r(a){return a&&a.__esModule?a:{default:a}}function s(a,i){(0,t.default)(a);var o=i?new RegExp("^[".concat(i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+"),"g"):/^\s+/g;return a.replace(o,"")}n.exports=e.default,n.exports.default=e.default}(Xa,Xa.exports)),Xa.exports}var oc;function _u(){return oc||(oc=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=s(xu()),r=s(wu());function s(i){return i&&i.__esModule?i:{default:i}}function a(i,o){return(0,t.default)((0,r.default)(i,o),o)}n.exports=e.default,n.exports.default=e.default}(Ya,Ya.exports)),Ya.exports}var lc;function W0(){return lc||(lc=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=b;var t=a(_u()),r=a(uu()),s=a(K());function a(g){return g&&g.__esModule?g:{default:g}}function i(g,p){return u(g)||l(g,p)||c(g,p)||o()}function o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l(g,p){var y=g==null?null:typeof Symbol!="undefined"&&g[Symbol.iterator]||g["@@iterator"];if(y!=null){var I,v,_,R,$=[],O=!0,N=!1;try{if(_=(y=y.call(g)).next,p!==0)for(;!(O=(I=_.call(y)).done)&&($.push(I.value),$.length!==p);O=!0);}catch(k){N=!0,v=k}finally{try{if(!O&&y.return!=null&&(R=y.return(),Object(R)!==R))return}finally{if(N)throw v}}return $}}function u(g){if(Array.isArray(g))return g}function d(g,p){var y=typeof Symbol!="undefined"&&g[Symbol.iterator]||g["@@iterator"];if(!y){if(Array.isArray(g)||(y=c(g))||p){y&&(g=y);var I=0,v=function(){};return{s:v,n:function(){return I>=g.length?{done:!0}:{done:!1,value:g[I++]}},e:function(N){throw N},f:v}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _,R=!0,$=!1;return{s:function(){y=y.call(g)},n:function(){var N=y.next();return R=N.done,N},e:function(N){$=!0,_=N},f:function(){try{R||y.return==null||y.return()}finally{if($)throw _}}}}function c(g,p){if(g){if(typeof g=="string")return h(g,p);var y={}.toString.call(g).slice(8,-1);return y==="Object"&&g.constructor&&(y=g.constructor.name),y==="Map"||y==="Set"?Array.from(g):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?h(g,p):void 0}}function h(g,p){(p==null||p>g.length)&&(p=g.length);for(var y=0,I=Array(p);y<p;y++)I[y]=g[y];return I}function m(g){var p=new Set(["subject","body","cc","bcc"]),y={cc:"",bcc:""},I=!1,v=g.split("&");if(v.length>4)return!1;var _=d(v),R;try{for(_.s();!(R=_.n()).done;){var $=R.value,O=$.split("="),N=i(O,2),k=N[0],T=N[1];if(k&&!p.has(k)){I=!0;break}T&&(k==="cc"||k==="bcc")&&(y[k]=T),k&&p.delete(k)}}catch(q){_.e(q)}finally{_.f()}return I?!1:y}function b(g,p){if((0,s.default)(g),g.indexOf("mailto:")!==0)return!1;var y=g.replace("mailto:","").split("?"),I=i(y,2),v=I[0],_=I[1],R=_===void 0?"":_;if(!v&&!R)return!0;var $=m(R);return $?"".concat(v,",").concat($.cc,",").concat($.bcc).split(",").every(function(O){return O=(0,t.default)(O," "),O?(0,r.default)(O,p):!0}):!1}n.exports=e.default,n.exports.default=e.default}(Va,Va.exports)),Va.exports}var Qa={exports:{}},cc;function Z0(){return cc||(cc=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=r(K());function r(l){return l&&l.__esModule?l:{default:l}}var s=/^(application|audio|font|image|message|model|multipart|text|video)\/[a-zA-Z0-9\.\-\+_]{1,100}$/i,a=/^text\/[a-zA-Z0-9\.\-\+]{1,100};\s?charset=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?$/i,i=/^multipart\/[a-zA-Z0-9\.\-\+]{1,100}(;\s?(boundary|charset)=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?){0,2}$/i;function o(l){return(0,t.default)(l),s.test(l)||a.test(l)||i.test(l)}n.exports=e.default,n.exports.default=e.default}(Qa,Qa.exports)),Qa.exports}var en={exports:{}},uc;function H0(){return uc||(uc=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var t=a(K()),r=a(tt()),s=a(du());function a(h){return h&&h.__esModule?h:{default:h}}var i=/^\(?[+-]?(90(\.0+)?|[1-8]?\d(\.\d+)?)$/,o=/^\s?[+-]?(180(\.0+)?|1[0-7]\d(\.\d+)?|\d{1,2}(\.\d+)?)\)?$/,l=/^(([1-8]?\d)\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|90\D+0\D+0)\D+[NSns]?$/i,u=/^\s*([1-7]?\d{1,2}\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|180\D+0\D+0)\D+[EWew]?$/i,d={checkDMS:!1};function c(h,m){if((0,t.default)(h),m=(0,r.default)(m,d),!(0,s.default)(h,","))return!1;var b=h.split(",");return b[0].startsWith("(")&&!b[1].endsWith(")")||b[1].endsWith(")")&&!b[0].startsWith("(")?!1:m.checkDMS?l.test(b[0])&&u.test(b[1]):i.test(b[0])&&o.test(b[1])}n.exports=e.default,n.exports.default=e.default}(en,en.exports)),en.exports}var Dr={},dc;function z0(){if(dc)return Dr;dc=1,Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.default=o,Dr.locales=void 0;var n=e(K());function e(l){return l&&l.__esModule?l:{default:l}}var t=/^\d{3}$/,r=/^\d{4}$/,s=/^\d{5}$/,a=/^\d{6}$/,i={AD:/^AD\d{3}$/,AT:r,AU:r,AZ:/^AZ\d{4}$/,BA:/^([7-8]\d{4}$)/,BD:/^([1-8][0-9]{3}|9[0-4][0-9]{2})$/,BE:r,BG:r,BR:/^\d{5}-?\d{3}$/,BY:/^2[1-4]\d{4}$/,CA:/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][\s\-]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,CH:r,CN:/^(0[1-7]|1[012356]|2[0-7]|3[0-6]|4[0-7]|5[1-7]|6[1-7]|7[1-5]|8[1345]|9[09])\d{4}$/,CO:/^(05|08|11|13|15|17|18|19|20|23|25|27|41|44|47|50|52|54|63|66|68|70|73|76|81|85|86|88|91|94|95|97|99)(\d{4})$/,CZ:/^\d{3}\s?\d{2}$/,DE:s,DK:r,DO:s,DZ:s,EE:s,ES:/^(5[0-2]{1}|[0-4]{1}\d{1})\d{3}$/,FI:s,FR:/^(?:(?:0[1-9]|[1-8]\d|9[0-5])\d{3}|97[1-46]\d{2})$/,GB:/^(gir\s?0aa|[a-z]{1,2}\d[\da-z]?\s?(\d[a-z]{2})?)$/i,GR:/^\d{3}\s?\d{2}$/,HR:/^([1-5]\d{4}$)/,HT:/^HT\d{4}$/,HU:r,ID:s,IE:/^(?!.*(?:o))[A-Za-z]\d[\dw]\s\w{4}$/i,IL:/^(\d{5}|\d{7})$/,IN:/^((?!10|29|35|54|55|65|66|86|87|88|89)[1-9][0-9]{5})$/,IR:/^(?!(\d)\1{3})[13-9]{4}[1346-9][013-9]{5}$/,IS:t,IT:s,JP:/^\d{3}\-\d{4}$/,KE:s,KR:/^(\d{5}|\d{6})$/,LI:/^(948[5-9]|949[0-7])$/,LT:/^LT\-\d{5}$/,LU:r,LV:/^LV\-\d{4}$/,LK:s,MG:t,MX:s,MT:/^[A-Za-z]{3}\s{0,1}\d{4}$/,MY:s,NL:/^[1-9]\d{3}\s?(?!sa|sd|ss)[a-z]{2}$/i,NO:r,NP:/^(10|21|22|32|33|34|44|45|56|57)\d{3}$|^(977)$/i,NZ:r,PK:s,PL:/^\d{2}\-\d{3}$/,PR:/^00[679]\d{2}([ -]\d{4})?$/,PT:/^\d{4}\-\d{3}?$/,RO:a,RU:a,SA:s,SE:/^[1-9]\d{2}\s?\d{2}$/,SG:a,SI:r,SK:/^\d{3}\s?\d{2}$/,TH:s,TN:r,TW:/^\d{3}(\d{2,3})?$/,UA:s,US:/^\d{5}(-\d{4})?$/,ZA:r,ZM:s};Dr.locales=Object.keys(i);function o(l,u){if((0,n.default)(l),u in i)return i[u].test(l);if(u==="any"){for(var d in i)if(i.hasOwnProperty(d)){var c=i[d];if(c.test(l))return!0}return!1}throw new Error("Invalid locale '".concat(u,"'"))}return Dr}var tn={exports:{}},fc;function K0(){return fc||(fc=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(K());function r(a){return a&&a.__esModule?a:{default:a}}function s(a){return(0,t.default)(a),a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\\/g,"&#x5C;").replace(/`/g,"&#96;")}n.exports=e.default,n.exports.default=e.default}(tn,tn.exports)),tn.exports}var rn={exports:{}},hc;function G0(){return hc||(hc=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(K());function r(a){return a&&a.__esModule?a:{default:a}}function s(a){return(0,t.default)(a),a.replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/").replace(/&#x5C;/g,"\\").replace(/&#96;/g,"`").replace(/&amp;/g,"&")}n.exports=e.default,n.exports.default=e.default}(rn,rn.exports)),rn.exports}var sn={exports:{}},an={exports:{}},pc;function Su(){return pc||(pc=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(K());function r(a){return a&&a.__esModule?a:{default:a}}function s(a,i){return(0,t.default)(a),a.replace(new RegExp("[".concat(i,"]+"),"g"),"")}n.exports=e.default,n.exports.default=e.default}(an,an.exports)),an.exports}var gc;function V0(){return gc||(gc=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=s(K()),r=s(Su());function s(i){return i&&i.__esModule?i:{default:i}}function a(i,o){(0,t.default)(i);var l=o?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F";return(0,r.default)(i,l)}n.exports=e.default,n.exports.default=e.default}(sn,sn.exports)),sn.exports}var nn={exports:{}},mc;function Y0(){return mc||(mc=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(K());function r(a){return a&&a.__esModule?a:{default:a}}function s(a,i){return(0,t.default)(a),a.replace(new RegExp("[^".concat(i,"]+"),"g"),"")}n.exports=e.default,n.exports.default=e.default}(nn,nn.exports)),nn.exports}var on={exports:{}},vc;function J0(){return vc||(vc=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(K());function r(a){return a&&a.__esModule?a:{default:a}}function s(a,i){(0,t.default)(a);for(var o=a.length-1;o>=0;o--)if(i.indexOf(a[o])===-1)return!1;return!0}n.exports=e.default,n.exports.default=e.default}(on,on.exports)),on.exports}var ln={exports:{}},yc;function X0(){return yc||(yc=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=d;var t=r(tt());function r(c){return c&&c.__esModule?c:{default:c}}var s={all_lowercase:!0,gmail_lowercase:!0,gmail_remove_dots:!0,gmail_remove_subaddress:!0,gmail_convert_googlemaildotcom:!0,outlookdotcom_lowercase:!0,outlookdotcom_remove_subaddress:!0,yahoo_lowercase:!0,yahoo_remove_subaddress:!0,yandex_lowercase:!0,yandex_convert_yandexru:!0,icloud_lowercase:!0,icloud_remove_subaddress:!0},a=["icloud.com","me.com"],i=["hotmail.at","hotmail.be","hotmail.ca","hotmail.cl","hotmail.co.il","hotmail.co.nz","hotmail.co.th","hotmail.co.uk","hotmail.com","hotmail.com.ar","hotmail.com.au","hotmail.com.br","hotmail.com.gr","hotmail.com.mx","hotmail.com.pe","hotmail.com.tr","hotmail.com.vn","hotmail.cz","hotmail.de","hotmail.dk","hotmail.es","hotmail.fr","hotmail.hu","hotmail.id","hotmail.ie","hotmail.in","hotmail.it","hotmail.jp","hotmail.kr","hotmail.lv","hotmail.my","hotmail.ph","hotmail.pt","hotmail.sa","hotmail.sg","hotmail.sk","live.be","live.co.uk","live.com","live.com.ar","live.com.mx","live.de","live.es","live.eu","live.fr","live.it","live.nl","msn.com","outlook.at","outlook.be","outlook.cl","outlook.co.il","outlook.co.nz","outlook.co.th","outlook.com","outlook.com.ar","outlook.com.au","outlook.com.br","outlook.com.gr","outlook.com.pe","outlook.com.tr","outlook.com.vn","outlook.cz","outlook.de","outlook.dk","outlook.es","outlook.fr","outlook.hu","outlook.id","outlook.ie","outlook.in","outlook.it","outlook.jp","outlook.kr","outlook.lv","outlook.my","outlook.ph","outlook.pt","outlook.sa","outlook.sg","outlook.sk","passport.com"],o=["rocketmail.com","yahoo.ca","yahoo.co.uk","yahoo.com","yahoo.de","yahoo.fr","yahoo.in","yahoo.it","ymail.com"],l=["yandex.ru","yandex.ua","yandex.kz","yandex.com","yandex.by","ya.ru"];function u(c){return c.length>1?c:""}function d(c,h){h=(0,t.default)(h,s);var m=c.split("@"),b=m.pop(),g=m.join("@"),p=[g,b];if(p[1]=p[1].toLowerCase(),p[1]==="gmail.com"||p[1]==="googlemail.com"){if(h.gmail_remove_subaddress&&(p[0]=p[0].split("+")[0]),h.gmail_remove_dots&&(p[0]=p[0].replace(/\.+/g,u)),!p[0].length)return!1;(h.all_lowercase||h.gmail_lowercase)&&(p[0]=p[0].toLowerCase()),p[1]=h.gmail_convert_googlemaildotcom?"gmail.com":p[1]}else if(a.indexOf(p[1])>=0){if(h.icloud_remove_subaddress&&(p[0]=p[0].split("+")[0]),!p[0].length)return!1;(h.all_lowercase||h.icloud_lowercase)&&(p[0]=p[0].toLowerCase())}else if(i.indexOf(p[1])>=0){if(h.outlookdotcom_remove_subaddress&&(p[0]=p[0].split("+")[0]),!p[0].length)return!1;(h.all_lowercase||h.outlookdotcom_lowercase)&&(p[0]=p[0].toLowerCase())}else if(o.indexOf(p[1])>=0){if(h.yahoo_remove_subaddress){var y=p[0].split("-");p[0]=y.length>1?y.slice(0,-1).join("-"):y[0]}if(!p[0].length)return!1;(h.all_lowercase||h.yahoo_lowercase)&&(p[0]=p[0].toLowerCase())}else l.indexOf(p[1])>=0?((h.all_lowercase||h.yandex_lowercase)&&(p[0]=p[0].toLowerCase()),p[1]=h.yandex_convert_yandexru?"yandex.ru":p[1]):h.all_lowercase&&(p[0]=p[0].toLowerCase());return p.join("@")}n.exports=e.default,n.exports.default=e.default}(ln,ln.exports)),ln.exports}var cn={exports:{}},bc;function Q0(){return bc||(bc=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=r(K());function r(i){return i&&i.__esModule?i:{default:i}}var s=/^[^\s-_](?!.*?[-_]{2,})[a-z0-9-\\][^\s]*[^-_\s]$/;function a(i){return(0,t.default)(i),s.test(i)}n.exports=e.default,n.exports.default=e.default}(cn,cn.exports)),cn.exports}var un={exports:{}},xc;function eg(){return xc||(xc=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=r(K());function r(i){return i&&i.__esModule?i:{default:i}}var s={"cs-CZ":function(o){return/^(([ABCDEFHIJKLMNPRSTUVXYZ]|[0-9])-?){5,8}$/.test(o)},"de-DE":function(o){return/^((A|AA|AB|AC|AE|AH|AK|AM|AN|A|AP|AS|AT|AU|AW|AZ|B|BA|BB|BC|BE|BF|BH|BI|BK|BL|BM|BN|BO|B|BS|BT|BZ|C|CA|CB|CE|CO|CR|CW|D|DA|DD|DE|DH|DI|DL|DM|DN|DO|DU|DW|DZ|E|EA|EB|ED|EE|EF|EG|EH|EI|EL|EM|EN|ER|ES|EU|EW|F|FB|FD|FF|FG|FI|FL|FN|FO|FR|FS|FT|F|FW|FZ|G|GA|GC|GD|GE|GF|GG|GI|GK|GL|GM|GN|G|GP|GR|GS|GT|G|GV|GW|GZ|H|HA|HB|HC|HD|HE|HF|HG|HH|HI|HK|HL|HM|HN|HO|HP|HR|HS|HU|HV|HX|HY|HZ|IK|IL|IN|IZ|J|JE|JL|K|KA|KB|KC|KE|KF|KG|KH|KI|KK|KL|KM|KN|KO|KR|KS|KT|KU|KW|KY|L|LA|LB|LC|LD|LF|LG|LH|LI|LL|LM|LN|L|LP|LR|LU|M|MA|MB|MC|MD|ME|MG|MH|MI|MK|ML|MM|MN|MO|MQ|MR|MS|M|MW|MY|MZ|N|NB|ND|NE|NF|NH|NI|NK|NM|N|NP|NR|NT|NU|NW|NY|NZ|OA|OB|OC|OD|OE|OF|OG|OH|OK|OL|OP|OS|OZ|P|PA|PB|PE|PF|PI|PL|PM|PN|PR|PS|PW|PZ|R|RA|RC|RD|RE|RG|RH|RI|RL|RM|RN|RO|RP|RS|RT|RU|RV|RW|RZ|S|SB|SC|SE|SG|SI|SK|SL|SM|SN|SO|SP|SR|ST|SU|SW|SY|SZ|TE|TF|TG|TO|TP|TR|TS|TT|T|B|UE|UH|UL|UM|UN|V|VB|VG|VK|VR|VS|W|WA|WB|WE|WF|WI|WK|WL|WM|WN|WO|WR|WS|WT|W|WW|WZ|Z|ZE|ZI|ZP|ZR|ZW|ZZ)[- ]?[A-Z]{1,2}[- ]?\d{1,4}|(ABG|ABI|AIB|AIC|ALF|ALZ|ANA|ANG|ANK|APD|ARN|ART|ASL|ASZ|AUR|AZE|BAD|BAR|BBG|BCH|BED|BER|BGD|BGL|BID|BIN|BIR|BIT|BIW|BKS|BLB|BLK|BNA|BOG|BOH|BOR|BOT|BRA|BRB|BRG|BRK|BRL|BRV|BSB|BSK|BTF|BD|BUL|BR|BS|BZ|CAS|CHA|CLP|CLZ|COC|COE|CUX|DAH|DAN|DAU|DBR|DEG|DEL|DGF|DIL|DIN|DIZ|DKB|DLG|DON|DUD|DW|EBE|EBN|EBS|ECK|EIC|EIL|EIN|EIS|EMD|EMS|ERB|ERH|ERK|ERZ|ESB|ESW|FDB|FDS|FEU|FFB|FKB|FL|FOR|FRG|FRI|FRW|FTL|FS|GAN|GAP|GDB|GEL|GEO|GER|GHA|GHC|GLA|GMN|GNT|GOA|GOH|GRA|GRH|GRI|GRM|GRZ|GTH|GUB|GUN|GVM|HAB|HAL|HAM|HAS|HBN|HBS|HCH|HDH|HDL|HEB|HEF|HEI|HER|HET|HGN|HGW|HHM|HIG|HIP|HM|HOG|HOH|HOL|HOM|HOR|HS|HOT|HRO|HSK|HST|HVL|HWI|IGB|ILL|JL|KEH|KEL|KEM|KIB|KLE|KLZ|KN|KT|KZ|KRU|KN|KUS|KYF|LAN|LAU|LBS|LBZ|LDK|LDS|LEO|LER|LEV|LIB|LIF|LIP|LB|LOS|LRO|LSZ|LN|LUP|LWL|MAB|MAI|MAK|MAL|MED|MEG|MEI|MEK|MEL|MER|MET|MGH|MGN|MHL|MIL|MKK|MOD|MOL|MON|MOS|MSE|MSH|MSP|MST|MTK|MTL|MB|MR|MYK|MZG|NAB|NAI|NAU|NDH|NEA|NEB|NEC|NEN|NES|NEW|NMB|NMS|NOH|NOL|NOM|NOR|NVP|NWM|OAL|OBB|OBG|OCH|OHA|HR|OHV|OHZ|OPR|OSL|OVI|OVL|OVP|PAF|PAN|PAR|PCH|PEG|PIR|PL|PR|QFT|QLB|RDG|REG|REH|REI|RID|RIE|ROD|ROF|ROK|ROL|ROS|ROT|ROW|RSL|RD|RG|SAB|SAD|SAN|SAW|SBG|SBK|SCZ|SDH|SDL|SDT|SEB|SEE|SEF|SEL|SFB|SFT|SGH|SHA|SHG|SHK|SHL|SIG|SIM|SLE|SLF|SLK|SLN|SLS|SL|SLZ|SM|SOB|SOG|SOK|SM|SON|SPB|SPN|SRB|SRO|STA|STB|STD|STE|STL|SUL|SW|SWA|SZB|TBB|TDO|TET|TIR|TL|TUT|UEM|UER|UFF|USI|VAI|VEC|VER|VIB|VIE|VIT|VOH|WAF|WAK|WAN|WAR|WAT|WBS|WDA|WEL|WEN|WER|WES|WHV|WIL|WIS|WIT|WIZ|WLG|WMS|WND|WOB|WOH|WOL|WOR|WOS|WRN|WSF|WST|WSW|WTL|WTM|WUG|WM|WUN|WUR|WZL|ZEL|ZIG)[- ]?(([A-Z][- ]?\d{1,4})|([A-Z]{2}[- ]?\d{1,3})))[- ]?(E|H)?$/.test(o)},"de-LI":function(o){return/^FL[- ]?\d{1,5}[UZ]?$/.test(o)},"en-IN":function(o){return/^[A-Z]{2}[ -]?[0-9]{1,2}(?:[ -]?[A-Z])(?:[ -]?[A-Z]*)?[ -]?[0-9]{4}$/.test(o)},"en-SG":function(o){return/^[A-Z]{3}[ -]?[\d]{4}[ -]?[A-Z]{1}$/.test(o)},"es-AR":function(o){return/^(([A-Z]{2} ?[0-9]{3} ?[A-Z]{2})|([A-Z]{3} ?[0-9]{3}))$/.test(o)},"fi-FI":function(o){return/^(?=.{4,7})(([A-Z]{1,3}|[0-9]{1,3})[\s-]?([A-Z]{1,3}|[0-9]{1,5}))$/.test(o)},"hu-HU":function(o){return/^((((?!AAA)(([A-NPRSTVZWXY]{1})([A-PR-Z]{1})([A-HJ-NPR-Z]))|(A[ABC]I)|A[ABC]O|A[A-W]Q|BPI|BPO|UCO|UDO|XAO)-(?!000)\d{3})|(M\d{6})|((CK|DT|CD|HC|H[ABEFIKLMNPRSTVX]|MA|OT|R[A-Z]) \d{2}-\d{2})|(CD \d{3}-\d{3})|(C-(C|X) \d{4})|(X-(A|B|C) \d{4})|(([EPVZ]-\d{5}))|(S A[A-Z]{2} \d{2})|(SP \d{2}-\d{2}))$/.test(o)},"pt-BR":function(o){return/^[A-Z]{3}[ -]?[0-9][A-Z][0-9]{2}|[A-Z]{3}[ -]?[0-9]{4}$/.test(o)},"pt-PT":function(o){return/^(([A-Z]{2}[ -]?[0-9]{2}[ -]?[0-9]{2})|([0-9]{2}[ -]?[A-Z]{2}[ -]?[0-9]{2})|([0-9]{2}[ -]?[0-9]{2}[ -]?[A-Z]{2})|([A-Z]{2}[ -]?[0-9]{2}[ -]?[A-Z]{2}))$/.test(o)},"sq-AL":function(o){return/^[A-Z]{2}[- ]?((\d{3}[- ]?(([A-Z]{2})|T))|(R[- ]?\d{3}))$/.test(o)},"sv-SE":function(o){return/^[A-HJ-PR-UW-Z]{3} ?[\d]{2}[A-HJ-PR-UW-Z1-9]$|(^[A-Z ]{2,7}$)/.test(o.trim())},"en-PK":function(o){return/(^[A-Z]{2}((\s|-){0,1})[0-9]{3,4}((\s|-)[0-9]{2}){0,1}$)|(^[A-Z]{3}((\s|-){0,1})[0-9]{3,4}((\s|-)[0-9]{2}){0,1}$)|(^[A-Z]{4}((\s|-){0,1})[0-9]{3,4}((\s|-)[0-9]{2}){0,1}$)|(^[A-Z]((\s|-){0,1})[0-9]{4}((\s|-)[0-9]{2}){0,1}$)/.test(o.trim())}};function a(i,o){if((0,t.default)(i),o in s)return s[o](i);if(o==="any"){for(var l in s){var u=s[l];if(u(i))return!0}return!1}throw new Error("Invalid locale '".concat(o,"'"))}n.exports=e.default,n.exports.default=e.default}(un,un.exports)),un.exports}var dn={exports:{}},wc;function tg(){return wc||(wc=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=m;var t=s(tt()),r=s(K());function s(b){return b&&b.__esModule?b:{default:b}}var a=/^[A-Z]$/,i=/^[a-z]$/,o=/^[0-9]$/,l=/^[-#!$@%^&*()_+|~=`{}\[\]:";'<>?,.\/\\ ]$/,u={minLength:8,minLowercase:1,minUppercase:1,minNumbers:1,minSymbols:1,returnScore:!1,pointsPerUnique:1,pointsPerRepeat:.5,pointsForContainingLower:10,pointsForContainingUpper:10,pointsForContainingNumber:10,pointsForContainingSymbol:10};function d(b){var g={};return Array.from(b).forEach(function(p){var y=g[p];y?g[p]+=1:g[p]=1}),g}function c(b){var g=d(b),p={length:b.length,uniqueChars:Object.keys(g).length,uppercaseCount:0,lowercaseCount:0,numberCount:0,symbolCount:0};return Object.keys(g).forEach(function(y){a.test(y)?p.uppercaseCount+=g[y]:i.test(y)?p.lowercaseCount+=g[y]:o.test(y)?p.numberCount+=g[y]:l.test(y)&&(p.symbolCount+=g[y])}),p}function h(b,g){var p=0;return p+=b.uniqueChars*g.pointsPerUnique,p+=(b.length-b.uniqueChars)*g.pointsPerRepeat,b.lowercaseCount>0&&(p+=g.pointsForContainingLower),b.uppercaseCount>0&&(p+=g.pointsForContainingUpper),b.numberCount>0&&(p+=g.pointsForContainingNumber),b.symbolCount>0&&(p+=g.pointsForContainingSymbol),p}function m(b){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;(0,r.default)(b);var p=c(b);return g=(0,t.default)(g||{},u),g.returnScore?h(p,g):p.length>=g.minLength&&p.lowercaseCount>=g.minLowercase&&p.uppercaseCount>=g.minUppercase&&p.numberCount>=g.minNumbers&&p.symbolCount>=g.minSymbols}n.exports=e.default,n.exports.default=e.default}(dn,dn.exports)),dn.exports}var Mr={},_c;function rg(){if(_c)return Mr;_c=1;function n(d){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},n(d)}Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.default=u,Mr.vatMatchers=void 0;var e=s(K()),t=r(bu());function r(d,c){if(typeof WeakMap=="function")var h=new WeakMap,m=new WeakMap;return(r=function(g,p){if(!p&&g&&g.__esModule)return g;var y,I,v={__proto__:null,default:g};if(g===null||n(g)!="object"&&typeof g!="function")return v;if(y=p?m:h){if(y.has(g))return y.get(g);y.set(g,v)}for(var _ in g)_!=="default"&&{}.hasOwnProperty.call(g,_)&&((I=(y=Object.defineProperty)&&Object.getOwnPropertyDescriptor(g,_))&&(I.get||I.set)?y(v,_,I):v[_]=g[_]);return v})(d,c)}function s(d){return d&&d.__esModule?d:{default:d}}var a=function(c){var h=c.match(/^(AU)?(\d{11})$/);if(!h)return!1;var m=[10,1,3,5,7,9,11,13,15,17,19];c=c.replace(/^AU/,"");for(var b=(parseInt(c.slice(0,1),10)-1).toString()+c.slice(1),g=0,p=0;p<11;p++)g+=m[p]*b.charAt(p);return g!==0&&g%89===0},i=function(c){var h=function(b){var g=b.pop(),p=[5,4,3,2,7,6,5,4],y=(11-b.reduce(function(I,v,_){return I+v*p[_]},0)%11)%11;return g===y};return/^(CHE[- ]?)?(\d{9}|(\d{3}\.\d{3}\.\d{3})|(\d{3} \d{3} \d{3})) ?(TVA|MWST|IVA)?$/.test(c)&&h(c.match(/\d/g).map(function(m){return+m}))},o=function(c){var h=c.match(/^(PT)?(\d{9})$/);if(!h)return!1;var m=h[2],b=11-t.reverseMultiplyAndSum(m.split("").slice(0,8).map(function(g){return parseInt(g,10)}),9)%11;return b>9?parseInt(m[8],10)===0:b===parseInt(m[8],10)},l=Mr.vatMatchers={AT:function(c){return/^(AT)?U\d{8}$/.test(c)},BE:function(c){return/^(BE)?\d{10}$/.test(c)},BG:function(c){return/^(BG)?\d{9,10}$/.test(c)},HR:function(c){return/^(HR)?\d{11}$/.test(c)},CY:function(c){return/^(CY)?\w{9}$/.test(c)},CZ:function(c){return/^(CZ)?\d{8,10}$/.test(c)},DK:function(c){return/^(DK)?\d{8}$/.test(c)},EE:function(c){return/^(EE)?\d{9}$/.test(c)},FI:function(c){return/^(FI)?\d{8}$/.test(c)},FR:function(c){return/^(FR)?\w{2}\d{9}$/.test(c)},DE:function(c){return/^(DE)?\d{9}$/.test(c)},EL:function(c){return/^(EL)?\d{9}$/.test(c)},HU:function(c){return/^(HU)?\d{8}$/.test(c)},IE:function(c){return/^(IE)?\d{7}\w{1}(W)?$/.test(c)},IT:function(c){return/^(IT)?\d{11}$/.test(c)},LV:function(c){return/^(LV)?\d{11}$/.test(c)},LT:function(c){return/^(LT)?\d{9,12}$/.test(c)},LU:function(c){return/^(LU)?\d{8}$/.test(c)},MT:function(c){return/^(MT)?\d{8}$/.test(c)},NL:function(c){return/^(NL)?\d{9}B\d{2}$/.test(c)},PL:function(c){return/^(PL)?(\d{10}|(\d{3}-\d{3}-\d{2}-\d{2})|(\d{3}-\d{2}-\d{2}-\d{3}))$/.test(c)},PT:o,RO:function(c){return/^(RO)?\d{2,10}$/.test(c)},SK:function(c){return/^(SK)?\d{10}$/.test(c)},SI:function(c){return/^(SI)?\d{8}$/.test(c)},ES:function(c){return/^(ES)?\w\d{7}[A-Z]$/.test(c)},SE:function(c){return/^(SE)?\d{12}$/.test(c)},AL:function(c){return/^(AL)?\w{9}[A-Z]$/.test(c)},MK:function(c){return/^(MK)?\d{13}$/.test(c)},AU:a,BY:function(c){return/^( )?\d{9}$/.test(c)},CA:function(c){return/^(CA)?\d{9}$/.test(c)},IS:function(c){return/^(IS)?\d{5,6}$/.test(c)},IN:function(c){return/^(IN)?\d{15}$/.test(c)},ID:function(c){return/^(ID)?(\d{15}|(\d{2}.\d{3}.\d{3}.\d{1}-\d{3}.\d{3}))$/.test(c)},IL:function(c){return/^(IL)?\d{9}$/.test(c)},KZ:function(c){return/^(KZ)?\d{12}$/.test(c)},NZ:function(c){return/^(NZ)?\d{9}$/.test(c)},NG:function(c){return/^(NG)?(\d{12}|(\d{8}-\d{4}))$/.test(c)},NO:function(c){return/^(NO)?\d{9}MVA$/.test(c)},PH:function(c){return/^(PH)?(\d{12}|\d{3} \d{3} \d{3} \d{3})$/.test(c)},RU:function(c){return/^(RU)?(\d{10}|\d{12})$/.test(c)},SM:function(c){return/^(SM)?\d{5}$/.test(c)},SA:function(c){return/^(SA)?\d{15}$/.test(c)},RS:function(c){return/^(RS)?\d{9}$/.test(c)},CH:i,TR:function(c){return/^(TR)?\d{10}$/.test(c)},UA:function(c){return/^(UA)?\d{12}$/.test(c)},GB:function(c){return/^GB((\d{3} \d{4} ([0-8][0-9]|9[0-6]))|(\d{9} \d{3})|(((GD[0-4])|(HA[5-9]))[0-9]{2}))$/.test(c)},UZ:function(c){return/^(UZ)?\d{9}$/.test(c)},AR:function(c){return/^(AR)?\d{11}$/.test(c)},BO:function(c){return/^(BO)?\d{7}$/.test(c)},BR:function(c){return/^(BR)?((\d{2}.\d{3}.\d{3}\/\d{4}-\d{2})|(\d{3}.\d{3}.\d{3}-\d{2}))$/.test(c)},CL:function(c){return/^(CL)?\d{8}-\d{1}$/.test(c)},CO:function(c){return/^(CO)?\d{10}$/.test(c)},CR:function(c){return/^(CR)?\d{9,12}$/.test(c)},EC:function(c){return/^(EC)?\d{13}$/.test(c)},SV:function(c){return/^(SV)?\d{4}-\d{6}-\d{3}-\d{1}$/.test(c)},GT:function(c){return/^(GT)?\d{7}-\d{1}$/.test(c)},HN:function(c){return/^(HN)?$/.test(c)},MX:function(c){return/^(MX)?\w{3,4}\d{6}\w{3}$/.test(c)},NI:function(c){return/^(NI)?\d{3}-\d{6}-\d{4}\w{1}$/.test(c)},PA:function(c){return/^(PA)?$/.test(c)},PY:function(c){return/^(PY)?\d{6,8}-\d{1}$/.test(c)},PE:function(c){return/^(PE)?\d{11}$/.test(c)},DO:function(c){return/^(DO)?(\d{11}|(\d{3}-\d{7}-\d{1})|[1,4,5]{1}\d{8}|([1,4,5]{1})-\d{2}-\d{5}-\d{1})$/.test(c)},UY:function(c){return/^(UY)?\d{12}$/.test(c)},VE:function(c){return/^(VE)?[J,G,V,E]{1}-(\d{9}|(\d{8}-\d{1}))$/.test(c)}};function u(d,c){if((0,e.default)(d),(0,e.default)(c),c in l)return l[c](d);throw new Error("Invalid country code: '".concat(c,"'"))}return Mr}var Sc;function sg(){return Sc||(Sc=1,function(n,e){function t(Ct){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(kt){return typeof kt}:function(kt){return kt&&typeof Symbol=="function"&&kt.constructor===Symbol&&kt!==Symbol.prototype?"symbol":typeof kt},t(Ct)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=z(fi()),s=z(iu()),a=z(Cp()),i=z(kp()),o=z(Rp()),l=z($p()),u=z(Tp()),d=z(uu()),c=z(jp()),h=z(Np()),m=z(wn()),b=z(Pp()),g=z(hi()),p=z(fu()),y=z(Op()),I=z(Dp()),v=z(Mp()),_=z(Lp()),R=Et(Bp()),$=Et(Up()),O=z(Fp()),N=Et(qp()),k=z(Wp()),T=z(Zp()),q=z(Hp()),W=z(zp()),M=z(Kp()),ue=z(hu()),oe=z(pu()),te=z(Gp()),ye=z(Vp()),me=z(Jp()),Ae=z(Xp()),Ce=z(pi()),L=Et(nu()),Y=z(Qp()),Z=z(gu()),ge=z(e0()),Ne=z(t0()),be=z(r0()),ze=z(s0()),re=z(a0()),Pe=z(n0()),Xe=Et(i0()),pt=z(o0()),Ze=z(l0()),He=z(c0()),Me=z(u0()),ut=z(d0()),gt=z(f0()),w=z(h0()),S=z(cu()),P=z(p0()),G=z(g0()),H=z(m0()),U=z(v0()),pe=z(y0()),ve=z(b0()),Ie=z(yu()),E=z(x0()),B=z(w0()),X=z(_0()),F=z(S0()),j=z(A0()),V=z(I0()),se=z(E0()),le=Et(C0()),fe=z(k0()),ne=z(R0()),ie=z($0()),Oe=T0(),mt=z(j0()),et=z(N0()),Wt=z(P0()),Gr=z(O0()),Zt=z(mu()),Ht=z(D0()),xe=z(M0()),Le=z(L0()),Be=z(B0()),Ve=z(U0()),bt=z(vu()),Ue=z(F0()),Ye=z(q0()),ur=z(W0()),it=z(Z0()),ot=z(H0()),Vr=Et(z0()),xt=z(wu()),mi=z(xu()),ju=z(_u()),Nu=z(K0()),Pu=z(G0()),Ou=z(V0()),Du=z(Y0()),Mu=z(Su()),Lu=z(J0()),Bu=z(X0()),Uu=z(Q0()),Fu=z(eg()),qu=z(tg()),Wu=z(rg());function Et(Ct,kt){if(typeof WeakMap=="function")var zu=new WeakMap,Ku=new WeakMap;return(Et=function(rt,vi){if(!vi&&rt&&rt.__esModule)return rt;var dr,us,Yr={__proto__:null,default:rt};if(rt===null||t(rt)!="object"&&typeof rt!="function")return Yr;if(dr=vi?Ku:zu){if(dr.has(rt))return dr.get(rt);dr.set(rt,Yr)}for(var fr in rt)fr!=="default"&&{}.hasOwnProperty.call(rt,fr)&&((us=(dr=Object.defineProperty)&&Object.getOwnPropertyDescriptor(rt,fr))&&(us.get||us.set)?dr(Yr,fr,us):Yr[fr]=rt[fr]);return Yr})(Ct,kt)}function z(Ct){return Ct&&Ct.__esModule?Ct:{default:Ct}}var Zu="13.15.15",Hu={version:Zu,toDate:r.default,toFloat:s.default,toInt:a.default,toBoolean:i.default,equals:o.default,contains:l.default,matches:u.default,isEmail:d.default,isURL:c.default,isMACAddress:h.default,isIP:m.default,isIPRange:b.default,isFQDN:g.default,isBoolean:I.default,isIBAN:Xe.default,isBIC:pt.default,isAbaRouting:_.default,isAlpha:R.default,isAlphaLocales:R.locales,isAlphanumeric:$.default,isAlphanumericLocales:$.locales,isNumeric:O.default,isPassportNumber:N.default,passportNumberLocales:N.locales,isPort:k.default,isLowercase:T.default,isUppercase:q.default,isAscii:M.default,isFullWidth:ue.default,isHalfWidth:oe.default,isVariableWidth:te.default,isMultibyte:ye.default,isSemVer:me.default,isSurrogatePair:Ae.default,isInt:Ce.default,isIMEI:W.default,isFloat:L.default,isFloatLocales:L.locales,isDecimal:Y.default,isHexadecimal:Z.default,isOctal:ge.default,isDivisibleBy:Ne.default,isHexColor:be.default,isRgbColor:ze.default,isHSL:re.default,isISRC:Pe.default,isMD5:Ze.default,isHash:He.default,isJWT:Me.default,isJSON:ut.default,isEmpty:gt.default,isLength:w.default,isLocale:v.default,isByteLength:S.default,isULID:P.default,isUUID:G.default,isMongoId:H.default,isAfter:U.default,isBefore:pe.default,isIn:ve.default,isLuhnNumber:Ie.default,isCreditCard:E.default,isIdentityCard:B.default,isEAN:X.default,isISIN:F.default,isISBN:j.default,isISSN:V.default,isMobilePhone:le.default,isMobilePhoneLocales:le.locales,isPostalCode:Vr.default,isPostalCodeLocales:Vr.locales,isEthereumAddress:fe.default,isCurrency:ne.default,isBtcAddress:ie.default,isISO6346:Oe.isISO6346,isFreightContainerID:Oe.isFreightContainerID,isISO6391:mt.default,isISO8601:et.default,isISO15924:Gr.default,isRFC3339:Wt.default,isISO31661Alpha2:Zt.default,isISO31661Alpha3:Ht.default,isISO31661Numeric:xe.default,isISO4217:Le.default,isBase32:Be.default,isBase58:Ve.default,isBase64:bt.default,isDataURI:Ue.default,isMagnetURI:Ye.default,isMailtoURI:ur.default,isMimeType:it.default,isLatLong:ot.default,ltrim:xt.default,rtrim:mi.default,trim:ju.default,escape:Nu.default,unescape:Pu.default,stripLow:Ou.default,whitelist:Du.default,blacklist:Mu.default,isWhitelisted:Lu.default,normalizeEmail:Bu.default,toString,isSlug:Uu.default,isStrongPassword:qu.default,isTaxID:se.default,isDate:p.default,isTime:y.default,isLicensePlate:Fu.default,isVAT:Wu.default,ibanLocales:Xe.locales};e.default=Hu,n.exports=e.default,n.exports.default=e.default}(_s,_s.exports)),_s.exports}var ag=sg();const Ac=()=>f.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),ng=()=>f.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),Au=({size:n=16})=>f.jsx("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("polyline",{points:"20,6 9,17 4,12"})}),Iu=({size:n=14})=>f.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("polyline",{points:"3,6 5,6 21,6"}),f.jsx("path",{d:"m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"})]}),Ic="time-display-todos",$t=30,ig=1e3;function og({todo:n,onToggle:e,onDelete:t,onStartEdit:r}){return f.jsxs(Se.div,{layout:!0,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center gap-3 p-3 h-12 rounded-2xl bg-gradient-to-r from-white/80 to-white/60 backdrop-blur-sm border border-gray-200/40 shadow-md hover:shadow-xl transition-all duration-200 group hover:scale-105 hover:-translate-y-1",children:[f.jsx(Se.button,{onClick:s=>e(n.id,s),className:"flex-shrink-0 w-5 h-5 rounded-full border-2 border-gray-300 hover:border-green-500 hover:bg-green-50 transition-all flex items-center justify-center",whileHover:{scale:1.1},whileTap:{scale:.9},children:n.completed&&f.jsx(Au,{size:12})}),f.jsx("span",{onClick:s=>r(n.id,n.text,s),className:`flex-1 text-sm font-medium cursor-pointer transition-colors truncate ${n.completed?"line-through text-gray-500":"text-blue-600"}`,title:n.text,children:n.text}),f.jsx("button",{onClick:()=>t(n.id),className:"opacity-0 group-hover:opacity-100 p-1.5 rounded-lg hover:bg-red-50 text-red-400 hover:text-red-500 transition-all",children:f.jsx(Iu,{})})]})}function Eu({isOpen:n,onClose:e}){const[t,r]=A.useState([]),[s,a]=A.useState(null),i=A.useRef(null),o=A.useRef(null);A.useEffect(()=>{const v=localStorage.getItem(Ic);if(v)try{const R=JSON.parse(v).map((k,T)=>{var q;return ee(C({},k),{order:(q=k.order)!=null?q:T})}),$=R.filter(k=>!k.completed).sort((k,T)=>(k.order||0)-(T.order||0)),O=R.filter(k=>k.completed).sort((k,T)=>T.createdAt-k.createdAt),N=[...$,...O].slice(0,ig);r(N)}catch(_){r([])}},[]),A.useEffect(()=>{const v=_=>{_.key==="Escape"&&n&&(_.preventDefault(),_.stopPropagation(),e())};return n?(document.addEventListener("keydown",v,!0),document.body.style.overflow="hidden"):document.body.style.overflow="",()=>{document.removeEventListener("keydown",v,!0),document.body.style.overflow=""}},[n,e]);const l=v=>{localStorage.setItem(Ic,JSON.stringify(v)),r(v)},u=()=>{if(t.filter(R=>!R.completed).length>=$t)return;const _={id:Date.now().toString(),text:"",completed:!1,createdAt:Date.now(),order:Math.max(0,...t.map(R=>R.order||0))+1};r([_,...t]),a({id:_.id,text:""})},d=A.useCallback((v,_)=>{const R=["#10B981","#06D6A0","#FFD166","#F72585","#4CC9F0"];for(let $=0;$<20;$++){const O=document.createElement("div");O.style.position="fixed",O.style.left=v+"px",O.style.top=_+"px",O.style.width=Math.random()*6+3+"px",O.style.height=O.style.width,O.style.backgroundColor=R[Math.floor(Math.random()*R.length)],O.style.borderRadius="50%",O.style.pointerEvents="none",O.style.zIndex="9999",document.body.appendChild(O);const N=Math.PI*2*$/20,k=Math.random()*100+50;let T=Math.cos(N)*k,q=Math.sin(N)*k,W=v,M=_;const ue=300,oe=Date.now(),te=()=>{const ye=(Date.now()-oe)/1e3;q+=ue*(1/60),T*=.99,W+=T*(1/60),M+=q*(1/60),O.style.left=W+"px",O.style.top=M+"px",O.style.opacity=Math.max(0,1-ye/2).toString(),ye<2&&M<window.innerHeight+100?requestAnimationFrame(te):document.body.contains(O)&&document.body.removeChild(O)};requestAnimationFrame(te)}},[]),c=(v,_)=>{const R=t.find(O=>O.id===v);if(R&&!R.completed&&_){const O=_.target.getBoundingClientRect(),N=O.left+O.width/2,k=O.top+O.height/2;d(N,k)}const $=t.map(O=>O.id===v?ee(C({},O),{completed:!O.completed}):O);l($)},h=v=>{const _=t.filter(R=>R.id!==v);l(_)},m=(v,_)=>{const R=t.map($=>$.id===v?ee(C({},$),{text:_}):$);l(R),a(null)},b=(v,_,R)=>{let $;R&&($=R.currentTarget.getBoundingClientRect()),a({id:v,text:_,originRect:$})},g=()=>{a(null)},p=()=>{if(s){const v=s.text.trim();if(v)m(s.id,v);else{const _=t.filter(R=>R.id!==s.id);l(_),a(null)}}};A.useEffect(()=>{if(s&&i.current){i.current.focus();const v=i.current.value.length;i.current.setSelectionRange(v,v)}},[s]),A.useEffect(()=>{const v=_=>{o.current&&!o.current.contains(_.target)&&e()};if(n){const _=setTimeout(()=>{document.addEventListener("mousedown",v)},100);return()=>{clearTimeout(_),document.removeEventListener("mousedown",v)}}},[n,e]);const y=t.filter(v=>!v.completed).sort((v,_)=>(v.order||0)-(_.order||0)),I=t.filter(v=>v.completed);return f.jsx(nr,{mode:"wait",children:n&&f.jsxs(f.Fragment,{children:[f.jsx(Se.div,{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3,ease:"easeOut"},onClick:v=>{v.preventDefault(),v.stopPropagation(),e()},onMouseDown:v=>{v.preventDefault(),v.stopPropagation()}}),f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none",onClick:v=>{v.target===v.currentTarget&&(v.preventDefault(),v.stopPropagation(),e())},style:{pointerEvents:"auto"},children:f.jsxs(Se.div,{ref:o,className:"bg-white/95 backdrop-blur-md rounded-2xl shadow-2xl border border-white/20 overflow-hidden pointer-events-auto",onClick:v=>{v.preventDefault(),v.stopPropagation()},onMouseDown:v=>{v.preventDefault(),v.stopPropagation()},style:{width:"520px",maxHeight:"800px",maxWidth:"90vw"},initial:{opacity:0,scale:.9,y:-20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-20},transition:{type:"spring",damping:20,stiffness:300,duration:.4},children:[f.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200/30",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:f.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-white",children:[f.jsx("path",{d:"M9 12l2 2 4-4"}),f.jsx("path",{d:"M21 12c0-1.657-1.343-3-3-3H6c-1.657 0-3 1.343-3 3s1.343 3 3 3h12c1.657 0 3-1.343 3-3z"})]})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"TODO"}),f.jsxs("p",{className:"text-xs text-gray-500",children:[y.length," "]})]})]}),f.jsx("button",{onClick:v=>{v.stopPropagation(),v.preventDefault(),e()},className:"p-2 rounded-lg hover:bg-gray-100/50 transition-colors",children:f.jsx(Ac,{})})]}),f.jsxs("div",{className:"max-h-[600px] overflow-y-auto",children:[f.jsx("div",{className:"px-6 pt-5 pb-2",children:f.jsxs(Se.button,{onClick:v=>{v.stopPropagation(),v.preventDefault(),t.filter(R=>!R.completed).length<$t&&u()},disabled:y.length>=$t,className:`w-full flex items-center gap-3 p-3 h-12 rounded-2xl transition-all duration-200 group cursor-pointer ${y.length>=$t?"bg-gray-100/50 text-gray-400 cursor-not-allowed shadow-sm":"bg-gradient-to-r from-blue-50/50 to-indigo-50/50 hover:from-blue-100/50 hover:to-indigo-100/50 text-blue-700 shadow-md hover:shadow-xl border border-blue-200/40"}`,whileHover:y.length<$t?{scale:1.02,y:-2}:{},whileTap:y.length<$t?{scale:.98}:{},children:[f.jsx(ng,{}),f.jsx("span",{className:"font-medium",children:y.length>=$t?` (${$t})`:"NEW TODO"})]})}),f.jsxs("div",{className:"px-6 pb-4 pt-0",children:[f.jsx("div",{className:"space-y-2",children:y.map(v=>f.jsx(og,{todo:v,onToggle:c,onDelete:h,onStartEdit:b},v.id))}),I.length>0&&f.jsx(f.Fragment,{children:f.jsxs("div",{className:"pt-6 border-t border-gray-200/30 mt-6",children:[f.jsx("p",{className:"text-xs text-gray-500 font-medium mb-3",children:""}),I.map((v,_)=>f.jsxs("div",{children:[f.jsxs(Se.div,{layout:!0,className:"flex items-center gap-3 p-2 rounded-lg bg-gray-50/50 transition-all group opacity-60 mb-2",children:[f.jsx(Se.button,{onClick:R=>c(v.id,R),className:"flex-shrink-0 w-4 h-4 rounded-full bg-green-500 flex items-center justify-center",whileHover:{scale:1.1},whileTap:{scale:.9},children:f.jsx(Au,{size:10})}),f.jsx("span",{className:"flex-1 text-sm line-through text-green-600",children:v.text}),f.jsx("button",{onClick:()=>h(v.id),className:"opacity-0 group-hover:opacity-100 p-1 rounded-lg hover:bg-red-100 text-red-400 transition-all",children:f.jsx(Iu,{size:12})})]}),_<I.length-1&&f.jsx("div",{className:"mx-2 h-px bg-gray-300/50 my-2"})]},v.id))]})}),t.length===0&&f.jsxs("div",{className:"text-center py-8 text-gray-500",children:[f.jsx("p",{className:"text-sm",children:"TODO"}),f.jsx("p",{className:"text-xs mt-1",children:"TODO"})]})]})]}),f.jsx(nr,{children:s&&(()=>{let v="center center";if(s.originRect&&o.current){const _=o.current.getBoundingClientRect(),R=(s.originRect.left+s.originRect.width/2-_.left)/_.width*100,$=(s.originRect.top+s.originRect.height/2-_.top)/_.height*100;v=`${Math.max(0,Math.min(100,R))}% ${Math.max(0,Math.min(100,$))}%`}return f.jsxs(Se.div,{className:"absolute inset-0 bg-white rounded-2xl flex flex-col overflow-hidden",initial:{scale:.1,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.1,opacity:0},transition:{duration:.3,ease:"easeOut"},style:{transformOrigin:v,zIndex:100},onClick:_=>{_.target===_.currentTarget&&p()},children:[f.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200/30 flex-shrink-0",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:f.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-white",children:[f.jsx("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}),f.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"TODO"}),f.jsx("p",{className:"text-xs text-gray-500",children:" Enter Escape "})]})]}),f.jsx("button",{onClick:p,className:"p-2 rounded-lg hover:bg-gray-100/50 transition-colors",children:f.jsx(Ac,{})})]}),f.jsxs("div",{className:"flex-1 flex flex-col p-6",children:[f.jsx("div",{className:"flex-1 relative",style:{backgroundImage:`linear-gradient(
                            to bottom,
                            transparent 0px,
                            transparent 30px,
                            rgba(156, 163, 175, 0.25) 30px,
                            rgba(156, 163, 175, 0.25) 32px,
                            transparent 32px
                          )`,backgroundSize:"100% 32px",backgroundRepeat:"repeat-y"},children:f.jsx("textarea",{ref:i,value:s.text,onChange:_=>a(ee(C({},s),{text:_.target.value})),onKeyDown:_=>{_.key==="Enter"&&!_.shiftKey?(_.preventDefault(),p()):_.key==="Escape"&&g()},placeholder:"TODO...",className:"w-full h-full bg-transparent border-none focus:outline-none resize-none relative z-10",style:{lineHeight:"32px",fontSize:"18px",fontFamily:'"STXingkai", "KaiTi", "", "FangSong", "", cursive, serif',color:"#6b7280",paddingTop:"3px",paddingLeft:"8px",paddingRight:"8px",paddingBottom:"9px",minHeight:"300px"},maxLength:400})}),f.jsx("div",{className:"flex justify-center mt-2",children:f.jsxs("span",{className:"text-xs text-gray-500",children:[s.text.length,"/400 "]})})]})]})})()})]})})]})})}function lg(n={}){var ve,Ie;const{websites:e=[],onOpenSettings:t}=n,r=A.useRef(null),[s,a]=A.useState(!1),{searchBarOpacity:i,searchBarColor:o,setIsSearchFocused:l,searchInNewTab:u,isSettingsOpen:d,searchBarBorderRadius:c}=Ft(),{isMobile:h}=di(),{isWorkspaceOpen:m,setIsWorkspaceOpen:b,workspaceItems:g}=su(),[p,y]=A.useState(""),[I,v]=A.useState(!1),[_,R]=A.useState("bing"),[$,O]=A.useState([]),[N,k]=A.useState([]),[T,q]=A.useState([]),[W,M]=A.useState(!1),[ue,oe]=A.useState(-1),te=A.useRef(null),[ye,me]=A.useState(null),[Ae,Ce]=A.useState(!1),L=A.useRef(null),[Y,Z]=A.useState(!1),[ge,Ne]=A.useState(null),be=E=>{const B="time-display-todos",X=localStorage.getItem(B);let F=[];if(X)try{F=JSON.parse(X)}catch(V){F=[]}F=[{id:Date.now().toString(),text:E.trim(),completed:!1,createdAt:Date.now(),order:Math.max(0,...F.map(V=>V.order||0))+1},...F].slice(0,1e3),localStorage.setItem(B,JSON.stringify(F)),Ne(`TODO${E}`),setTimeout(()=>Ne(null),3e3)},ze=A.useCallback((E,B)=>{const X=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FECA57","#FF9FF3","#54A0FF","#5F27CD","#00D2D3","#FF9F43","#EE5A24","#FD79A8","#0FB9B1","#A55EEA","#26D0CE","#FDCB6E","#6C5CE7","#74B9FF","#E17055","#F39C12","#E74C3C","#3498DB","#9B59B6","#1ABC9C"],F=["M2,5 Q12,2 22,5 Q32,8 42,5 L42,8 Q32,11 22,8 Q12,5 2,8 Z","M20,2 L38,2 L29,12 Z","M20,7 A6,6 0,1,1 20,7.1 Z","M20,2 L30,7 L20,12 L10,7 Z","M20,2 L22,8 L28,8 L23,11 L25,17 L20,14 L15,17 L17,11 L12,8 L18,8 Z","M2,6 Q15,2 28,6 Q41,10 54,6 L54,9 Q41,13 28,9 Q15,5 2,9 Z"];for(let j=0;j<30;j++){const V=document.createElementNS("http://www.w3.org/2000/svg","svg"),se=document.createElementNS("http://www.w3.org/2000/svg","path"),le=F[Math.floor(Math.random()*F.length)],fe=X[Math.floor(Math.random()*X.length)],ne=Math.random()*25+15,ie=Math.random()*15+8;V.setAttribute("width",ne.toString()),V.setAttribute("height",ie.toString()),V.setAttribute("viewBox","0 0 44 14"),V.style.position="fixed",V.style.pointerEvents="none",V.style.zIndex="9999",V.style.left=E+"px",V.style.top=B+"px",se.setAttribute("d",le),se.setAttribute("fill",fe),se.setAttribute("opacity","0.9"),V.appendChild(se),document.body.appendChild(V);const Oe=Math.random()*360*(Math.PI/180),mt=Math.random()*4+2;let et=Math.cos(Oe)*mt,Wt=Math.sin(Oe)*mt;const Gr=(Math.random()-.5)*80;let Zt=Math.random()*360,Ht=E-ne/2,xe=B-ie/2;const Le=.2,Be=.998,Ve=Date.now(),bt=()=>{const Ue=(Date.now()-Ve)/1e3;Wt+=Le,et*=Be,Wt*=Be,Ht+=et,xe+=Wt,Zt+=Gr*(1/60),V.style.left=Ht+"px",V.style.top=xe+"px",V.style.transform=`rotate(${Zt}deg)`;const Ye=Math.max(0,1-Ue/7);V.style.opacity=Ye.toString(),Ye>0&&xe<window.innerHeight+100?requestAnimationFrame(bt):document.body.contains(V)&&document.body.removeChild(V)};setTimeout(()=>{requestAnimationFrame(bt)},Math.random()*150)}},[]);A.useEffect(()=>{const E=B=>{var V,se;const X=d||Y,F=document.querySelectorAll(".fixed.inset-0"),j=Array.from(F).some(le=>{const fe=window.getComputedStyle(le);return(parseInt(fe.zIndex)||0)>=40&&!le.classList.contains("wallpaper")&&!le.querySelector("img")&&fe.display!=="none"&&!le.closest("[data-workspace-modal]")});if(!(X||j)){if(B.key==="Tab"&&!B.shiftKey){const le=document.activeElement,fe=le&&(le.tagName==="INPUT"||le.tagName==="TEXTAREA"||le.isContentEditable),ne=le===r.current;if(!fe||ne){B.preventDefault(),R(Oe=>Oe==="bing"?"google":"bing");const ie=(V=document.querySelector(".fa-brands.fa-microsoft, .fa-brands.fa-google"))==null?void 0:V.closest("button");if(ie){const Oe=ie.getBoundingClientRect(),mt=Oe.left+Oe.width/2,et=Oe.top+Oe.height/2;ze(mt,et)}return}}if(B.code==="Space"||B.key===" "||B.keyCode===32){const le=document.activeElement,fe=le&&(le.tagName==="INPUT"||le.tagName==="TEXTAREA"||le.isContentEditable);if(fe&&le===r.current&&p.trim()===""&&s){B.preventDefault(),a(!1),v(!1),l(!1),(se=r.current)==null||se.blur();return}if(m)return;!fe&&r.current&&(B.preventDefault(),r.current.focus(),a(!0),v(!0),l(!0))}}};return window.addEventListener("keydown",E,{capture:!0}),()=>window.removeEventListener("keydown",E,{capture:!0})},[l,p,s,ze,d,m,Y]);const re=[{key:"bing",label:"Bing",icon:f.jsx("i",{className:"fa-brands fa-microsoft text-blue-400"})},{key:"google",label:"Google",icon:f.jsx("i",{className:"fa-brands fa-google text-blue-500"})}],Pe=()=>{var F;const E=re.findIndex(j=>j.key===_),B=re[(E+1)%re.length].key;R(B);const X=(F=document.querySelector(".fa-brands.fa-microsoft, .fa-brands.fa-google"))==null?void 0:F.closest("button");if(X){const j=X.getBoundingClientRect(),V=j.left+j.width/2,se=j.top+j.height/2;ze(V,se)}},Xe=["chatGPT","Gemini","Deepseek","Kimi","Grok","Claude","Zhipu","Qwen"],pt=["https://chatgpt.com/","https://gemini.google.com/","https://chat.deepseek.com/","https://www.kimi.com/","https://grok.x.ai/","https://claude.ai/","https://chatglm.cn/","https://tongyi.com/"],Ze=[f.jsx("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:22,height:22,verticalAlign:"middle",position:"relative",top:"1px",userSelect:"none"},children:f.jsx("img",{src:"/icon/chatgpt.svg",alt:"chatGPT",style:{width:20,height:20,display:"block",userSelect:"none"}})}),f.jsx("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:22,height:22,verticalAlign:"middle",position:"relative",top:"1px",userSelect:"none"},children:f.jsx("img",{src:"/icon/gemini.svg",alt:"Gemini",style:{width:20,height:20,display:"block",userSelect:"none"}})}),f.jsx("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:22,height:22,verticalAlign:"middle",position:"relative",top:"1px",userSelect:"none"},children:f.jsx("img",{src:"/icon/deepseek.svg",alt:"Deepseek",style:{width:20,height:20,display:"block",userSelect:"none"}})}),f.jsx("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:22,height:22,verticalAlign:"middle",position:"relative",top:"1px",userSelect:"none"},children:f.jsx("img",{src:"/icon/kimi.svg",alt:"Kimi",style:{width:20,height:20,display:"block",userSelect:"none"}})}),f.jsx("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:22,height:22,verticalAlign:"middle",position:"relative",top:"1px",userSelect:"none"},children:f.jsx("img",{src:"/icon/grok.svg",alt:"Grok",style:{width:20,height:20,display:"block",userSelect:"none"}})}),f.jsx("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:22,height:22,verticalAlign:"middle",position:"relative",top:"1px",userSelect:"none"},children:f.jsx("img",{src:"/icon/claude.svg",alt:"Claude",style:{width:20,height:20,display:"block",userSelect:"none"}})}),f.jsx("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:22,height:22,verticalAlign:"middle",position:"relative",top:"1px",userSelect:"none"},children:f.jsx("img",{src:"/icon/zhipu.svg",alt:"Zhipu",style:{width:20,height:20,display:"block",userSelect:"none"}})}),f.jsx("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:22,height:22,verticalAlign:"middle",position:"relative",top:"1px",userSelect:"none"},children:f.jsx("img",{src:"/icon/qwen.svg",alt:"Qwen",style:{width:20,height:20,display:"block",userSelect:"none"}})})],He=(E,B)=>{switch(E){case"google":return`https://www.google.com/search?q=${encodeURIComponent(B)}`;default:return`https://www.bing.com/search?q=${encodeURIComponent(B)}`}},Me=E=>{u?window.open(E,"_blank"):window.location.href=E},ut=E=>{const B=E.trim();if(!B)return!1;try{let X=B;if(B.match(/^https?:\/\//i)||(X=`http://${B}`),!ag.isURL(X,{protocols:["http","https"],require_protocol:!0,require_valid_protocol:!0,allow_underscores:!0,allow_trailing_dot:!1,allow_protocol_relative_urls:!1}))return!1;const j=new URL(X).hostname.toLowerCase();if(j!=="localhost"&&j!=="127.0.0.1"&&!j.includes("."))return!1;if(j!=="localhost"&&j!=="127.0.0.1"){const V=j.split(".");if(V.length<2||V[V.length-1].length<2||!/^[a-z0-9.-]+$/i.test(j))return!1}return!0}catch(X){return!1}},gt=E=>{const B=E.trim();return B.match(/^https?:\/\//i)?B:`http://${B}`},w=E=>x(null,null,function*(){if(!E.trim())return[];try{const B=document.createElement("script"),X=`baiduCallback_${Date.now()}`;return new Promise(F=>{window[X]=j=>{if(j&&j.s&&Array.isArray(j.s)){const V=j.s.slice(0,5).map((se,le)=>({id:`baidu-${le}`,text:se,query:se}));F(V)}else{const V=S(E);F(V.slice(0,5).map((se,le)=>({id:`local-${le}`,text:se,query:se})))}document.head.removeChild(B),delete window[X]},setTimeout(()=>{if(window[X]){const j=S(E);F(j.slice(0,5).map((V,se)=>({id:`local-${se}`,text:V,query:V}))),document.head.contains(B)&&document.head.removeChild(B),delete window[X]}},2e3),B.src=`https://suggestion.baidu.com/su?wd=${encodeURIComponent(E)}&cb=${X}`,B.onerror=()=>{const j=S(E);F(j.slice(0,5).map((V,se)=>({id:`local-${se}`,text:V,query:V}))),document.head.contains(B)&&document.head.removeChild(B),delete window[X]},document.head.appendChild(B)})}catch(B){return console.warn("Failed to fetch Baidu suggestions:",B),S(E).slice(0,5).map((F,j)=>({id:`local-${j}`,text:F,query:F}))}}),S=E=>{const B=[],X=E.toLowerCase(),F=[E,`${E} `,`${E} `,`${E} `,` ${E}`,`${E} `,`${E} `,`${E} `];return X.includes("")||X.includes("how")?B.push(`${E}`,`${E} `,`${E} `):X.includes("")||X.includes("")?B.push(`${E}`,`${E} `,`${E} `):B.push(...F),[...new Set(B)]},P=E=>{if(!E.trim()||e.length===0||E.trim().length<2)return[];const B=E.toLowerCase(),X=[];return e.forEach(F=>{let j=0,V="";const se=(()=>{try{return new URL(F.url).hostname.replace(/^www\./,"")}catch(ie){return F.url.replace(/^(https?:\/\/)?(www\.)?/,"").split("/")[0]}})();F.name.toLowerCase().includes(B)&&(j+=100,V="",F.name.toLowerCase()===B&&(j+=50),F.name.toLowerCase().startsWith(B)&&(j+=30));const le=F.tags.filter(ie=>ie.toLowerCase().includes(B));le.length>0&&(j+=80*le.length,V=V||"",le.some(ie=>ie.toLowerCase()===B)&&(j+=40)),se.toLowerCase().includes(B)&&B.length>=3&&(j+=60,V=V||"",se.toLowerCase().startsWith(B)&&(j+=20)),F.note&&F.note.toLowerCase().includes(B)&&B.length>=3&&(j+=40,V=V||""),j+=Math.min(F.visitCount*2,20);const fe=G(B,F.name.toLowerCase());fe>.7&&B.length>=3&&(j+=fe*30,V=V||""),j>=80&&X.push({website:F,score:j,matchType:V})}),X.sort((F,j)=>j.score-F.score).slice(0,3).map(F=>ee(C({},F.website),{matchType:F.matchType}))},G=(E,B)=>{const X=E.length,F=B.length;if(X===0)return F===0?1:0;if(F===0)return 0;const j=Array(X+1).fill(null).map(()=>Array(F+1).fill(null));for(let se=0;se<=X;se++)j[se][0]=se;for(let se=0;se<=F;se++)j[0][se]=se;for(let se=1;se<=X;se++)for(let le=1;le<=F;le++){const fe=E[se-1]===B[le-1]?0:1;j[se][le]=Math.min(j[se-1][le]+1,j[se][le-1]+1,j[se-1][le-1]+fe)}return 1-j[X][F]/Math.max(X,F)},H=E=>{if(!E.trim()||g.length===0||E.trim().length<2)return[];const B=E.toLowerCase(),X=[];return g.forEach(F=>{let j=0,V="";F.title.toLowerCase().includes(B)&&(j+=100,V="",F.title.toLowerCase()===B&&(j+=50),F.title.toLowerCase().startsWith(B)&&(j+=30)),F.category&&F.category.toLowerCase().includes(B)&&(j+=80,V=V||""),F.description&&F.description.toLowerCase().includes(B)&&(j+=60,V=V||""),F.url.toLowerCase().includes(B)&&B.length>=3&&(j+=40,V=V||"URL");const se=G(B,F.title.toLowerCase());se>.7&&B.length>=3&&(j+=se*30,V=V||""),j>=80&&X.push({item:{id:F.id,title:F.title,url:F.url,description:F.description,icon:F.icon,category:F.category},score:j,matchType:V})}),X.sort((F,j)=>j.score-F.score).slice(0,3).map(F=>ee(C({},F.item),{matchType:F.matchType}))};A.useEffect(()=>{const E=setTimeout(()=>{var B,X,F;if(p.trim()){const j=p.toLowerCase();if(j==="todo"||j.startsWith("todo ")||j===""||j===""||j.startsWith(" ")||j.startsWith(" ")||j.startsWith("todo:")||j.startsWith("todo")||j.startsWith(":")||j.startsWith("")||j.startsWith(":")||j.startsWith("")){const fe=[];if(j==="todo"||j===""||j==="")fe.push({id:"open-todo",text:" TODO ",query:"todo",isTodoAction:!0,action:"open"});else if(j==="todo:"||j==="todo"||j===":"||j===""||j===":"||j==="")fe.push({id:"todo-input-hint",text:"...",query:p,isTodoAction:!0,action:"hint"});else if(j.startsWith("todo:")||j.startsWith("todo")||j.startsWith(":")||j.startsWith("")||j.startsWith(":")||j.startsWith("")){let ne=":",ie="";p.includes("")&&(ne=""),j.startsWith("todo")?ie=(B=p.split(ne)[1])==null?void 0:B.trim():j.startsWith("")?ie=(X=p.split(ne)[1])==null?void 0:X.trim():j.startsWith("")&&(ie=(F=p.split(ne)[1])==null?void 0:F.trim()),ie?fe.push({id:"todo-ready-to-add",text:`${ie}`,query:p,isTodoAction:!0,action:"add",todoText:ie}):fe.push({id:"todo-input-hint",text:"...",query:p,isTodoAction:!0,action:"hint"})}O(fe),k([]),M(fe.length>0),oe(-1);return}if(j==="workspace"||j==="work"||j==="job"||j===""||j===""||j===""){const fe=[{id:"open-workspace",text:"",query:p,isWorkspaceAction:!0,action:"open"}];O(fe),k([]),M(fe.length>0),oe(-1);return}if(j==="settings"||j==="setting"||j===""||j==="config"||j===""){const fe=[];fe.push({id:"open-settings",text:"",query:j,isSettingsAction:!0,action:"open"}),O(fe),k([]),M(fe.length>0),oe(-1);return}if(j==="help"||j===""||j===""||j===""||j===""){const fe=[{id:"open-help",text:"",query:j,isHelpAction:!0,action:"open"}];O(fe),k([]),M(fe.length>0),oe(-1);return}if(j==="author"||j==="developer"||j==="coder"||j===""||j===""||j===""||j==="about me"||j==="me"){const fe=[{id:"open-developer",text:"",query:j,isDeveloperAction:!0,action:"open"}];O(fe),k([]),M(fe.length>0),oe(-1);return}const V=P(p),se=H(p);if(k(V),q(se),ut(p)){const fe=gt(p),ne={id:"direct-visit",text:`: ${fe}`,query:fe,isDirectVisit:!0,displayUrl:fe};w(p).then(ie=>{const Oe=[ne,...ie];O(Oe),M(V.length>0||se.length>0||Oe.length>0),oe(-1)})}else w(p).then(fe=>{O(fe),M(V.length>0||se.length>0||fe.length>0),oe(-1)})}else O([]),k([]),q([]),M(!1),oe(-1)},300);return()=>clearTimeout(E)},[p,e,g]);const U=(E,B,X,F)=>{var se,le,fe;if(E.preventDefault(),X){Me(X.url),y(""),M(!1),k([]),q([]);return}if(F&&B){Me(B),y(""),M(!1),k([]),q([]);return}const j=N.length+T.length+$.length;if(ue>=0&&ue<j)if(ue<N.length){const ne=N[ue];Me(ne.url),y(""),M(!1),k([]),q([]);return}else if(ue<N.length+T.length){const ne=ue-N.length,ie=T[ne];Me(ie.url),y(""),M(!1),k([]),q([]);return}else{const ne=ue-N.length-T.length,ie=$[ne];if(ie!=null&&ie.isTodoAction)if(ie.action==="open"){Z(!0),y(""),M(!1),k([]);return}else{if(ie.action==="hint")return;if(ie.action==="add"&&ie.todoText){be(ie.todoText),y(""),M(!1),k([]);return}}if(ie!=null&&ie.isWorkspaceAction&&ie.action==="open"){b(!0),y(""),M(!1),k([]);return}if(ie!=null&&ie.isSettingsAction&&ie.action==="open"&&t){t(),y(""),M(!1),k([]);return}if(ie!=null&&ie.isHelpAction&&ie.action==="open"){Me("/help"),y(""),M(!1),k([]);return}if(ie!=null&&ie.isDeveloperAction&&ie.action==="open"){Me("/me"),y(""),M(!1),k([]);return}if(ie!=null&&ie.isDirectVisit){Me(ie.query),y(""),M(!1),k([]);return}const Oe=(ie==null?void 0:ie.query)||p;Oe.trim()&&(Me(He(_,Oe)),y(""),M(!1),k([]));return}const V=B||p;if(V.trim()){const ne=V.toLowerCase();if(ne==="todo"||ne===""||ne===""){Z(!0),y(""),M(!1),k([]);return}if(ne.startsWith("todo:")||ne.startsWith("todo")||ne.startsWith(":")||ne.startsWith("")||ne.startsWith(":")||ne.startsWith("")){let ie=":",Oe="";if(V.includes("")&&(ie=""),ne.startsWith("todo")?Oe=(se=V.split(ie)[1])==null?void 0:se.trim():ne.startsWith("")?Oe=(le=V.split(ie)[1])==null?void 0:le.trim():ne.startsWith("")&&(Oe=(fe=V.split(ie)[1])==null?void 0:fe.trim()),Oe){be(Oe),y(""),M(!1),k([]);return}}if(ne==="workspace"||ne==="work"||ne==="job"||ne===""||ne===""||ne===""){b(!0),y(""),M(!1),k([]);return}if((ne==="settings"||ne==="setting"||ne===""||ne==="config"||ne==="")&&t){t(),y(""),M(!1),k([]);return}if(ne==="help"||ne===""||ne===""||ne===""){Me("/help"),y(""),M(!1),k([]);return}if(ne==="author"||ne==="developer"||ne==="coder"||ne===""||ne===""||ne===""||ne==="about me"||ne==="me"){Me("/me"),y(""),M(!1),k([]);return}ut(V)?(Me(gt(V)),y(""),M(!1),k([])):(Me(He(_,V)),y(""),M(!1),k([]))}},pe=E=>{const B=N.length+T.length+$.length;switch(E.key){case"ArrowDown":if(!W||B===0)return;E.preventDefault(),oe(X=>X<B-1?X+1:X);break;case"ArrowUp":if(!W)return;E.preventDefault(),oe(X=>X>-1?X-1:-1);break;case"Escape":M(!1),k([]),oe(-1);break}};return f.jsxs(f.Fragment,{children:[f.jsx(nr,{children:s&&f.jsx(Se.div,{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-10",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:()=>{var E;a(!1),l(!1),v(!1),M(!1),k([]),(E=r.current)==null||E.blur()}})}),f.jsx("div",{className:"relative left-0 right-0 z-20 flex justify-center px-4 select-none",style:{transform:"translateX(-47px)"},children:f.jsx(Se.div,{className:"w-full flex justify-center",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:f.jsx("form",{ref:L,onSubmit:U,className:"relative flex items-center justify-center",onMouseEnter:()=>{v(!0)},onMouseLeave:()=>{s||v(!1)},children:f.jsxs(Se.div,{animate:{width:I?h?320:520:h?280:340},initial:{width:h?280:340},transition:{type:"spring",stiffness:200,damping:5,mass:.6},style:{display:"flex",alignItems:"center",position:"relative"},onAnimationComplete:()=>{},children:[f.jsxs("div",{className:"relative flex items-center",children:[f.jsxs("button",{type:"button",className:"flex items-center gap-2 px-1.5 py-1 text-white/80 hover:text-white bg-transparent border-none outline-none text-lg select-none relative z-20",style:{pointerEvents:"auto",height:36,minWidth:36,minHeight:36,justifyContent:"center",alignItems:"center",display:"flex"},tabIndex:-1,onClick:()=>{Pe()},onMouseEnter:()=>Ce(!0),onMouseLeave:()=>Ce(!1),children:[(ve=re.find(E=>E.key===_))==null?void 0:ve.icon,f.jsx("span",{className:"hidden sm:inline text-base font-semibold select-none",children:(Ie=re.find(E=>E.key===_))==null?void 0:Ie.label})]}),Ae&&f.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800/90 text-white text-sm rounded-lg shadow-lg backdrop-blur-sm border border-white/10 whitespace-nowrap z-30",children:[" ",_==="bing"?"Google":"Bing",f.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-800/90"})]})]}),f.jsx("span",{className:"mx-2 text-white/30 select-none font-normal text-base z-10",children:"|"}),f.jsx("span",{className:"text-white/60 select-none font-normal text-base z-10"}),f.jsxs("div",{className:"relative flex-1",children:[f.jsx("input",{ref:r,type:"text",value:p,onChange:E=>y(E.target.value),onKeyDown:pe,onFocus:()=>{if(a(!0),l(!0),p.trim()){const E=P(p);if(k(E),ut(p)){const X=gt(p),F={id:"direct-visit",text:`: ${X}`,query:X,isDirectVisit:!0,displayUrl:X};w(p).then(j=>{const V=[F,...j];O(V),(E.length>0||V.length>0)&&(M(!0),oe(-1))})}else w(p).then(X=>{O(X),(E.length>0||X.length>0)&&(M(!0),oe(-1))})}},onBlur:()=>{setTimeout(()=>{a(!1),l(!1),M(!1),k([]),v(!1)},150)},placeholder:"...",className:"backdrop-blur-md border border-white/20 pl-4 py-2 text-white placeholder-white/60 outline-none text-base transition-all duration-200 pr-12 w-full ml-3",style:{backgroundColor:`rgba(${o}, ${i})`,minWidth:"4rem",maxWidth:"100%",borderRadius:`${c}px`}}),f.jsx(nr,{children:W&&(N.length>0||T.length>0||$.length>0)&&f.jsxs(Se.div,{className:`absolute top-full left-3 right-0 mt-2 backdrop-blur-md rounded-lg shadow-lg border border-white/20 z-30 overflow-hidden overflow-y-auto ${h?"max-h-60":"max-h-80"}`,initial:{opacity:0,y:-10,scaleY:.8},animate:{opacity:1,y:0,scaleY:1},exit:{scaleY:0,transition:{duration:.3,ease:"easeInOut"}},transition:{type:"spring",stiffness:280,damping:6,mass:.5},style:{pointerEvents:"auto",backgroundColor:"rgba(255, 255, 255, 0.95)",transformOrigin:"top center",overflow:"hidden"},onMouseEnter:()=>{},onMouseLeave:()=>{},children:[N.length>0&&f.jsxs("div",{className:"border-b border-gray-200/50",children:[f.jsx("div",{className:`${h?"px-3 py-1.5":"px-4 py-2"} bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-100`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("i",{className:"fa-solid fa-globe text-blue-500 text-sm"}),f.jsx("span",{className:`${h?"text-xs":"text-sm"} font-medium text-blue-700`,children:""})]})}),N.map((E,B)=>{const X=B===ue;return f.jsx("div",{className:`${h?"px-3 py-2":"px-4 py-3"} cursor-pointer transition-all duration-200 border-b border-gray-100/50 last:border-b-0 select-none ${X?"bg-gradient-to-r from-blue-500/10 to-indigo-500/10 border-blue-200":"hover:bg-gradient-to-r hover:from-gray-50 hover:to-blue-50"}`,onClick:F=>{F.stopPropagation(),U(F,void 0,E)},onMouseEnter:()=>oe(B),onMouseDown:F=>F.preventDefault(),children:f.jsxs("div",{className:`flex items-center ${h?"gap-2":"gap-3"} select-none`,children:[f.jsx("div",{className:`${h?"w-6 h-6":"w-8 h-8"} rounded-lg overflow-hidden bg-white shadow-sm border border-gray-200/50 flex-shrink-0`,children:f.jsx("img",{src:E.favicon,alt:E.name,className:"w-full h-full object-contain",loading:"lazy",draggable:"false"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:`flex items-center gap-2 ${h?"mb-0.5":"mb-1"}`,children:[f.jsx("h4",{className:`font-medium text-gray-800 ${h?"text-xs":"text-sm"} truncate`,children:E.name}),E.matchType&&!h&&f.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs rounded-full font-medium",children:E.matchType})]}),f.jsxs("div",{className:`flex items-center gap-1 ${h?"text-[10px]":"text-xs"} text-gray-500`,children:[f.jsx("span",{className:`truncate ${h?"max-w-[120px]":"max-w-[200px]"}`,children:(()=>{try{return new URL(E.url).hostname}catch(F){return E.url}})()}),E.tags.length>0&&!h&&f.jsxs(f.Fragment,{children:[f.jsx("span",{children:""}),f.jsxs("div",{className:"flex gap-1",children:[E.tags.slice(0,2).map((F,j)=>f.jsx("span",{className:"px-1.5 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:F},j)),E.tags.length>2&&f.jsxs("span",{className:"text-gray-400",children:["+",E.tags.length-2]})]})]}),E.visitCount>0&&!h&&f.jsxs(f.Fragment,{children:[f.jsx("span",{children:""}),f.jsxs("span",{className:"text-green-600",children:[E.visitCount,""]})]})]}),E.note&&f.jsx("div",{className:"mt-1 text-xs text-gray-600 truncate",children:E.note})]}),f.jsx("div",{className:"text-xs text-gray-400 bg-gray-100 px-2 py-1 rounded",children:"Enter"})]})},E.id)})]}),T.length>0&&f.jsxs("div",{className:"border-b border-gray-200/50",children:[f.jsx("div",{className:`${h?"px-3 py-1.5":"px-4 py-2"} bg-gradient-to-r from-orange-50 to-amber-50 border-b border-orange-100`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("i",{className:"fa-solid fa-briefcase text-orange-500 text-sm"}),f.jsx("span",{className:`${h?"text-xs":"text-sm"} font-medium text-orange-700`,children:""})]})}),T.map((E,B)=>{const X=B+N.length,F=X===ue;return f.jsx("div",{className:`${h?"px-3 py-2":"px-4 py-3"} cursor-pointer transition-all duration-200 border-b border-gray-100/50 last:border-b-0 select-none ${F?"bg-gradient-to-r from-orange-500/10 to-amber-500/10 border-orange-200":"hover:bg-gradient-to-r hover:from-gray-50 hover:to-orange-50"}`,onClick:j=>{j.stopPropagation(),Me(E.url),y(""),M(!1),k([]),q([])},onMouseEnter:()=>oe(X),onMouseDown:j=>j.preventDefault(),children:f.jsxs("div",{className:`flex items-center ${h?"gap-2":"gap-3"} select-none`,children:[f.jsx("div",{className:`${h?"w-6 h-6":"w-8 h-8"} rounded-lg overflow-hidden bg-gradient-to-br from-orange-100 to-amber-100 shadow-sm border border-orange-200/50 flex items-center justify-center flex-shrink-0`,children:E.icon?f.jsx("span",{className:"text-lg",children:E.icon}):f.jsx("i",{className:"fa-solid fa-link text-orange-600 text-sm"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:`flex items-center gap-2 ${h?"mb-0.5":"mb-1"}`,children:[f.jsx("h4",{className:`font-medium text-gray-800 ${h?"text-xs":"text-sm"} truncate`,children:E.title}),E.matchType&&!h&&f.jsx("span",{className:"px-2 py-0.5 bg-orange-100 text-orange-700 text-xs rounded-full font-medium",children:E.matchType})]}),f.jsxs("div",{className:`flex items-center gap-1 ${h?"text-[10px]":"text-xs"} text-gray-500`,children:[E.category&&f.jsx(f.Fragment,{children:f.jsx("span",{className:"px-1.5 py-0.5 bg-orange-100 text-orange-600 rounded text-xs font-medium",children:E.category})}),!h&&f.jsxs(f.Fragment,{children:[f.jsx("span",{children:""}),f.jsx("span",{className:"truncate max-w-[150px]",children:(()=>{try{return new URL(E.url).hostname}catch(j){return E.url}})()})]})]}),E.description&&!h&&f.jsx("div",{className:"mt-1 text-xs text-gray-600 truncate",children:E.description})]}),f.jsx("div",{className:"text-xs text-orange-600 bg-orange-100 px-2 py-1 rounded",children:"Enter"})]})},E.id)})]}),$.length>0&&f.jsxs("div",{children:[(N.length>0||T.length>0)&&f.jsx("div",{className:"px-4 py-2 bg-gradient-to-r from-gray-50 to-slate-50 border-b border-gray-100",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("i",{className:"fa-solid fa-magnifying-glass text-gray-500 text-sm"}),f.jsx("span",{className:"text-sm font-medium text-gray-700",children:""})]})}),$.map((E,B)=>{const X=B+N.length+T.length,F=X===ue,j=E.isDirectVisit,V=E.isTodoAction,se=E.isSettingsAction,le=E.action==="hint",fe=E.action==="add";return f.jsx("div",{className:`px-4 py-3 ${le?"cursor-default":"cursor-pointer"} transition-colors border-b border-gray-100/50 last:border-b-0 select-none ${F?V&&!le?fe?"bg-green-500/10 text-gray-800 border-l-4 border-green-500":"bg-blue-500/10 text-gray-800 border-l-4 border-blue-500":se?"bg-purple-500/10 text-gray-800 border-l-4 border-purple-500":E.isHelpAction?"bg-teal-500/10 text-gray-800 border-l-4 border-teal-500":E.isDeveloperAction?"bg-indigo-500/10 text-gray-800 border-l-4 border-indigo-500":le?"bg-gray-100/50 text-gray-600":j?"bg-green-500/10 text-gray-800 border-l-4 border-green-500":"bg-blue-500/10 text-gray-800":V&&!le?fe?"hover:bg-green-50 text-gray-700 border-l-4 border-transparent hover:border-green-200":"hover:bg-blue-50 text-gray-700 border-l-4 border-transparent hover:border-blue-200":se?"hover:bg-purple-50 text-gray-700 border-l-4 border-transparent hover:border-purple-200":E.isHelpAction?"hover:bg-teal-50 text-gray-700 border-l-4 border-transparent hover:border-teal-200":E.isDeveloperAction?"hover:bg-indigo-50 text-gray-700 border-l-4 border-transparent hover:border-indigo-200":le?"bg-gray-50/50 text-gray-600":j?"hover:bg-green-50 text-gray-700 border-l-4 border-transparent hover:border-green-200":"hover:bg-gray-50 text-gray-700"}`,onClick:ne=>{if(ne.stopPropagation(),E.isTodoAction)if(E.action==="open")Z(!0),y(""),M(!1),k([]);else{if(E.action==="hint")return;E.action==="add"&&E.todoText&&(be(E.todoText),y(""),M(!1),k([]))}else E.isWorkspaceAction?E.action==="open"&&(b(!0),y(""),M(!1),k([])):E.isSettingsAction?E.action==="open"&&t&&(t(),y(""),M(!1),k([])):E.isHelpAction?E.action==="open"&&(Me("/help"),y(""),M(!1),k([])):E.isDeveloperAction?E.action==="open"&&(Me("/me"),y(""),M(!1),k([])):j?U(ne,E.query,void 0,!0):(y(E.text),U(ne,E.query))},onMouseEnter:()=>oe(X),onMouseDown:ne=>ne.preventDefault(),children:f.jsxs("div",{className:"flex items-center gap-3 select-none",children:[E.isTodoAction?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("i",{className:`${le?"fa-solid fa-pencil-alt text-gray-500":fe?"fa-solid fa-plus text-green-600":"fa-solid fa-check-square text-blue-600"} text-sm w-4 select-none`}),f.jsx("div",{className:`${le?"bg-gray-100 text-gray-600":fe?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"} px-2 py-1 rounded-full text-xs font-medium`,children:le?"":fe?"":"TODO"})]}):E.isWorkspaceAction?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("i",{className:"fa-solid fa-briefcase text-orange-600 text-sm w-4 select-none"}),f.jsx("div",{className:"bg-orange-100 text-orange-700 px-2 py-1 rounded-full text-xs font-medium",children:""})]}):E.isSettingsAction?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("i",{className:"fa-solid fa-cogs text-purple-600 text-sm w-4 select-none"}),f.jsx("div",{className:"bg-purple-100 text-purple-700 px-2 py-1 rounded-full text-xs font-medium",children:""})]}):E.isHelpAction?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("i",{className:"fa-solid fa-question-circle text-teal-600 text-sm w-4 select-none"}),f.jsx("div",{className:"bg-teal-100 text-teal-700 px-2 py-1 rounded-full text-xs font-medium",children:""})]}):E.isDeveloperAction?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("i",{className:"fa-solid fa-user-circle text-indigo-600 text-sm w-4 select-none"}),f.jsx("div",{className:"bg-indigo-100 text-indigo-700 px-2 py-1 rounded-full text-xs font-medium",children:""})]}):j?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("i",{className:"fa-solid fa-external-link-alt text-green-600 text-sm w-4 select-none"}),f.jsx("div",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-medium",children:""})]}):f.jsx("i",{className:"fa-solid fa-magnifying-glass text-gray-400 text-sm w-4 select-none"}),f.jsx("div",{className:"flex-1 min-w-0 select-none",children:E.isTodoAction?f.jsx("div",{className:`font-medium text-sm ${le?"text-gray-600 italic":fe?"text-green-700":"text-blue-700"} select-none`,children:E.text}):E.isSettingsAction?f.jsx("div",{className:"font-medium text-sm text-purple-700 select-none",children:E.text}):E.isHelpAction?f.jsx("div",{className:"font-medium text-sm text-teal-700 select-none",children:E.text}):E.isDeveloperAction?f.jsx("div",{className:"font-medium text-sm text-indigo-700 select-none",children:E.text}):j?f.jsxs("div",{children:[f.jsx("div",{className:"font-medium text-sm text-green-700 select-none",children:""}),f.jsx("div",{className:"text-xs text-green-600 truncate select-none",children:E.displayUrl})]}):f.jsx("div",{className:"font-medium text-sm truncate select-none",children:E.text})}),f.jsx("div",{className:`text-xs px-2 py-1 rounded ${E.isTodoAction&&!le?fe?"text-green-600 bg-green-100":"text-blue-600 bg-blue-100":E.isSettingsAction?"text-purple-600 bg-purple-100":E.isHelpAction?"text-teal-600 bg-teal-100":E.isDeveloperAction?"text-indigo-600 bg-indigo-100":le?"text-gray-500 bg-gray-200":j?"text-green-600 bg-green-100":"text-gray-400 bg-gray-100"}`,children:le?"...":"Enter"})]})},E.id)})]})]})})]}),f.jsxs("button",{ref:te,type:"submit",className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 text-white/70 hover:text-white transition-colors bg-transparent border-none outline-none group select-none",style:{pointerEvents:"auto"},children:[f.jsx(Se.i,{className:"fa-solid fa-magnifying-glass text-sm",whileHover:{scale:1.22,rotate:18,color:"#fff"},whileTap:{scale:.95,rotate:0},animate:{color:I?"#fff":void 0},transition:{type:"spring",stiffness:350,damping:6},style:{display:"inline-block"}}),I&&f.jsx("div",{className:"absolute z-30",style:{left:"50%",top:"calc(50% - 20px)",width:0,height:0,pointerEvents:"auto",transform:"translate(-50%, -50%)"},children:f.jsx("div",{style:{position:"absolute",left:0,top:0},children:Ze.map((E,B,X)=>{const F=B<4,j=4,V=F?B:B-4,se=F?44:75,le=(-60+120/(j-1)*V)*(Math.PI/180),fe=se*Math.cos(le),ne=se*Math.sin(le),ie=19,Oe=ie*3.6;return f.jsxs(Se.span,{role:"img","aria-label":Xe[B],initial:{x:0,y:0,scale:.3,opacity:0},animate:{x:fe,y:ne,scale:1.18,opacity:1},whileHover:{scale:1.38,transition:{type:"spring",stiffness:800,damping:20}},transition:{type:"spring",stiffness:400,damping:8,delay:.08*B},style:{position:"absolute",left:0,top:0,fontSize:22,cursor:"pointer",userSelect:"none",zIndex:ye===B?100:2,willChange:"filter, transform"},onClick:()=>window.open(pt[B],"_blank"),onMouseEnter:()=>me(B),onMouseLeave:()=>me(null),children:[f.jsx("div",{className:"backdrop-blur-md",style:{position:"absolute",left:"50%",top:"60%",transform:"translate(-50%, -50%)",width:25,height:25,borderRadius:"50%",backgroundColor:`rgba(${o}, ${i})`,border:"1px solid rgba(255, 255, 255, 0.2)",zIndex:-1,pointerEvents:"none"}}),E,ye===B&&f.jsx("div",{style:{position:"absolute",left:28,top:"50%",transform:"translateY(-50%)",height:ie,width:Oe,background:"rgba(255,255,255,0.98)",color:"#222",borderRadius:ie/2,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 12px #0003",fontSize:14,fontWeight:500,pointerEvents:"auto",zIndex:10,padding:"0 10px",whiteSpace:"nowrap"},children:f.jsx("span",{style:{userSelect:"none"},children:Xe[B]})})]},B)})})})]})]})})})}),Y&&f.jsx(Eu,{isOpen:Y,onClose:()=>Z(!1)}),f.jsx(nr,{children:ge&&f.jsx(Se.div,{className:"fixed top-4 right-4 z-[60] bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg",initial:{opacity:0,y:-20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},transition:{duration:.3},children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("i",{className:"fa-solid fa-check-circle"}),f.jsx("span",{children:ge})]})})})]})}const cg=A.memo(lg,(n,e)=>!n||!e?!1:n.websites===e.websites);function ug(){const[n,e]=A.useState(new Date),[t,r]=A.useState(!0),[s,a]=A.useState(!1),{showFullDate:i,showSeconds:o,showWeekday:l,showYear:u,showMonth:d,showDay:c,timeComponentEnabled:h}=Ft();A.useEffect(()=>{let y;return o?y=setInterval(()=>{e(new Date)},1e3):y=setInterval(()=>{e(new Date),r(I=>!I)},500),()=>clearInterval(y)},[o]);const m=y=>{const I=y.getHours().toString().padStart(2,"0"),v=y.getMinutes().toString().padStart(2,"0");if(o){const _=y.getSeconds().toString().padStart(2,"0");return{text:`${I}:${v}:${_}`,colonOpacity:1}}else{const _=t?1:.3;return{text:`${I}:${v}`,colonOpacity:_}}},b=y=>{if(!(u||d||c||l))return"";const v={};return u&&(v.year="numeric"),d&&(v.month="long"),c&&(v.day="numeric"),l&&(v.weekday="long"),y.toLocaleDateString("zh-CN",v)},g=y=>{y.stopPropagation(),a(!0)},p=u||d||c||l;return f.jsxs("div",{className:"absolute left-0 right-0 z-5 flex justify-center px-4 select-none pointer-events-none",style:{top:"-45px"},children:[f.jsx(Se.div,{className:"w-full flex justify-center",initial:{opacity:0,y:-10},animate:{opacity:h?1:0,y:0,pointerEvents:h?"auto":"none"},transition:{duration:.3},children:f.jsxs("div",{className:"relative flex flex-col items-center select-none",style:{minHeight:"60px",transform:p?"translateY(0)":"translateY(15px)"},children:[f.jsx("div",{className:"text-white/80 font-mono text-4xl font-semibold tracking-wide mb-1 drop-shadow-sm cursor-pointer hover:text-white/90 transition-all duration-200 hover:scale-105 pointer-events-auto time-display-clickable",onClick:g,children:(()=>{const y=m(n);if(o||y.text.includes(":")){const I=y.text.split(":");return f.jsxs(f.Fragment,{children:[I[0],f.jsx("span",{className:"transition-opacity duration-200",style:{opacity:y.colonOpacity},children:":"}),I[1],I[2]&&f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"transition-opacity duration-200",style:{opacity:y.colonOpacity},children:":"}),I[2]]})]})}else return y.text})()}),f.jsx("div",{className:"text-white/60 text-sm font-medium drop-shadow-sm h-5 flex items-center justify-center min-w-[200px]",children:f.jsx("span",{className:`transition-opacity duration-200 ${i?"opacity-100":"opacity-0"} text-center`,children:i?b(n):""})})]})}),f.jsx(Eu,{isOpen:s,onClose:()=>a(!1)})]})}function dg(){const[n,e]=A.useState(""),[t,r]=A.useState(!0),{isSearchFocused:s}=Ft(),a=()=>x(null,null,function*(){try{r(!0);const i=yield fetch("https://v1.hitokoto.cn/?c=i&encode=text");if(i.ok){const o=yield i.text();e(o)}else e("")}catch(i){console.warn(":",i),e("")}finally{r(!1)}});return A.useEffect(()=>{a();const i=setInterval(a,10*60*1e3);return()=>clearInterval(i)},[]),A.useEffect(()=>{const i=()=>{document.visibilityState==="visible"&&a()};return document.addEventListener("visibilitychange",i),()=>{document.removeEventListener("visibilitychange",i)}},[]),f.jsx("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50 pointer-events-none",children:f.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:s?1:0,y:s?0:20},transition:{duration:.6,delay:s?.6:0},className:"relative",children:[f.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl px-6 py-3 shadow-lg border border-white/20 max-w-2xl mx-auto",children:t?f.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-white/60 rounded-full animate-pulse"}),f.jsx("div",{className:"w-1.5 h-1.5 bg-white/60 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),f.jsx("div",{className:"w-1.5 h-1.5 bg-white/60 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]}):f.jsxs(Se.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},className:"text-center",children:[f.jsx("span",{className:"absolute left-4 top-2 text-white/30 text-2xl font-serif",children:'"'}),f.jsx("p",{className:"text-white/90 text-sm font-medium tracking-wide leading-relaxed px-4 py-1 font-serif",children:n}),f.jsx("span",{className:"absolute right-4 bottom-2 text-white/30 text-2xl font-serif",children:'"'}),f.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 -bottom-1 w-16 h-px bg-gradient-to-r from-transparent via-white/30 to-transparent"})]})}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-pink-500/10 rounded-2xl blur-xl -z-10 opacity-50"})]})})}const fg=A.memo(function(){const[e,t]=A.useState(!1);A.useEffect(()=>{const s=setTimeout(()=>{t(!0)},1e4);return()=>clearTimeout(s)},[]);const r=()=>{window.location.href="/me"};return e?f.jsx("div",{className:"cat-container",children:f.jsxs("div",{className:"cat",onClick:r,style:{cursor:"pointer"},children:[f.jsx("div",{className:"paw"}),f.jsx("div",{className:"paw"}),f.jsxs("div",{className:"shake",children:[f.jsx("div",{className:"tail"}),f.jsxs("div",{className:"main",children:[f.jsx("div",{className:"head"}),f.jsx("div",{className:"body",children:f.jsx("div",{className:"leg"})}),f.jsxs("div",{className:"face",children:[f.jsxs("div",{className:"mustache_cont",children:[f.jsx("div",{className:"mustache"}),f.jsx("div",{className:"mustache"})]}),f.jsxs("div",{className:"mustache_cont",children:[f.jsx("div",{className:"mustache"}),f.jsx("div",{className:"mustache"})]}),f.jsx("div",{className:"nose"}),f.jsx("div",{className:"eye"}),f.jsx("div",{className:"eye"}),f.jsxs("div",{className:"brow_cont",children:[f.jsx("div",{className:"brow"}),f.jsx("div",{className:"brow"})]}),f.jsxs("div",{className:"brow_cont",children:[f.jsx("div",{className:"brow"}),f.jsx("div",{className:"brow"})]}),f.jsx("div",{className:"ear_l",children:f.jsx("div",{className:"inner"})}),f.jsxs("div",{className:"ear_r",children:[f.jsx("div",{className:"outer"}),f.jsx("div",{className:"inner"})]})]})]})]})]})}):null}),Cu=A.createContext(void 0);function Kr(){const n=A.useContext(Cu);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n}const Vt=n=>{const e=(n==null?void 0:n.message)||(n==null?void 0:n.toString())||"",t={"Invalid login credentials":"","Email not confirmed":"","User already registered":"","Password should be at least 6 characters":"6","Invalid email":"","Network error":"","Too many requests":"","Email already in use":"","Weak password":"","Invalid password":""};for(const[r,s]of Object.entries(t))if(e.includes(r))return s;return e},hg=()=>navigator.onLine,pg=n=>{const e=()=>n(!0),t=()=>n(!1);return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}};function gg({children:n}){const[e,t]=A.useState(null),[r,s]=A.useState(null),[a,i]=A.useState(!0),[o,l]=A.useState(()=>hg()),[u,d]=A.useState(!0),[c,h]=A.useState(null),[m,b]=A.useState(null),g=()=>h(null),p=(k,T)=>x(null,null,function*(){var q;try{g();const{data:W,error:M}=yield qe.auth.signInWithPassword({email:k,password:T});if(M)throw M;console.log(":",(q=W.user)==null?void 0:q.email)}catch(W){const M=Vt(W);throw h(M),new Error(M)}}),y=(k,T)=>x(null,null,function*(){var q;try{g();const{data:W,error:M}=yield qe.auth.signUp({email:k,password:T,options:{emailRedirectTo:window.location.origin,data:{app_name:"",welcome_message:"",site_url:window.location.origin}}});if(M)throw M;console.log(":",(q=W.user)==null?void 0:q.email)}catch(W){const M=Vt(W);throw h(M),new Error(M)}}),I=()=>x(null,null,function*(){try{if(g(),e&&!e.email_confirmed_at){const{error:k}=yield qe.auth.resend({type:"signup",email:e.email,options:{emailRedirectTo:window.location.origin}});if(k)throw k;console.log("")}}catch(k){const T=Vt(k);throw h(T),new Error(T)}}),v=()=>x(null,null,function*(){try{g();const{data:{user:k},error:T}=yield qe.auth.getUser();if(T)throw T;t(k)}catch(k){const T=Vt(k);throw h(T),new Error(T)}}),_=()=>x(null,null,function*(){try{g();const{error:k}=yield qe.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`}});if(k)throw k}catch(k){const T=Vt(k);throw h(T),new Error(T)}}),R=()=>x(null,null,function*(){g();const{error:k}=yield qe.auth.signOut();k&&console.error(":",k)}),$=k=>x(null,null,function*(){try{if(g(),!e)throw new Error("");if(!k||k.length<6)throw new Error("6");const{error:T}=yield qe.auth.updateUser({password:k});if(T)throw T;console.log(""),b(" "),setTimeout(()=>b(null),3e3)}catch(T){const q=Vt(T);throw h(q),new Error(q)}}),O=k=>x(null,null,function*(){try{if(g(),!k)throw new Error("");const{error:T}=yield qe.auth.resetPasswordForEmail(k,{redirectTo:`${window.location.origin}/reset-password`});if(T)throw T;console.log(""),b(" "),setTimeout(()=>b(null),5e3)}catch(T){const q=Vt(T);throw h(q),new Error(q)}});A.useEffect(()=>{qe.auth.getSession().then(({data:{session:T}})=>{var q;s(T),t((q=T==null?void 0:T.user)!=null?q:null),i(!1)});const{data:{subscription:k}}=qe.auth.onAuthStateChange((T,q)=>x(null,null,function*(){var M,ue;console.log("Auth state changed:",T,(M=q==null?void 0:q.user)==null?void 0:M.email);const W=(ue=q==null?void 0:q.user)!=null?ue:null;switch(console.log(" :",{event:T,hasUser:!!W,userId:W==null?void 0:W.id,email:W==null?void 0:W.email,emailConfirmed:!!(W!=null&&W.email_confirmed_at),emailConfirmedAt:W==null?void 0:W.email_confirmed_at,currentUserId:e==null?void 0:e.id,currentEmailConfirmed:!!(e!=null&&e.email_confirmed_at)}),s(q),t(W),i(!1),T){case"SIGNED_IN":h(null),W&&W.email_confirmed_at&&window.dispatchEvent(new CustomEvent("userSignedIn",{detail:{user:W}}));break;case"SIGNED_OUT":h(null);break;case"TOKEN_REFRESHED":console.log("Token refreshed");break;case"USER_UPDATED":console.log("User updated");break}}));return()=>k.unsubscribe()},[]),A.useEffect(()=>{(()=>{const T=window.location.hash,q=new URLSearchParams(T.substring(1));q.get("type")==="signup"&&q.get("access_token")&&(console.log(" "),window.history.replaceState({},document.title,window.location.pathname),setTimeout(()=>{b(" "),setTimeout(()=>b(null),3e3)},1e3))})()},[]),A.useEffect(()=>{const k=()=>x(null,null,function*(){var q,W;try{const{error:M}=yield qe.from("user_profiles").select("id").limit(1);d(!M),M&&((q=M.message)!=null&&q.includes(""))?h("Supabase"):(W=M==null?void 0:M.message)!=null&&W.includes("Supabase")&&u&&h(null)}catch(M){d(!1),h("Supabase")}});k();const T=setInterval(k,3e4);return()=>clearInterval(T)},[u]),A.useEffect(()=>pg(T=>{l(T),h(T?q=>q!=null&&q.includes("")?null:q:"")}),[]);const N={currentUser:e,session:r,login:p,register:y,loginWithGoogle:_,logout:R,sendVerificationEmail:I,reloadUser:v,updatePassword:$,resetPasswordForEmail:O,loading:a,isNetworkOnline:o,isSupabaseConnected:u,error:c,successMessage:m};return f.jsx(Cu.Provider,{value:N,children:n})}const Ec={isOnline:navigator.onLine,lastSyncTime:null,syncInProgress:!1,syncError:null,pendingChanges:0},ku=A.createContext(void 0);function mg(){const n=A.useContext(ku);if(n===void 0)throw new Error("useSyncStatus must be used within a SyncProvider");return n}function vg({children:n}){const[e,t]=A.useState(Ec),r=A.useCallback(i=>{t(o=>C(C({},o),i))},[]),s=A.useCallback(()=>{t(Ec)},[]);A.useEffect(()=>{const i=()=>{r({isOnline:!0,syncError:null}),console.log(" ")},o=()=>{r({isOnline:!1,syncError:"",syncInProgress:!1}),console.log(" ")};return window.addEventListener("online",i),window.addEventListener("offline",o),r({isOnline:navigator.onLine}),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",o)}},[]);const a={syncStatus:e,updateSyncStatus:r,resetSyncStatus:s};return f.jsx(ku.Provider,{value:a,children:n})}const Ru=n=>{if(!n||typeof n!="object"||!n.id||typeof n.id!="string"||n.id.trim().length===0||!n.name||typeof n.name!="string"||n.name.trim().length===0||!n.url||typeof n.url!="string"||n.url.trim().length===0)return!1;try{new URL(n.url)}catch(e){return!1}return!(n.visitCount!==void 0&&(typeof n.visitCount!="number"||n.visitCount<0)||n.tags!==void 0&&!Array.isArray(n.tags))},yg=n=>Ru(n)?{id:n.id.trim(),name:n.name.trim(),url:n.url.trim(),favicon:n.favicon||"",tags:Array.isArray(n.tags)?n.tags.filter(e=>typeof e=="string"):[],visitCount:typeof n.visitCount=="number"?Math.max(0,n.visitCount):0,lastVisit:n.lastVisit||new Date().toISOString(),note:typeof n.note=="string"?n.note:void 0}:null,bg=n=>({cardOpacity:typeof n.cardOpacity=="number"?Math.max(.05,Math.min(1,n.cardOpacity)):.1,searchBarOpacity:typeof n.searchBarOpacity=="number"?Math.max(.05,Math.min(1,n.searchBarOpacity)):.1,parallaxEnabled:typeof n.parallaxEnabled=="boolean"?n.parallaxEnabled:!0,wallpaperResolution:["4k","1080p","720p","mobile"].includes(n.wallpaperResolution)?n.wallpaperResolution:"1080p",theme:typeof n.theme=="string"?n.theme:"light",cardColor:typeof n.cardColor=="string"?n.cardColor:"255, 255, 255",searchBarColor:typeof n.searchBarColor=="string"?n.searchBarColor:"255, 255, 255",autoSyncEnabled:typeof n.autoSyncEnabled=="boolean"?n.autoSyncEnabled:!0,autoSyncInterval:typeof n.autoSyncInterval=="number"&&n.autoSyncInterval>=3&&n.autoSyncInterval<=300?n.autoSyncInterval:30,autoSortEnabled:typeof n.autoSortEnabled=="boolean"?n.autoSortEnabled:!1,timeComponentEnabled:typeof n.timeComponentEnabled=="boolean"?n.timeComponentEnabled:!0,showFullDate:typeof n.showFullDate=="boolean"?n.showFullDate:!0,showSeconds:typeof n.showSeconds=="boolean"?n.showSeconds:!0,showWeekday:typeof n.showWeekday=="boolean"?n.showWeekday:!0,showYear:typeof n.showYear=="boolean"?n.showYear:!0,showMonth:typeof n.showMonth=="boolean"?n.showMonth:!0,showDay:typeof n.showDay=="boolean"?n.showDay:!0,lastSync:typeof n.lastSync=="string"?n.lastSync:new Date().toISOString()}),xg=n=>Array.isArray(n)?n.map(yg).filter(e=>e!==null):[],wg=n=>n.length>0,_g=n=>{const e=[];let t=0;return Array.isArray(n)?(n.forEach((s,a)=>{Ru(s)?t++:e.push(`${a+1}`)}),{isValid:t>0&&e.length===0,issues:e,validCount:t,totalCount:n.length}):(e.push(""),{isValid:!1,issues:e,validCount:0,totalCount:0})},$u=(n,e=3,t=1e3)=>x(null,null,function*(){let r;for(let s=0;s<=e;s++)try{return yield n()}catch(a){if(r=a,s===e)throw r;const i=t*Math.pow(2,s);D.sync.info(`${i}ms (${s+1}/${e+1})`),yield new Promise(o=>setTimeout(o,i))}throw r}),Sg=(n,e,t)=>x(null,null,function*(){var r,s;try{(r=t==null?void 0:t.onSyncStart)==null||r.call(t);const a=bg(e);return yield $u(()=>x(null,null,function*(){var l,u;const i={id:n.id,card_opacity:a.cardOpacity,search_bar_opacity:a.searchBarOpacity,parallax_enabled:a.parallaxEnabled,wallpaper_resolution:a.wallpaperResolution,theme:a.theme,card_color:a.cardColor,search_bar_color:a.searchBarColor,auto_sync_enabled:a.autoSyncEnabled,auto_sync_interval:a.autoSyncInterval,last_sync:new Date().toISOString()},{error:o}=yield qe.from(or.USER_SETTINGS).upsert(i);if(o)if(o.code==="42703"||(l=o.message)!=null&&l.includes("column")||(u=o.message)!=null&&u.includes("does not exist")){D.sync.warn("",{error:o.message});const d={id:n.id,card_opacity:e.cardOpacity,search_bar_opacity:e.searchBarOpacity,parallax_enabled:e.parallaxEnabled,wallpaper_resolution:e.wallpaperResolution,theme:e.theme,last_sync:new Date().toISOString()},{error:c}=yield qe.from(or.USER_SETTINGS).upsert(d);if(c)throw c;D.sync.info("")}else throw o;else D.sync.info("")})),D.sync.info(""),(s=t==null?void 0:t.onSyncSuccess)==null||s.call(t,""),!0}catch(a){return D.sync.error("",a),!1}}),Cc=n=>x(null,null,function*(){try{const e=new Promise((a,i)=>setTimeout(()=>i(new Error("")),5e3)),t=qe.from(or.USER_SETTINGS).select("*").eq("id",n.id).single(),{data:r,error:s}=yield Promise.race([t,e]);if(s&&s.code!=="PGRST116")throw s;return r?(D.sync.info(""),{cardOpacity:r.card_opacity,searchBarOpacity:r.search_bar_opacity,parallaxEnabled:r.parallax_enabled,wallpaperResolution:r.wallpaper_resolution,theme:r.theme,cardColor:r.card_color||"255, 255, 255",searchBarColor:r.search_bar_color||"255, 255, 255",autoSyncEnabled:r.auto_sync_enabled!==void 0?r.auto_sync_enabled:!0,autoSyncInterval:r.auto_sync_interval&&r.auto_sync_interval>=3&&r.auto_sync_interval<=300?r.auto_sync_interval:30,lastSync:r.last_sync}):(D.sync.debug(""),null)}catch(e){const t=e instanceof Error?e.message:"";return D.sync.error("",e),t.includes("network")||t.includes("fetch")?D.sync.warn(""):(t.includes("auth")||t.includes("JWT"))&&D.sync.warn(""),null}}),Ag=(n,e,t)=>x(null,null,function*(){var r,s,a;try{(r=t==null?void 0:t.onSyncStart)==null||r.call(t);const i=xg(e),o=_g(i);return!o.isValid||!wg(i)?(D.sync.warn("",{issues:o.issues,validCount:o.validCount,totalCount:o.totalCount}),(s=t==null?void 0:t.onSyncError)==null||s.call(t,`${o.issues.join(", ")}`),!1):(e.length>0&&i.length<e.length*.5&&D.sync.warn("",{original:e.length,sanitized:i.length}),yield $u(()=>x(null,null,function*(){const{error:l}=yield qe.from(or.USER_WEBSITES).upsert({id:n.id,websites:i,last_sync:new Date().toISOString()});if(l)throw l})),D.sync.info("",{original:e.length,sanitized:i.length}),(a=t==null?void 0:t.onSyncSuccess)==null||a.call(t,` (${i.length})`),!0)}catch(i){return D.sync.error("",i),!1}}),kc=n=>x(null,null,function*(){try{const e=new Promise((a,i)=>setTimeout(()=>i(new Error("")),5e3)),t=qe.from(or.USER_WEBSITES).select("*").eq("id",n.id).single(),{data:r,error:s}=yield Promise.race([t,e]);if(s){if(s.code==="PGRST116")return D.sync.debug(""),null;throw D.sync.error(":",s),s}return r&&r.websites?Array.isArray(r.websites)?(D.sync.info("",{count:r.websites.length}),r.websites):(D.sync.warn(""),null):(D.sync.debug(""),null)}catch(e){const t=e instanceof Error?e.message:"";return D.sync.error("",e),t.includes("network")||t.includes("fetch")?D.sync.warn(""):(t.includes("auth")||t.includes("JWT"))&&D.sync.warn(""),null}}),Ig=(n,e)=>{const t={};return n.forEach(r=>{t[r.id]=C({},r)}),e.forEach(r=>{const s=t[r.id];if(!s)t[r.id]=C({},r);else{const a=new Date(s.lastVisit||"2000-01-01").getTime(),i=new Date(r.lastVisit||"2000-01-01").getTime();let o;i>a?o=C({},r):a>i?o=C({},s):o=r.visitCount>s.visitCount?C({},r):C({},s),o.visitCount=Math.max(s.visitCount||0,r.visitCount||0),o.lastVisit=a>i?s.lastVisit:r.lastVisit,t[r.id]=o}}),Object.values(t)};class Eg{constructor(){ce(this,"syncTimeout",null);ce(this,"retryCount",0);ce(this,"maxRetries",3)}performSync(e,t,r,s,a=0){return x(this,null,function*(){return this.syncTimeout&&(clearTimeout(this.syncTimeout),this.syncTimeout=null),a===0?this.executSync(e,t,r,s):new Promise((i,o)=>{this.syncTimeout=setTimeout(()=>x(this,null,function*(){try{yield this.executSync(e,t,r,s),i()}catch(l){o(l)}}),a)})})}executSync(e,t,r,s){return x(this,null,function*(){var a,i;(a=s==null?void 0:s.onSyncStart)==null||a.call(s);try{const l=(yield Promise.allSettled([Ag(e,t),Sg(e,r)])).filter(u=>u.status==="rejected");l.length===0?(this.retryCount=0,(i=s==null?void 0:s.onSyncSuccess)==null||i.call(s,"")):yield this.handleSyncFailure(e,t,r,s,l.length)}catch(o){yield this.handleSyncError(e,t,r,s,o)}})}handleSyncFailure(e,t,r,s,a){return x(this,null,function*(){var i;if(this.retryCount<this.maxRetries){this.retryCount++,D.sync.warn(`${this.retryCount}/${this.maxRetries} `);const o=1e3*Math.pow(2,this.retryCount-1);return yield new Promise(l=>setTimeout(l,o)),this.executSync(e,t,r,s)}else this.retryCount=0,(i=s==null?void 0:s.onSyncError)==null||i.call(s,`${a}  ${this.maxRetries} `)})}handleSyncError(e,t,r,s,a){return x(this,null,function*(){var i;if(this.retryCount<this.maxRetries){this.retryCount++,D.sync.warn(`${this.retryCount}/${this.maxRetries} `);const o=1e3*Math.pow(2,this.retryCount-1);return yield new Promise(l=>setTimeout(l,o)),this.executSync(e,t,r,s)}else this.retryCount=0,(i=s==null?void 0:s.onSyncError)==null||i.call(s,": "+a.message)})}cleanup(){this.syncTimeout&&(clearTimeout(this.syncTimeout),this.syncTimeout=null),this.retryCount=0}}const Cg=()=>new Eg,kg=(n,e,t,r)=>Cg().performSync(n,e,t,r,0),Rc=(n,e,t)=>x(null,null,function*(){var r,s;try{(r=t==null?void 0:t.onSyncStart)==null||r.call(t);const{error:a}=yield qe.from(or.USER_PROFILES).upsert({id:n.id,email:n.email||"",display_name:e});if(a)throw a;return D.sync.info(""),(s=t==null?void 0:t.onSyncSuccess)==null||s.call(t,""),!0}catch(a){return D.sync.error("",a),!1}}),$c=n=>x(null,null,function*(){try{const{data:e,error:t}=yield qe.from(or.USER_PROFILES).select("*").eq("id",n.id).single();if(t&&t.code!=="PGRST116")throw t;return e?(D.sync.info(""),{id:e.id,email:e.email,displayName:e.display_name,createdAt:e.created_at,updatedAt:e.updated_at}):(D.sync.debug(""),null)}catch(e){return D.sync.error("",e),null}});function Rg(n,e=!0){const{currentUser:t}=Kr(),{updateSyncStatus:r}=mg(),{cardOpacity:s,searchBarOpacity:a,parallaxEnabled:i,wallpaperResolution:o,autoSyncEnabled:l,autoSyncInterval:u,autoSortEnabled:d,timeComponentEnabled:c,showFullDate:h,showSeconds:m,showWeekday:b,showYear:g,showMonth:p,showDay:y}=Ft(),I=A.useRef(""),v=A.useRef(null),_=A.useRef(!1),R=A.useCallback(($=!1)=>{if(!navigator.onLine){r({syncInProgress:!1,syncError:"",pendingChanges:1});return}if(!t||!t.email_confirmed_at){t&&!t.email_confirmed_at&&r({syncInProgress:!1,syncError:"",pendingChanges:1});return}const O=n.filter(T=>T&&typeof T.id=="string"&&T.id.length>0&&typeof T.name=="string"&&T.name.trim().length>0&&typeof T.url=="string"&&T.url.trim().length>0);if(O.length===0&&!$){console.log(" "),r({syncInProgress:!1,syncError:"",pendingChanges:n.length});return}if((document.querySelector('[role="dialog"]')||document.querySelector(".modal")||document.querySelector("[data-modal]"))&&!$){console.log(" "),setTimeout(()=>R(!1),5e3);return}const k={cardOpacity:s,searchBarOpacity:a,parallaxEnabled:i,wallpaperResolution:o,theme:localStorage.getItem("theme")||"light",cardColor:localStorage.getItem("cardColor")||"255, 255, 255",searchBarColor:localStorage.getItem("searchBarColor")||"255, 255, 255",autoSyncEnabled:l,autoSyncInterval:u,autoSortEnabled:d,timeComponentEnabled:c,showFullDate:h,showSeconds:m,showWeekday:b,showYear:g,showMonth:p,showDay:y,lastSync:new Date().toISOString()};console.log($?" ...":" ...",{websiteCount:n.length,validWebsiteCount:O.length,hasSettings:!!k}),kg(t,O,k,{onSyncStart:()=>{r({syncInProgress:!0,syncError:null,pendingChanges:0})},onSyncSuccess:T=>{const q=JSON.stringify({websites:O.map(W=>({id:W.id,name:W.name,url:W.url,visitCount:W.visitCount})),settings:{cardOpacity:s,searchBarOpacity:a,parallaxEnabled:i,wallpaperResolution:o,theme:k.theme,autoSyncEnabled:l,autoSyncInterval:u,autoSortEnabled:d,timeComponentEnabled:c,showFullDate:h,showSeconds:m,showWeekday:b,showYear:g,showMonth:p,showDay:y}});I.current=q,r({syncInProgress:!1,lastSyncTime:new Date,syncError:null,pendingChanges:0}),console.log(" :",T,"- ")},onSyncError:T=>{r({syncInProgress:!1,syncError:T,pendingChanges:1}),console.error(" :",T)}})},[t,n,s,a,i,o,r]);A.useEffect(()=>{if(!e){console.log(" ");return}if(!l){v.current&&(clearTimeout(v.current),v.current=null),console.log(" ");return}const $=n.filter(W=>W&&W.id&&W.name&&W.url),O=JSON.stringify({websites:$.map(W=>({id:W.id,name:W.name,url:W.url,visitCount:W.visitCount})),settings:{cardOpacity:s,searchBarOpacity:a,parallaxEnabled:i,wallpaperResolution:o,theme:localStorage.getItem("theme")||"light",autoSyncEnabled:l,autoSyncInterval:u,autoSortEnabled:d,timeComponentEnabled:c,showFullDate:h,showSeconds:m,showWeekday:b,showYear:g,showMonth:p,showDay:y}});if(O===I.current)return;const N=I.current?JSON.parse(I.current):null,k=N&&N.websites&&$.length<N.websites.length;if(!_.current&&I.current===""){console.log(" "),I.current=O,_.current=!0;return}v.current&&(clearTimeout(v.current),console.log(" "));const T=k?3:Math.max(3,Math.min(60,u)),q=T*1e3;return console.log(` ${k?"":""} ${T}s `),v.current=setTimeout(()=>{console.log(` ${T}s `);const W=v.current;v.current=null,W&&R(k)},q),()=>{v.current&&clearTimeout(v.current)}},[t,n,s,a,i,o,l,u,d,c,h,m,b,g,p,y,R,e]),A.useEffect(()=>()=>{v.current&&clearTimeout(v.current)},[])}function $g(){const{currentUser:n,sendVerificationEmail:e,reloadUser:t,logout:r}=Kr(),[s,a]=A.useState(!1),[i,o]=A.useState(!1);if(!n||n.email_confirmed_at)return null;const l=()=>x(null,null,function*(){a(!0);try{yield e(),alert(" ")}catch(c){alert(" "),console.error(":",c)}finally{a(!1)}}),u=()=>x(null,null,function*(){o(!0);try{yield t(),window.location.reload()}catch(c){console.error(":",c)}finally{o(!1)}}),d=()=>x(null,null,function*(){confirm("")&&(yield r())});return f.jsx(Se.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},className:"fixed top-0 left-0 right-0 z-50 bg-orange-500 text-white shadow-lg",children:f.jsx("div",{className:"container mx-auto px-4 py-3",children:f.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("i",{className:"fa-solid fa-envelope-open-text text-xl"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium",children:""}),f.jsxs("p",{className:"text-sm text-orange-100",children:[" ",f.jsx("strong",{children:n.email})," "]})]})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:l,disabled:s,className:"bg-orange-600 hover:bg-orange-700 disabled:bg-orange-400 px-3 py-1 rounded text-sm transition-colors",children:s?f.jsxs(f.Fragment,{children:[f.jsx("i",{className:"fa-solid fa-spinner fa-spin mr-1"}),"..."]}):f.jsxs(f.Fragment,{children:[f.jsx("i",{className:"fa-solid fa-paper-plane mr-1"}),""]})}),f.jsx("button",{onClick:u,disabled:i,className:"bg-green-500 hover:bg-green-600 disabled:bg-green-400 px-3 py-1 rounded text-sm transition-colors",children:i?f.jsxs(f.Fragment,{children:[f.jsx("i",{className:"fa-solid fa-spinner fa-spin mr-1"}),"..."]}):f.jsxs(f.Fragment,{children:[f.jsx("i",{className:"fa-solid fa-check-circle mr-1"}),""]})}),f.jsxs("button",{onClick:d,className:"bg-red-500 hover:bg-red-600 px-3 py-1 rounded text-sm transition-colors",children:[f.jsx("i",{className:"fa-solid fa-sign-out-alt mr-1"}),""]})]})]})})})}const Tg=A.lazy(()=>lr(()=>import("./Settings-bM1jh4-0.js"),__vite__mapDeps([0,1,2,3]))),jg=A.lazy(()=>lr(()=>import("./WorkspaceModal-CoXJXK2T.js"),__vite__mapDeps([4,1,2,3]))),Ng=n=>f.jsx(A.Suspense,{fallback:f.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:f.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6",children:f.jsxs("div",{className:"animate-pulse flex items-center space-x-2",children:[f.jsx("div",{className:"rounded-full h-4 w-4 bg-white/30"}),f.jsx("span",{className:"text-white/90 text-sm",children:"..."})]})})}),children:f.jsx(Tg,C({},n))}),Pg=n=>f.jsx(A.Suspense,{fallback:f.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:f.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6",children:f.jsxs("div",{className:"animate-pulse flex items-center space-x-2",children:[f.jsx("div",{className:"rounded-full h-4 w-4 bg-white/30"}),f.jsx("span",{className:"text-white/90 text-sm",children:"..."})]})})}),children:f.jsx(jg,C({},n))}),tr=class tr{constructor(){ce(this,"defaultRetryOptions",{maxAttempts:3,baseDelay:1e3,maxDelay:1e4,backoffFactor:2,shouldRetry:(e,t)=>{const s=["NetworkError","TimeoutError","AbortError","TypeError"].some(i=>e.name.includes(i)||e.message.includes(i.toLowerCase())),a=e.message.includes("HTTP 5")||e.message.includes("Internal Server Error");return(s||a)&&t<3}})}static getInstance(){return tr.instance||(tr.instance=new tr),tr.instance}withRetry(s){return x(this,arguments,function*(e,t={},r){const a=C(C({},this.defaultRetryOptions),t);let i;for(let o=1;o<=a.maxAttempts;o++)try{const l=yield e();return o>1&&D.info("",{context:r,attempt:o,totalAttempts:a.maxAttempts}),l}catch(l){if(i=l,D.warn(` ${o}/${a.maxAttempts} `,{context:r,error:i.message,attempt:o}),o===a.maxAttempts||!a.shouldRetry(i,o))break;const u=Math.min(a.baseDelay*Math.pow(a.backoffFactor,o-1),a.maxDelay);D.debug(` ${u}ms `,{context:r,attempt:o,delay:u}),yield this.delay(u)}throw D.error("",{context:r,error:i.message,totalAttempts:a.maxAttempts}),i})}delay(e){return new Promise(t=>setTimeout(t,e))}categorizeError(e,t){const r=e.message.toLowerCase();if(r.includes("network")||r.includes("fetch")||r.includes("cors")||e.name==="TypeError")return{message:e.message,userMessage:"",category:"network",recoverable:!0,retryable:!0};if(r.includes("timeout")||r.includes("abort"))return{message:e.message,userMessage:"",category:"timeout",recoverable:!0,retryable:!0};if(r.includes("http")&&(r.includes("4")||r.includes("5"))){const s=r.includes("4");return{message:e.message,userMessage:s?"":"",category:s?"client-error":"server-error",recoverable:!s,retryable:!s}}return r.includes("indexeddb")||r.includes("cache")||r.includes("storage")?{message:e.message,userMessage:"",category:"storage",recoverable:!0,retryable:!1}:r.includes("permission")||r.includes("unauthorized")?{message:e.message,userMessage:"",category:"permission",recoverable:!0,retryable:!1}:{message:e.message,userMessage:"",category:"unknown",recoverable:!1,retryable:!1}}handleError(e,t){const r=this.categorizeError(e,t);return D.error("",{context:t,category:r.category,message:r.message,userMessage:r.userMessage,recoverable:r.recoverable,retryable:r.retryable}),r}createRetryableFetch(e={}){return(t,r)=>x(this,null,function*(){return this.withRetry(()=>x(this,null,function*(){const s=yield fetch(t,r);if(!s.ok)throw new Error(`HTTP ${s.status}: ${s.statusText}`);return s}),e,`fetch ${t}`)})}getWallpaperRetryOptions(){return{maxAttempts:3,baseDelay:2e3,maxDelay:8e3,shouldRetry:(e,t)=>{const r=e.message.toLowerCase();return r.includes("cors")?!1:(r.includes("network")||r.includes("timeout")||r.includes("http 5"))&&t<3}}}getFaviconRetryOptions(){return{maxAttempts:2,baseDelay:1e3,maxDelay:3e3,shouldRetry:(e,t)=>{const r=e.message.toLowerCase();return r.includes("network")||r.includes("timeout")}}}};ce(tr,"instance");let Jn=tr;const gi=Jn.getInstance(),rr=class rr{constructor(){ce(this,"queue",[]);ce(this,"activeRequests",new Map);ce(this,"maxConcurrent",6);ce(this,"stats",{total:0,pending:0,completed:0,failed:0,byCategory:{}});setInterval(()=>{this.processQueue()},100),D.debug("",{maxConcurrent:this.maxConcurrent})}static getInstance(){return rr.instance||(rr.instance=new rr),rr.instance}request(i){return x(this,arguments,function*(e,t={},r=0,s="general",a){return new Promise((o,l)=>{const u={id:this.generateId(),url:e,options:t,priority:r,category:s,resolve:o,reject:l,retryOptions:a,createdAt:Date.now()};this.queue.push(u),this.stats.total++,this.stats.pending++,this.stats.byCategory[s]||(this.stats.byCategory[s]={total:0,completed:0,failed:0}),this.stats.byCategory[s].total++,this.queue.sort((d,c)=>c.priority-d.priority),D.debug("",{id:u.id,url:e.substring(0,50),priority:r,category:s,queueLength:this.queue.length}),this.processQueue()})})}processQueue(){return x(this,null,function*(){for(;this.activeRequests.size<this.maxConcurrent&&this.queue.length>0;){const e=this.queue.shift();this.executeTask(e)}})}executeTask(e){return x(this,null,function*(){var r;const t=new AbortController;this.activeRequests.set(e.id,t);try{D.debug("",{id:e.id,url:e.url.substring(0,50),category:e.category,activeCount:this.activeRequests.size});const s=ee(C({},e.options),{signal:this.combineSignals(t.signal,(r=e.options.signal)!=null?r:void 0)});let a;if(e.retryOptions?a=yield gi.withRetry(()=>fetch(e.url,s),e.retryOptions,`${e.category}-${e.id}`):a=yield fetch(e.url,s),!a.ok)throw new Error(`HTTP ${a.status}: ${a.statusText}`);this.stats.completed++,this.stats.pending--,this.stats.byCategory[e.category].completed++,D.debug("",{id:e.id,status:a.status,category:e.category,duration:Date.now()-e.createdAt}),e.resolve(a)}catch(s){this.stats.failed++,this.stats.pending--,this.stats.byCategory[e.category].failed++;const a=s;D.warn("",{id:e.id,url:e.url.substring(0,50),category:e.category,error:a.message,duration:Date.now()-e.createdAt}),e.reject(a)}finally{this.activeRequests.delete(e.id),this.processQueue()}})}combineSignals(...e){const t=e.filter(Boolean);if(t.length===0)return new AbortController().signal;if(t.length===1)return t[0];const r=new AbortController;for(const s of t){if(s.aborted){r.abort();break}s.addEventListener("abort",()=>{r.abort()})}return r.signal}generateId(){return`req_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}cancelRequest(e){const t=this.activeRequests.get(e);if(t)return t.abort(),this.activeRequests.delete(e),D.debug("",{id:e}),!0;const r=this.queue.findIndex(s=>s.id===e);return r!==-1?(this.queue.splice(r,1)[0].reject(new Error("Request cancelled")),this.stats.pending--,D.debug("",{id:e}),!0):!1}cancelCategory(e){let t=0;for(const[s,a]of this.activeRequests.entries()){const i=this.queue.find(o=>o.id===s);i&&i.category===e&&(a.abort(),this.activeRequests.delete(s),t++)}const r=[];for(const s of this.queue)s.category===e?(s.reject(new Error("Category cancelled")),this.stats.pending--,t++):r.push(s);return this.queue=r,t>0&&D.info(` ${e} `,{cancelledCount:t}),t}cancelAll(){let e=0;for(const[,t]of this.activeRequests.entries())t.abort(),e++;this.activeRequests.clear();for(const t of this.queue)t.reject(new Error("All requests cancelled")),e++;return this.queue=[],this.stats.pending=0,e>0&&D.info("",{cancelledCount:e}),e}getStats(){return C({},this.stats)}getQueueStatus(){const e=Date.now(),t=[...new Set(this.queue.map(s=>s.category))],r=this.queue.length>0?Math.max(...this.queue.map(s=>e-s.createdAt)):0;return{queueLength:this.queue.length,activeCount:this.activeRequests.size,categories:t,oldestWaitTime:r}}setMaxConcurrent(e){this.maxConcurrent=Math.max(1,Math.min(e,20)),D.info("",{maxConcurrent:this.maxConcurrent})}resetStats(){this.stats={total:0,pending:this.queue.length,completed:0,failed:0,byCategory:{}},D.info("")}};ce(rr,"instance");let Xn=rr;const Og=Xn.getInstance(),Dg=(n,e)=>Og.request(n,e,10,"wallpaper",gi.getWallpaperRetryOptions());function Mg(n){if(typeof AbortSignal.timeout=="function")try{return AbortSignal.timeout(n)}catch(r){D.warn("AbortSignal.timeout ",r)}const e=new AbortController,t=setTimeout(()=>{e.abort()},n);return e.signal.addEventListener("abort",()=>{clearTimeout(t)}),e.signal}const sr=class sr{constructor(){ce(this,"WALLPAPER_PREFIX","custom-wallpaper-");ce(this,"WALLPAPER_LIST_KEY","custom-wallpaper-list");ce(this,"CURRENT_WALLPAPER_KEY","current-custom-wallpaper-id");ce(this,"THUMBNAIL_PREFIX","custom-wallpaper-thumb-");ce(this,"MAX_FILE_SIZE",10*1024*1024);ce(this,"ALLOWED_TYPES",["image/jpeg","image/png","image/webp"]);ce(this,"THUMBNAIL_SIZE",300)}static getInstance(){return sr.instance||(sr.instance=new sr),sr.instance}validateFile(e){return this.ALLOWED_TYPES.includes(e.type)?e.size>this.MAX_FILE_SIZE?{valid:!1,error:` ${this.MAX_FILE_SIZE/1024/1024}MB`}:{valid:!0}:{valid:!1,error:" JPGPNGWebP "}}generateId(){return`wallpaper-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}generateThumbnail(e){return x(this,null,function*(){return new Promise((t,r)=>{const s=document.createElement("canvas"),a=s.getContext("2d"),i=new Image;i.onload=()=>{try{const o=this.THUMBNAIL_SIZE,l=this.THUMBNAIL_SIZE;let{width:u,height:d}=i;const c=Math.min(o/u,l/d);u=Math.floor(u*c),d=Math.floor(d*c),s.width=u,s.height=d,a==null||a.drawImage(i,0,0,u,d),s.toBlob(h=>{h?t(h):r(new Error(""))},"image/jpeg",.7)}catch(o){r(o)}},i.onerror=()=>r(new Error("")),i.src=URL.createObjectURL(e)})})}getImageDimensions(e){return x(this,null,function*(){return new Promise((t,r)=>{const s=new Image;s.onload=()=>{t({width:s.width,height:s.height}),URL.revokeObjectURL(s.src)},s.onerror=()=>{URL.revokeObjectURL(s.src),r(new Error(""))},s.src=URL.createObjectURL(e)})})}fileToBlob(e){return x(this,null,function*(){return new Blob([yield e.arrayBuffer()],{type:e.type})})}getWallpaperList(){return x(this,null,function*(){try{const e=localStorage.getItem(this.WALLPAPER_LIST_KEY);return e?JSON.parse(e):[]}catch(e){return D.wallpaper.warn("",e),[]}})}saveWallpaperList(e){return x(this,null,function*(){try{localStorage.setItem(this.WALLPAPER_LIST_KEY,JSON.stringify(e))}catch(t){throw D.wallpaper.error("",t),t}})}uploadWallpaper(e){return x(this,null,function*(){try{const t=this.validateFile(e);if(!t.valid)return{success:!1,error:t.error};D.wallpaper.info("",{name:e.name,size:`${(e.size/1024/1024).toFixed(2)}MB`,type:e.type});const r=this.generateId(),{width:s,height:a}=yield this.getImageDimensions(e),i=yield this.fileToBlob(e),o=yield this.generateThumbnail(i),l={id:r,name:e.name,size:i.size,uploadTime:Date.now(),width:s,height:a};yield je.set(`${this.WALLPAPER_PREFIX}${r}`,i,365*24*60*60*1e3),yield je.set(`${this.THUMBNAIL_PREFIX}${r}`,o,365*24*60*60*1e3);const u=yield this.getWallpaperList();return u.push(l),yield this.saveWallpaperList(u),yield this.setCurrentWallpaper(r),D.wallpaper.info("",{id:r,originalSize:`${(i.size/1024/1024).toFixed(2)}MB`,thumbnailSize:`${(o.size/1024).toFixed(2)}KB`,dimensions:`${s}${a}`}),{success:!0,id:r}}catch(t){return D.wallpaper.error("",t),{success:!1,error:t instanceof Error?t.message:""}}})}getAllWallpapers(){return x(this,null,function*(){try{const e=yield this.getWallpaperList(),t=yield this.getCurrentWallpaperId();return yield Promise.all(e.map(s=>x(this,null,function*(){const a=yield je.get(`${this.THUMBNAIL_PREFIX}${s.id}`),i=a?yield nt.createBlobUrl(a,"custom-wallpaper-thumb"):"";return{metadata:s,thumbnailUrl:i,isActive:s.id===t}})))}catch(e){return D.wallpaper.error("",e),[]}})}getCurrentWallpaperId(){return x(this,null,function*(){try{return localStorage.getItem(this.CURRENT_WALLPAPER_KEY)}catch(e){return null}})}setCurrentWallpaper(e){return x(this,null,function*(){try{return localStorage.setItem(this.CURRENT_WALLPAPER_KEY,e),D.wallpaper.info("",{id:e}),!0}catch(t){return D.wallpaper.error("",t),!1}})}getCurrentWallpaper(){return x(this,null,function*(){try{const e=yield this.getCurrentWallpaperId();if(!e)return null;const t=yield je.get(`${this.WALLPAPER_PREFIX}${e}`);return t?(D.wallpaper.info("",{id:e}),yield nt.createBlobUrl(t,"custom-wallpaper")):null}catch(e){return D.wallpaper.warn("",e),null}})}getWallpaperFullImage(e){return x(this,null,function*(){try{const t=yield je.get(`${this.WALLPAPER_PREFIX}${e}`);return t?(D.wallpaper.info("",{id:e}),yield nt.createBlobUrl(t,"custom-wallpaper-preview")):null}catch(t){return D.wallpaper.error("",t),null}})}deleteWallpaper(e){return x(this,null,function*(){try{yield je.delete(`${this.WALLPAPER_PREFIX}${e}`),yield je.delete(`${this.THUMBNAIL_PREFIX}${e}`);const r=(yield this.getWallpaperList()).filter(a=>a.id!==e);return yield this.saveWallpaperList(r),(yield this.getCurrentWallpaperId())===e&&localStorage.removeItem(this.CURRENT_WALLPAPER_KEY),nt.cleanupCategory("custom-wallpaper"),nt.cleanupCategory("custom-wallpaper-thumb"),D.wallpaper.info("",{id:e}),!0}catch(t){return D.wallpaper.error("",t),!1}})}deleteAllWallpapers(){return x(this,null,function*(){try{const e=yield this.getWallpaperList();for(const t of e)yield je.delete(`${this.WALLPAPER_PREFIX}${t.id}`),yield je.delete(`${this.THUMBNAIL_PREFIX}${t.id}`);return yield je.delete(this.WALLPAPER_LIST_KEY),localStorage.removeItem(this.CURRENT_WALLPAPER_KEY),nt.cleanupCategory("custom-wallpaper"),nt.cleanupCategory("custom-wallpaper-thumb"),D.wallpaper.info(""),!0}catch(e){return D.wallpaper.error("",e),!1}})}hasCustomWallpaper(){return x(this,null,function*(){try{return(yield this.getWallpaperList()).length>0}catch(e){return!1}})}getWallpaperCount(){return x(this,null,function*(){try{return(yield this.getWallpaperList()).length}catch(e){return 0}})}downloadWallpaper(e){return x(this,null,function*(){try{const t=yield je.get(`${this.WALLPAPER_PREFIX}${e}`),s=(yield this.getWallpaperList()).find(o=>o.id===e);if(!t||!s)return!1;const a=URL.createObjectURL(t),i=document.createElement("a");return i.href=a,i.download=s.name||`wallpaper-${e}.jpg`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a),D.wallpaper.info("",{id:e,name:s.name}),!0}catch(t){return D.wallpaper.error("",t),!1}})}getWallpaperInfo(){return x(this,null,function*(){try{const e=yield this.getWallpaperList(),t=yield this.getCurrentWallpaperId();if(e.length===0)return{exists:!1};const r=e.reduce((a,i)=>a+i.size,0),s=t?e.find(a=>a.id===t):void 0;return{exists:!0,count:e.length,totalSize:r,currentWallpaper:s}}catch(e){return{exists:!1}}})}extractUrlCore(e){try{const t=e.split("?")[0];let r=t.match(/photo-[a-zA-Z0-9_-]+/);if(r)return D.wallpaper.debug(" Unsplash photo ID:",r[0]),r[0];const s=t.split("/").filter(Boolean);if(s.length>0){const a=s[s.length-1];return D.wallpaper.debug("ID:",a),a}return D.wallpaper.debug("IDURL:",t),t}catch(t){return D.wallpaper.warn("URL",t),e}}isUrlAlreadyFavorited(e){return x(this,null,function*(){try{const t=yield this.getWallpaperList(),r=this.extractUrlCore(e);D.wallpaper.debug(" ",{checkingUrl:e,extractedCore:r,totalSavedWallpapers:t.length});const s=t.some(a=>{if(!a.sourceUrl)return!1;const i=this.extractUrlCore(a.sourceUrl),o=i===r;return o&&D.wallpaper.info(" ",{savedUrl:a.sourceUrl,savedCore:i,checkingCore:r}),o});return s||D.wallpaper.debug(" ",{checkingCore:r,savedCores:t.map(a=>a.sourceUrl?this.extractUrlCore(a.sourceUrl):"no-url")}),s}catch(t){return D.wallpaper.error("URL",t),!1}})}downloadAndSaveFromUrl(e,t){return x(this,null,function*(){try{if(D.wallpaper.info("URL",{url:e}),yield this.isUrlAlreadyFavorited(e))return D.wallpaper.info("",{url:e}),{success:!1,error:""};const s=yield fetch(e);if(!s.ok)throw new Error("");const a=yield s.blob();if(!this.ALLOWED_TYPES.includes(a.type))return{success:!1,error:""};if(a.size>this.MAX_FILE_SIZE)return{success:!1,error:`${(a.size/1024/1024).toFixed(2)}MB${this.MAX_FILE_SIZE/1024/1024}MB`};const i=this.generateId(),{width:o,height:l}=yield this.getImageDimensions(new File([a],"temp.jpg",{type:a.type})),u=a,d=yield this.generateThumbnail(u),c={id:i,name:t||`wallpaper-${Date.now()}.jpg`,size:u.size,uploadTime:Date.now(),width:o,height:l,sourceUrl:e};yield je.set(`${this.WALLPAPER_PREFIX}${i}`,u,365*24*60*60*1e3),yield je.set(`${this.THUMBNAIL_PREFIX}${i}`,d,365*24*60*60*1e3);const h=yield this.getWallpaperList();return h.push(c),yield this.saveWallpaperList(h),D.wallpaper.info("URL",{id:i,size:`${(a.size/1024/1024).toFixed(2)}MB`,sourceUrl:e}),{success:!0,id:i}}catch(r){return D.wallpaper.error("URL",r),{success:!1,error:r instanceof Error?r.message:""}}})}};ce(sr,"instance");let Qn=sr;const ei=Qn.getInstance(),Pt=class Pt{constructor(){ce(this,"loadingPromises",new Map);ce(this,"fallbackImage","/icon/favicon.png");ce(this,"cleanupTimer",null)}static getInstance(){return Pt.instance||(Pt.instance=new Pt,Pt.instance.startCleanupTimer()),Pt.instance}startCleanupTimer(){this.cleanupTimer===null&&(D.wallpaper.info("6"),this.performDailyCheck().catch(e=>{D.wallpaper.warn("",e)}),this.cleanupTimer=setInterval(()=>{Promise.all([this.cleanupExpiredCache(),this.performDailyCheck()]).catch(e=>{D.wallpaper.error("",e)})},6*60*60*1e3),typeof window!="undefined"&&window.addEventListener("beforeunload",()=>{this.stopCleanupTimer()}))}stopCleanupTimer(){this.cleanupTimer!==null&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null,D.wallpaper.info(""))}getTodayCacheKey(e){const t=new Date().toISOString().split("T")[0];return`wallpaper-optimized:${e}-${t}`}shouldForceRefresh(e){const t=localStorage.getItem(e),r=new Date().toISOString().split("T")[0];return!t||t!==r?(localStorage.setItem(e,r),!0):!1}performDailyCheck(){return x(this,null,function*(){try{const e=new Date().toISOString().split("T")[0],t="wallpaper-daily-check";if(localStorage.getItem(t)===e)return;D.wallpaper.info(""),localStorage.setItem(t,e);const s=["1080p","720p","4k","mobile"];for(const a of s){const i=this.getTodayCacheKey(a);(yield je.get(i))||(D.wallpaper.info(` ${a} `),this.updateWallpaperInBackground(a).catch(l=>{D.wallpaper.warn(` ${a} `,l)}))}yield this.cleanupExpiredCache()}catch(e){D.wallpaper.warn("",e)}})}getYesterdayCacheKey(e){const t=new Date;return t.setDate(t.getDate()-1),`wallpaper-optimized:${e}-${t.toISOString().split("T")[0]}`}getWallpaperUrl(e){return x(this,null,function*(){try{const t="https://wxheqargopbsrruootyr.supabase.co".replace(/\/$/,"");if(t){const s={"4k":"uhd","1080p":"1920x1080","720p":"1366x768",mobile:"mobile"}[e]||"1920x1080";return`${t}/functions/v1/wallpaper-service?resolution=${s}`}}catch(t){D.wallpaper.warn("Supabase",t)}return this.fallbackImage})}getSmartCache(e){return x(this,null,function*(){try{const t=this.getTodayCacheKey(e),r=yield je.get(t);if(r){D.wallpaper.info("");const l=yield this.getOriginalUrl(t);return{url:yield nt.createBlobUrl(r,"wallpaper"),isToday:!0,originalUrl:l}}const s=this.getYesterdayCacheKey(e),a=yield je.get(s);if(a){D.wallpaper.info("");const l=yield this.getOriginalUrl(s);return{url:yield nt.createBlobUrl(a,"wallpaper"),isToday:!1,originalUrl:l}}const o=(yield je.getAllKeys()).filter(l=>l.startsWith("wallpaper-optimized:")&&l.includes(e)&&!l.includes("-metadata"));if(o.length>0){o.sort().reverse();const l=o[0],u=yield je.get(l);if(u){D.wallpaper.info("",{key:l});const d=yield this.getOriginalUrl(l);return{url:yield nt.createBlobUrl(u,"wallpaper"),isToday:!1,originalUrl:d}}}}catch(t){D.wallpaper.warn("",t)}return null})}getOriginalUrl(e){return x(this,null,function*(){try{const t=`${e}-metadata`,r=yield je.get(t);if(r){const s=yield r.text();return JSON.parse(s).originalUrl}}catch(t){D.wallpaper.debug("",t)}})}downloadAndCache(e,t){return x(this,null,function*(){try{D.wallpaper.info("",{url:e.substring(0,50)});const r=e.includes("bing.com")||e.includes("unsplash.com")?`https://corsproxy.io/?${encodeURIComponent(e)}`:e,a=yield(yield Dg(r,{mode:"cors",headers:{Accept:"image/*"},signal:Mg(12e3)})).blob(),i=yield nt.createBlobUrl(a,"wallpaper"),o=this.getTodayCacheKey(t);je.set(o,a,48*60*60*1e3).then(()=>D.wallpaper.info("IndexedDB")).catch(u=>D.wallpaper.warn("",u));const l=`${o}-metadata`;return je.set(l,new Blob([JSON.stringify({originalUrl:e})],{type:"application/json"}),48*60*60*1e3).then(()=>D.wallpaper.info("")).catch(u=>D.wallpaper.warn("",u)),D.wallpaper.info("",{size:`${(a.size/1024/1024).toFixed(2)}MB`,originalUrl:e}),{blobUrl:i,originalUrl:e}}catch(r){throw D.wallpaper.error("",r),r}})}getWallpaper(e){return x(this,null,function*(){const t=`loading-${e}`;if(this.loadingPromises.has(t)){const s=yield this.loadingPromises.get(t);return D.wallpaper.debug("",{resolution:e,isFromCache:s.isFromCache}),s}const r=this._getWallpaperInternal(e);this.loadingPromises.set(t,r);try{return yield r}finally{this.loadingPromises.delete(t)}})}_getWallpaperInternal(e){return x(this,null,function*(){try{if(e==="custom"){const o=yield ei.getCurrentWallpaper();return o?(D.wallpaper.info(" IndexedDB  Blob URL"),{url:o,isFromCache:!0,isToday:!0,needsUpdate:!1}):(D.wallpaper.warn(""),{url:this.fallbackImage,isFromCache:!1,isToday:!0,needsUpdate:!1})}const t=`wallpaper-last-update-${e}`;this.shouldForceRefresh(t)&&(D.wallpaper.info(""),yield this.clearTodayCache(e));const s=yield this.getSmartCache(e);if(s)if(!s.originalUrl&&s.isToday)D.wallpaper.warn("  originalUrl"),yield this.clearTodayCache(e);else if(s.originalUrl){const o={url:s.url,isFromCache:!0,isToday:s.isToday,needsUpdate:!s.isToday,originalUrl:s.originalUrl};return s.isToday||(D.wallpaper.info(""),this.updateWallpaperInBackground(e).catch(l=>{D.wallpaper.warn("",l)})),o}else{D.wallpaper.warn("  originalUrl");const o={url:s.url,isFromCache:!0,isToday:s.isToday,needsUpdate:!0,originalUrl:s.originalUrl};return this.updateWallpaperInBackground(e).catch(l=>{D.wallpaper.warn("",l)}),o}D.wallpaper.info("");const a=yield this.getWallpaperUrl(e);if(a===this.fallbackImage)return{url:a,isFromCache:!1,isToday:!0,needsUpdate:!1};const i=yield this.downloadAndCache(a,e);return{url:i.blobUrl,isFromCache:!1,isToday:!0,needsUpdate:!1,originalUrl:i.originalUrl}}catch(t){const r=gi.handleError(t,"wallpaper-load");return D.wallpaper.error("",r),{url:this.fallbackImage,isFromCache:!1,isToday:!0,needsUpdate:!1}}})}updateWallpaperInBackground(e){return x(this,null,function*(){try{const t=yield this.getWallpaperUrl(e);t!==this.fallbackImage&&(yield this.downloadAndCache(t,e),D.wallpaper.info(""))}catch(t){D.wallpaper.warn("",t)}})}preloadWallpapers(){return x(this,null,function*(){if(!("requestIdleCallback"in window))return;const e=["1080p","720p","4k","mobile"];for(const t of e)yield new Promise(r=>{requestIdleCallback(()=>x(this,null,function*(){try{const s=yield this.getSmartCache(t);(!s||!s.isToday)&&(D.wallpaper.debug(` ${t} `),yield this.getWallpaper(t))}catch(s){D.wallpaper.warn(` ${t} `,s)}r()}))})})}cleanupExpiredCache(){return x(this,null,function*(){try{const t=(yield je.getAllKeys()).filter(i=>i.startsWith("wallpaper-optimized:")),r=new Date;r.setDate(r.getDate()-3);const s=r.toISOString().split("T")[0];let a=0;for(const i of t){const o=i.match(/(\d{4}-\d{2}-\d{2})/);o&&o[1]<s&&(yield je.delete(i),a++)}a>0&&D.wallpaper.info(` ${a} `)}catch(e){D.wallpaper.warn("",e)}})}clearCacheForDate(e,t){return x(this,null,function*(){try{const r=t||new Date().toISOString().split("T")[0],s=`wallpaper-optimized:${e}-${r}`;yield je.delete(s),D.wallpaper.info("",{key:s})}catch(r){D.wallpaper.warn("",r)}})}clearTodayCache(e){return x(this,null,function*(){yield this.clearCacheForDate(e)})}getCacheStats(){return x(this,null,function*(){try{const t=(yield je.getAllKeys()).filter(i=>i.startsWith("wallpaper-optimized:")),r=new Date().toISOString().split("T")[0],s=t.filter(i=>i.includes(r));let a=0;for(const i of t)try{const o=yield je.get(i);o&&(a+=o.size)}catch(o){}return{totalCount:t.length,todayCount:s.length,totalSize:a,cacheKeys:t}}catch(e){return D.wallpaper.warn("",e),{totalCount:0,todayCount:0,totalSize:0,cacheKeys:[]}}})}};ce(Pt,"instance");let ti=Pt;const ri=ti.getInstance();typeof window!="undefined"&&"requestIdleCallback"in window&&requestIdleCallback(()=>{ri.preloadWallpapers().catch(n=>{D.wallpaper.error("",n)})});function Lg(n,e=[]){const t=A.useRef(null),r=A.useRef(),s=A.useCallback((...i)=>{r.current=i,t.current===null&&(t.current=requestAnimationFrame(()=>{t.current=null,r.current&&n(...r.current)}))},e),a=A.useCallback(()=>{t.current!==null&&(cancelAnimationFrame(t.current),t.current=null)},[]);return Object.assign(s,{cancel:a})}function Bg(n,e=!0){const t=Lg(n,[e]);return A.useCallback(s=>{e&&t(s)},[t,e])}const lt={log:(...n)=>{},warn:(...n)=>{},error:(...n)=>{console.error(...n)},debug:(...n)=>{},info:(...n)=>{}};function Ug({websites:n,setWebsites:e,dataInitialized:t=!0}){const{parallaxEnabled:r,wallpaperResolution:s,isSettingsOpen:a,autoSortEnabled:i,isSearchFocused:o}=Ft(),{isWorkspaceOpen:l,setIsWorkspaceOpen:u}=su(),{isMobile:d,getGridClasses:c,getSearchBarLayout:h}=di();Rg(n,t);const m=(L,Y)=>{const Z=[...n],[ge]=Z.splice(L,1);Z.splice(Y,0,ge),e(Z)},[b,g]=A.useState(""),[p,y]=A.useState(),[I,v]=A.useState(!1),[_,R]=A.useState(!1),[$,O]=A.useState({x:0,y:0}),[N,k]=A.useState(!1),[T,q]=A.useState(!1),[W,M]=A.useState(!1);A.useEffect(()=>{x(null,null,function*(){if(!p||s==="custom"){M(!1);return}const Y=yield ei.isUrlAlreadyFavorited(p);M(Y),console.log(" []",{bgOriginalUrl:p?"URL":"URL",isAlreadyFavorited:Y})})},[p,s]),A.useEffect(()=>{console.log(" []",{wallpaperResolution:s,bgImage:b?"":"",bgOriginalUrl:p||"URL",isSearchFocused:o,shouldShow:s!=="custom"&&b,isAlreadyFavorited:W})},[s,b,p,o,W]);const ue=L=>x(null,null,function*(){var Y;if(L.preventDefault(),L.stopPropagation(),!(N||!p||s==="custom"||W)){k(!0);try{const Z=yield ei.downloadAndSaveFromUrl(p,`unsplash-${s}-${Date.now()}.jpg`);Z.success?(q(!0),M(!0),lt.debug(" ",{id:Z.id}),setTimeout(()=>{q(!1)},3e3)):(lt.warn(" ",Z.error),(Y=Z.error)!=null&&Y.includes("")&&M(!0),alert(`: ${Z.error||""}`))}catch(Z){lt.error("",Z),alert("")}finally{k(!1)}}});A.useEffect(()=>{x(null,null,function*(){try{lt.debug(" ");const Y=new Date().toISOString().split("T")[0],Z=`last-wallpaper-date-${s}`,Ne=localStorage.getItem(Z)!==Y;Ne&&(localStorage.setItem(Z,Y),lt.debug(" "));const be=yield ri.getWallpaper(s);be.url&&be.isFromCache?(g(be.url),y(be.originalUrl),v(!0),lt.debug(" ",{isToday:be.isToday}),(!be.isToday||Ne)&&lt.warn(" ")):be.url&&(g(be.url),y(be.originalUrl),v(!0),lt.debug(" "))}catch(Y){}})},[]);const oe=i?[...n].sort((L,Y)=>{const Z=(Y.visitCount||0)-(L.visitCount||0);if(Z!==0)return Z;const ge=new Date(L.lastVisit||"2000-01-01").getTime();return new Date(Y.lastVisit||"2000-01-01").getTime()-ge}):n,te=L=>{e(n.map(Y=>Y.id===L.id?C(C({},Y),L):Y))};A.useEffect(()=>{x(null,null,function*(){try{lt.debug(" :",s),v(!1);const L=yield ri.getWallpaper(s);L.url?(lt.debug(L.isFromCache?" ":" "),g(L.url),y(L.originalUrl),v(!0)):(lt.warn(" "),g(""),y(void 0),v(!0))}catch(L){g(""),y(void 0),v(!0)}})},[s]),A.useEffect(()=>{if(n.length>0){const L=setTimeout(()=>{Mt.preloadFavicons(n).catch(Y=>{console.warn(":",Y)})},500);return()=>clearTimeout(L)}},[n]);const ye=A.useCallback(L=>{O({x:L.clientX,y:L.clientY})},[]),me=Bg(ye,r&&!a&&!o);A.useEffect(()=>{if(!r||a||o){O({x:0,y:0});return}return window.addEventListener("mousemove",me,{passive:!0}),()=>{window.removeEventListener("mousemove",me)}},[r,a,o,me]),A.useEffect(()=>{if(n.length>0){const L=setTimeout(()=>{Mt.batchCacheFaviconsToIndexedDB(n).then(()=>{}).catch(Y=>{})},2e3);return()=>clearTimeout(L)}},[n]);const Ce=(()=>{const L=h(),Y=c();return{container:`relative min-h-screen ${d?"pt-[25vh]":"pt-[33vh]"}`,searchContainer:L.containerClass,cardContainer:`${d?"pt-8 pb-4":"pt-16 pb-8"} px-4 max-w-6xl mx-auto`,gridLayout:Y,userInfo:d?"fixed top-2 right-2 z-40 scale-90":"fixed top-4 right-4 z-40",workspaceButton:d?"fixed top-2 left-2 z-40 scale-90":"fixed top-4 left-4 z-40",settingsButton:d?"fixed bottom-2 right-2 z-[9999] p-2 bg-white/10 rounded-full backdrop-blur-sm":"fixed bottom-4 right-4 z-[9999]"}})();return f.jsxs(f.Fragment,{children:[f.jsx($g,{}),f.jsx("div",{className:"fixed top-0 left-0 w-full h-full -z-10",style:{backgroundImage:b?`url(${b})`:void 0,backgroundSize:"cover",backgroundPosition:d?"center center":"center top",backgroundRepeat:"no-repeat",filter:I?"none":"blur(2px)",transform:!a&&!o&&r&&!d&&$?`translate(${$.x*.02}px, ${$.y*.02}px) scale(1.05)`:"translate(0px, 0px) scale(1)",transition:"filter 1.5s ease-out, transform 0.3s ease-out"}}),b&&f.jsx("div",{className:"fixed top-0 left-0 w-full h-full -z-10",style:{background:d?"linear-gradient(to bottom, rgba(30, 41, 59, 0.6) 0%, rgba(30, 41, 59, 0.4) 50%, rgba(30, 41, 59, 0.2) 100%)":"linear-gradient(to bottom, rgba(30, 41, 59, 0.7) 0%, rgba(30, 41, 59, 0.3) 50%, rgba(30, 41, 59, 0.1) 100%)",opacity:I?0:1,transition:"opacity 1.5s ease-out",pointerEvents:"none"}}),!I&&b&&f.jsx("div",{className:`fixed ${d?"top-2 left-2":"top-4 left-4"} z-40 bg-black/30 backdrop-blur-sm rounded-lg px-4 py-2`,children:f.jsxs("div",{className:"text-white/90 text-sm font-medium flex items-center space-x-2",children:[f.jsx("div",{className:"animate-pulse rounded-full h-2 w-2 bg-white/70"}),f.jsx("span",{className:d?"text-xs":"text-sm",children:""})]})}),f.jsxs("div",{className:Ce.container,children:[f.jsx("nav",{className:"sr-only",children:f.jsxs("ul",{children:[f.jsx("li",{children:f.jsx("a",{href:"#main-content",children:""})}),f.jsx("li",{children:f.jsx("a",{href:"#search",children:""})}),f.jsx("li",{children:f.jsx("a",{href:"#bookmarks",children:""})})]})}),f.jsxs("div",{className:`${Ce.searchContainer} relative`,id:"main-content",children:[f.jsx("h1",{className:"sr-only",children:"AI  claude coze kiro coplit ******new tab**,**AI tab**,**notion tab**,********"}),f.jsx("p",{className:"sr-only",children:" ClaudeCozeKiroCopilot AI "}),f.jsx(ug,{}),f.jsx(cg,{websites:n,onOpenSettings:()=>R(!0)})]}),f.jsx("div",{className:Ce.cardContainer,children:f.jsx(Se.div,{className:Ce.gridLayout,initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:oe.map((L,Y)=>{const Z=i?n.findIndex(ge=>ge.id===L.id):Y;return f.jsx(Ap,ee(C({},L),{index:Z,moveCard:m,onSave:te,onDelete:ge=>{e(n.filter(Ne=>Ne.id!==ge))}}),L.id)})})}),_&&f.jsx(Ng,{onClose:()=>R(!1),websites:n,setWebsites:e}),f.jsx(Se.div,{className:Ce.workspaceButton,animate:{opacity:o?0:1,scale:o?.8:1},transition:{duration:.3,ease:"easeInOut"},children:f.jsxs("div",{className:"relative group",children:[f.jsx("button",{onClick:()=>u(!0),className:"flex items-center justify-center transition-all duration-200 cursor-pointer p-2",children:f.jsx("i",{className:`fa-solid fa-briefcase text-white/70 group-hover:text-white group-hover:drop-shadow-lg transition-all duration-200 ${d?"text-sm":"text-lg"}`})}),f.jsxs("div",{className:"absolute left-1/2 transform -translate-x-1/2 top-full mt-2 px-3 py-1.5 bg-gray-900/90 text-white text-xs rounded-lg shadow-lg backdrop-blur-sm border border-white/10 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-all duration-200 pointer-events-none z-50",children:["",f.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-b-4 border-l-transparent border-r-transparent border-b-gray-900/90"})]})]})}),s!=="custom"&&b&&f.jsx(Se.div,{className:d?"fixed top-2 right-2 z-40 scale-90":"fixed top-4 right-4 z-40",initial:{opacity:0,scale:.8},animate:{opacity:o?1:0,scale:o?1:.8},transition:{duration:.3,ease:"easeInOut"},children:f.jsxs("div",{className:"relative group",children:[f.jsx("button",{onClick:ue,disabled:N||W,className:"flex items-center justify-center transition-all duration-300 cursor-pointer hover:scale-110 disabled:cursor-default",children:N?f.jsx("i",{className:"fa-solid fa-spinner fa-spin text-white/80 text-lg drop-shadow-lg"}):f.jsx("i",{className:`fa-${W||T?"solid":"regular"} fa-heart transition-all duration-300 drop-shadow-lg ${W||T?"text-red-500 text-xl":"text-white/70 hover:text-white text-lg"}`})}),!N&&!T&&!W&&f.jsxs("div",{className:"absolute right-0 top-full mt-2 px-4 py-2 bg-gray-900/90 text-white text-sm rounded-lg shadow-lg backdrop-blur-sm border border-white/10 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-all duration-200 pointer-events-none z-50",children:["",f.jsx("div",{className:"absolute bottom-full right-4 w-0 h-0 border-l-4 border-r-4 border-b-4 border-l-transparent border-r-transparent border-b-gray-900/90"})]}),!N&&W&&!T&&f.jsxs("div",{className:"absolute right-0 top-full mt-2 px-4 py-2 bg-red-500/90 text-white text-sm rounded-lg shadow-lg backdrop-blur-sm border border-red-400/30 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-all duration-200 pointer-events-none z-50",children:[" ",f.jsx("div",{className:"absolute bottom-full right-4 w-0 h-0 border-l-4 border-r-4 border-b-4 border-l-transparent border-r-transparent border-b-red-500/90"})]}),T&&f.jsxs("div",{className:"absolute right-0 top-full mt-2 px-4 py-2 bg-green-500/90 text-white text-sm rounded-lg shadow-lg backdrop-blur-sm border border-green-400/30 whitespace-nowrap z-50",children:[" ",f.jsx("div",{className:"absolute bottom-full right-4 w-0 h-0 border-l-4 border-r-4 border-b-4 border-l-transparent border-r-transparent border-b-green-500/90"})]})]})}),f.jsx(Se.div,{className:Ce.settingsButton,animate:{opacity:o?0:1,scale:o?.8:1},transition:{duration:.3,ease:"easeInOut"},children:f.jsx("button",{onClick:()=>R(!0),className:"p-2 text-white/70 hover:text-white transition-colors","aria-label":"",children:f.jsx("i",{className:`fa-solid fa-sliders ${d?"text-base":"text-lg"}`})})}),f.jsx(dg,{}),!d&&f.jsx(fg,{}),f.jsx(Pg,{isOpen:l,onClose:()=>u(!1)})]})]})}function Fg(){const[n,e]=A.useState(""),[t,r]=A.useState(""),[s,a]=A.useState(""),[i,o]=A.useState(!1),[l,u]=A.useState(!1),d=rd(),{updatePassword:c}=Kr();A.useEffect(()=>{const m=window.location.hash;(!m||!m.includes("type=recovery"))&&a("")},[]);const h=m=>x(null,null,function*(){if(m.preventDefault(),a(""),!n||!t){a("");return}if(n.length<6){a("6");return}if(n!==t){a("");return}o(!0);try{yield c(n),u(!0),setTimeout(()=>{d("/")},3e3)}catch(b){console.error(":",b),a(b.message||"")}finally{o(!1)}});return l?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:f.jsx(Se.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx("i",{className:"fa-solid fa-check text-green-500 text-2xl"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:""}),f.jsx("p",{className:"text-gray-600 mb-6",children:"..."}),f.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-500",children:[f.jsx("i",{className:"fa-solid fa-spinner fa-spin"}),f.jsx("span",{children:"..."})]})]})})}):f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:f.jsxs(Se.div,{initial:{scale:.8,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",damping:20,stiffness:300},className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx("i",{className:"fa-solid fa-key text-blue-500 text-2xl"})}),f.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:""}),f.jsx("p",{className:"text-gray-600",children:""})]}),s&&f.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("i",{className:"fa-solid fa-exclamation-circle text-red-500"}),f.jsx("p",{className:"text-sm text-red-700",children:s})]})}),f.jsxs("form",{onSubmit:h,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),f.jsx("input",{type:"password",value:n,onChange:m=>e(m.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"6",disabled:i,minLength:6})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),f.jsx("input",{type:"password",value:t,onChange:m=>r(m.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"",disabled:i,minLength:6})]}),f.jsx("button",{type:"submit",disabled:i||!n||!t,className:"w-full bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 disabled:from-gray-400 disabled:to-gray-500 text-white py-3 px-4 rounded-lg font-medium transition-all shadow-lg hover:shadow-xl transform hover:scale-[1.02] disabled:transform-none",children:i?f.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[f.jsx("i",{className:"fa-solid fa-spinner fa-spin"}),f.jsx("span",{children:"..."})]}):f.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[f.jsx("i",{className:"fa-solid fa-check"}),f.jsx("span",{children:""})]})})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsx("button",{onClick:()=>d("/"),className:"text-sm text-blue-500 hover:text-blue-600 transition-colors",children:""})})]})})}const Tu=A.createContext(void 0);function hm(){const n=A.useContext(Tu);if(n===void 0)throw new Error("useUserProfile must be used within a UserProfileProvider");return n}function qg({children:n}){const{currentUser:e}=Kr(),[t,r]=A.useState(null),[s,a]=A.useState(!1),i=(t==null?void 0:t.displayName)||"",o=u=>x(null,null,function*(){if(!e||!e.email_confirmed_at)return!1;a(!0);try{return(yield Rc(e,u))?(r(c=>c?ee(C({},c),{displayName:u,updatedAt:new Date().toISOString()}):null),!0):!1}catch(d){return console.error(":",d),!1}finally{a(!1)}});A.useEffect(()=>{x(null,null,function*(){var d;if(e&&e.email_confirmed_at){a(!0);try{const c=yield $c(e);if(c)r(c);else{const h=((d=e.email)==null?void 0:d.split("@")[0])||"";yield Rc(e,h);const m=yield $c(e);r(m)}}catch(c){console.error(":",c)}finally{a(!1)}}else r(null)})},[e]);const l={userProfile:t,displayName:i,updateDisplayName:o,loading:s};return f.jsx(Tu.Provider,{value:l,children:n})}const Wg=()=>{A.useEffect(()=>{document.title="";const n=()=>{document.hidden?document.title="":document.title=""};return document.addEventListener("visibilitychange",n),()=>{document.removeEventListener("visibilitychange",n)}},[])};class Zg{constructor(){ce(this,"preloadedResources",new Set);ce(this,"preloadQueue",[]);ce(this,"isProcessing",!1);ce(this,"maxConcurrent",6)}preloadImage(e){return x(this,null,function*(){return this.preloadedResources.has(e)?!0:new Promise(t=>{const r=new Image;r.onload=()=>{this.preloadedResources.add(e),t(!0)},r.onerror=()=>{t(!1)},r.src=e})})}preloadImages(e){return x(this,null,function*(){const t=e.filter(r=>!this.preloadedResources.has(r));if(t.length!==0)for(let r=0;r<t.length;r+=this.maxConcurrent){const s=t.slice(r,r+this.maxConcurrent);yield Promise.allSettled(s.map(a=>this.preloadImage(a)))}})}queuePreload(e){!this.preloadedResources.has(e)&&!this.preloadQueue.includes(e)&&(this.preloadQueue.push(e),this.processQueue())}processQueue(){return x(this,null,function*(){if(!(this.isProcessing||this.preloadQueue.length===0)){this.isProcessing=!0;try{"requestIdleCallback"in window?yield new Promise(e=>{requestIdleCallback(()=>{this.processBatch(),e()},{timeout:100})}):yield new Promise(e=>{setTimeout(()=>{this.processBatch(),e()},8)})}finally{this.isProcessing=!1,this.preloadQueue.length>0&&setTimeout(()=>this.processQueue(),50)}}})}processBatch(){return x(this,null,function*(){const e=this.preloadQueue.splice(0,this.maxConcurrent);e.length!==0&&(yield Promise.allSettled(e.map(t=>this.preloadImage(t))))})}preloadFont(e,t){const r=document.createElement("link");if(r.rel="preload",r.as="font",r.type="font/woff2",r.crossOrigin="anonymous",r.href=e,document.head.appendChild(r),"FontFace"in window){const s=new FontFace(t,`url(${e})`);s.load().then(()=>{document.fonts.add(s)}).catch(()=>{})}}preloadCSS(e){const t=document.createElement("link");t.rel="preload",t.as="style",t.href=e,t.onload=()=>{t.rel="stylesheet"},document.head.appendChild(t)}getStats(){return{preloaded:this.preloadedResources.size,queued:this.preloadQueue.length}}clear(){this.preloadedResources.clear(),this.preloadQueue.length=0}}const fn=new Zg;function Hg(n=!0){return A.useEffect(()=>{if(!n)return;const s=setTimeout(()=>{["https://api.allorigins.win","https://www.bing.com","https://source.unsplash.com","https://www.google.com","https://icons.duckduckgo.com","https://favicon.im"].forEach(o=>{const l=document.createElement("link");l.rel="preconnect",l.href=o,document.head.querySelector(`link[href="${o}"]`)||document.head.appendChild(l)}),document.querySelector('.fa, .fas, .far, .fab, [class*="fa-"]')&&["https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/webfonts/fa-solid-900.woff2"].forEach(l=>{fn.queuePreload(l)})},2e3);return()=>{clearTimeout(s)}},[n]),{preloadFavicons:s=>{const a=s.map(i=>i.favicon);fn.preloadImages(a)},preloadImage:s=>{fn.queuePreload(s)},getPreloadStats:()=>fn.getStats()}}function zg(n=!0){const{currentUser:e}=Kr(),[t,r]=A.useState({cloudWebsites:null,cloudSettings:null,loading:!1,error:null}),s=A.useRef(!1),a=A.useRef(null),i=A.useRef(!1),o=A.useCallback(()=>x(null,null,function*(){if(s.current){console.log(" ");return}if(console.log(" loadCloudData :",{hasUser:!!e,userId:e==null?void 0:e.id,emailConfirmed:!!(e!=null&&e.email_confirmed_at),userEmail:e==null?void 0:e.email,emailConfirmedAt:e==null?void 0:e.email_confirmed_at,userObject:e}),!e){console.log("  - "),r(u=>ee(C({},u),{error:"",loading:!1}));return}if(!e.email_confirmed_at){console.log("  - ",{email:e.email,emailConfirmedAt:e.email_confirmed_at,createdAt:e.created_at}),r(u=>ee(C({},u),{error:"",loading:!1}));return}console.log(" ..."),s.current=!0,r(u=>ee(C({},u),{loading:!0,error:null}));try{console.log(" Supabase...",{userId:e.id,userEmail:e.email,emailConfirmed:e.email_confirmed_at,createdAt:e.created_at});const[u,d]=yield Promise.allSettled([kc(e),Cc(e)]),c=u.status==="fulfilled"?u.value:null,h=d.status==="fulfilled"?d.value:null;console.log(" :",{websitesStatus:u.status,websitesCount:(c==null?void 0:c.length)||0,websitesData:c,settingsStatus:d.status,hasSettings:!!h,settingsData:h}),u.status==="rejected"&&console.error(" :",{error:u.reason,userId:e.id,userEmail:e.email}),d.status==="rejected"&&console.error(" :",{error:d.reason,userId:e.id,userEmail:e.email}),r({cloudWebsites:c,cloudSettings:h,loading:!1,error:null}),i.current=!0,console.log(" :",{websites:(c==null?void 0:c.length)||0,hasSettings:!!h}),u.status==="rejected"&&console.warn(":",u.reason),d.status==="rejected"&&console.warn(":",d.reason)}catch(u){console.error(" :",u),r(d=>ee(C({},d),{loading:!1,error:": "+u.message}))}finally{s.current=!1}}),[e]),l=A.useCallback(u=>t.cloudWebsites?Ig(u,t.cloudWebsites):u,[t.cloudWebsites]);return A.useEffect(()=>{const u=e==null?void 0:e.id,d=!!(e!=null&&e.email_confirmed_at);console.log(" useCloudData useEffect :",{enabled:n,hasUser:!!e,emailConfirmed:d,userId:u,lastUserId:a.current,hasInitialLoad:i.current,isLoading:s.current});const c=a.current!==u;n&&e&&d?(c||!i.current&&!s.current?(console.log(" ..."),r({cloudWebsites:null,cloudSettings:null,loading:!1,error:null}),i.current=!1,setTimeout(()=>{o()},100)):console.log(" "),a.current=u||null):e?(console.log(" :",{enabled:n,hasUser:!!e,emailConfirmed:d,emailConfirmedAt:e==null?void 0:e.email_confirmed_at}),r(h=>ee(C({},h),{loading:!1}))):(console.log(" "),r({cloudWebsites:null,cloudSettings:null,loading:!1,error:null}),a.current=null,i.current=!1)},[e==null?void 0:e.id,e==null?void 0:e.email_confirmed_at,n]),A.useEffect(()=>{const u=d=>{var h;const c=(h=d.detail)==null?void 0:h.user;console.log(" :",{hasUser:!!c,emailConfirmed:!!(c!=null&&c.email_confirmed_at),userEmail:c==null?void 0:c.email}),c&&c.email_confirmed_at?(console.log(" "),x(null,null,function*(){if(s.current){console.log(" ");return}console.log(" loadCloudData  ():",{hasUser:!!c,userId:c==null?void 0:c.id,emailConfirmed:!!(c!=null&&c.email_confirmed_at),userEmail:c==null?void 0:c.email,emailConfirmedAt:c==null?void 0:c.email_confirmed_at}),console.log(" ..."),s.current=!0,r(b=>ee(C({},b),{loading:!0,error:null}));try{console.log(" Supabase...",{userId:c.id,userEmail:c.email,emailConfirmed:c.email_confirmed_at,createdAt:c.created_at});const[b,g]=yield Promise.allSettled([kc(c),Cc(c)]),p=b.status==="fulfilled"?b.value:null,y=g.status==="fulfilled"?g.value:null;console.log(" :",{websitesStatus:b.status,websitesCount:(p==null?void 0:p.length)||0,websitesData:p,settingsStatus:g.status,hasSettings:!!y,settingsData:y}),r({cloudWebsites:p,cloudSettings:y,loading:!1,error:null}),i.current=!0,console.log(" :",{websites:(p==null?void 0:p.length)||0,hasSettings:!!y})}catch(b){console.error(" :",b),r(g=>ee(C({},g),{loading:!1,error:": "+b.message}))}finally{s.current=!1}})):console.log(" ")};return console.log(" "),window.addEventListener("userSignedIn",u),()=>{console.log(" "),window.removeEventListener("userSignedIn",u)}},[]),ee(C({},t),{loadCloudData:o,mergeWithLocalData:l,hasCloudData:!!t.cloudWebsites||!!t.cloudSettings})}function Kg({onAccept:n,onDecline:e,onCustomize:t}){const[r,s]=A.useState(!1),[a,i]=A.useState(!1);A.useEffect(()=>{if(!localStorage.getItem("cookie-consent")){const c=setTimeout(()=>{s(!0),i(!0)},2e3);return()=>clearTimeout(c)}},[]);const o=()=>{localStorage.setItem("cookie-consent","accepted"),localStorage.setItem("cookie-consent-date",new Date().toISOString()),i(!1),setTimeout(()=>{s(!1),n==null||n()},300),console.log(" Cookie")},l=()=>{localStorage.setItem("cookie-consent","declined"),localStorage.setItem("cookie-consent-date",new Date().toISOString()),i(!1);try{const d=["cookie-consent","cookie-consent-date"],c=[];for(let h=0;h<localStorage.length;h++){const m=localStorage.key(h);m&&!d.includes(m)&&c.push(m)}c.forEach(h=>localStorage.removeItem(h))}catch(d){console.error(":",d)}setTimeout(()=>{s(!1),e==null||e()},300),console.log(" Cookie")},u=()=>{t==null||t()};return r?f.jsx(nr,{children:a&&f.jsxs(f.Fragment,{children:[f.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/20 z-[9998] pointer-events-none"}),f.jsxs(Se.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",damping:25,stiffness:200},className:"fixed bottom-0 left-0 right-0 z-[9999] bg-white border-t border-gray-200 shadow-2xl",role:"dialog","aria-label":"Cookie consent banner","data-nosnippet":!0,"data-noindex":!0,children:[f.jsx("div",{className:"max-w-7xl mx-auto p-4 sm:p-6","data-nosnippet":!0,children:f.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"flex-shrink-0 mt-1",children:f.jsx("i",{className:"fa-solid fa-cookie-bite text-amber-500 text-xl"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:" Cookie"}),f.jsxs("p",{className:"text-sm text-gray-600 leading-relaxed",children:["Cookie",f.jsx("br",{}),f.jsxs("span",{className:"inline-flex items-center gap-4 mt-1 text-xs",children:[f.jsx("span",{children:" "}),f.jsx("span",{children:" "}),f.jsx("span",{children:" "}),f.jsx("span",{children:" "})]})]}),f.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Cookie",f.jsx("button",{className:"text-blue-600 hover:text-blue-800 underline mx-1",onClick:()=>window.open("https://github.com/your-repo/privacy-policy","_blank"),children:""})]})]})]})}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[f.jsxs("button",{onClick:u,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[f.jsx("i",{className:"fa-solid fa-cog mr-2"}),""]}),f.jsxs("button",{onClick:l,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[f.jsx("i",{className:"fa-solid fa-times mr-2"}),""]}),f.jsxs("button",{onClick:o,className:"px-6 py-2 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium",children:[f.jsx("i",{className:"fa-solid fa-check mr-2"}),""]})]})]})}),f.jsx("div",{className:"h-1 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500"})]})]})}):null}const ar=class ar{constructor(){ce(this,"consentCache",null);ce(this,"cacheTimestamp",0);ce(this,"CACHE_DURATION",1e3)}static getInstance(){return ar.instance||(ar.instance=new ar),ar.instance}refreshConsentCache(){try{const e=localStorage.getItem("cookie-consent");return e==="accepted"?this.consentCache="accepted":e==="declined"?this.consentCache="declined":this.consentCache="pending",this.cacheTimestamp=Date.now(),this.consentCache}catch(e){return this.consentCache="pending",this.cacheTimestamp=Date.now(),"pending"}}hasConsent(){const e=Date.now();return(!this.consentCache||e-this.cacheTimestamp>this.CACHE_DURATION)&&this.refreshConsentCache(),this.consentCache==="accepted"}updateConsentStatus(e){try{localStorage.setItem("cookie-consent",e),this.consentCache=e,this.cacheTimestamp=Date.now()}catch(t){}}getConsentStatus(){const e=Date.now();return!this.consentCache||e-this.cacheTimestamp>this.CACHE_DURATION?this.refreshConsentCache():this.consentCache}setItem(e,t,r=!1){try{return r||this.hasConsent()?(localStorage.setItem(e,t),!0):!1}catch(s){return!1}}getItem(e,t=!1){try{return t||this.hasConsent()?localStorage.getItem(e):null}catch(r){return null}}removeItem(e,t=!1){try{return t||this.hasConsent()?(localStorage.removeItem(e),!0):!1}catch(r){return!1}}getAllKeys(e=!0){try{if(!this.hasConsent()&&!e)return[];const t=[],r=["cookie-consent","cookie-consent-date"];for(let s=0;s<localStorage.length;s++){const a=localStorage.key(s);a&&(e||!r.includes(a))&&t.push(a)}return t}catch(t){return[]}}clearNonEssentialData(){const e=["cookie-consent","cookie-consent-date"];this.getAllKeys(!0).forEach(r=>{if(!e.includes(r))try{localStorage.removeItem(r)}catch(s){}})}getStorageStats(){const e=this.getAllKeys(!0),t=["cookie-consent","cookie-consent-date"],r=e.filter(a=>!t.includes(a)).length;let s=0;return e.forEach(a=>{try{const i=localStorage.getItem(a)||"";s+=a.length+i.length}catch(i){}}),{totalKeys:e.length,essentialKeys:t.filter(a=>e.includes(a)).length,nonEssentialKeys:r,consentRequired:!this.hasConsent()&&r>0,storageUsed:`${Math.round(s/1024*100)/100} KB`}}exportData(){if(!this.hasConsent())return null;const e={};return this.getAllKeys(!1).forEach(r=>{try{const s=localStorage.getItem(r);s&&(e[r]=JSON.parse(s))}catch(s){e[r]=localStorage.getItem(r)}}),{exportTime:new Date().toISOString(),consentStatus:this.getConsentStatus(),data:e}}};ce(ar,"instance");let si=ar;const Je=si.getInstance();function Gg(){return{setItem:(r,s,a=!1)=>{const i=typeof s=="string"?s:JSON.stringify(s);return Je.setItem(r,i,a)},getItem:(r,s=!1)=>{const a=Je.getItem(r,s);if(!a)return null;try{return JSON.parse(a)}catch(i){return a}},removeItem:(r,s=!1)=>Je.removeItem(r,s),hasConsent:()=>Je.hasConsent(),getConsentStatus:()=>Je.getConsentStatus(),getStats:()=>Je.getStorageStats(),clearNonEssential:()=>Je.clearNonEssentialData(),exportData:()=>Je.exportData()}}function Vg({isOpen:n,onClose:e}){const[t,r]=A.useState(()=>Je.getStorageStats()),[s,a]=A.useState(()=>Je.getConsentStatus());A.useEffect(()=>{n&&(r(Je.getStorageStats()),a(Je.getConsentStatus()))},[n]),A.useEffect(()=>{if(!n)return;const u=d=>{d.key==="Escape"&&e()};return document.addEventListener("keydown",u),()=>{document.removeEventListener("keydown",u)}},[n,e]);const i=()=>{const u=s==="accepted"?"declined":"accepted";u==="accepted"?(localStorage.setItem("cookie-consent","accepted"),localStorage.setItem("cookie-consent-date",new Date().toISOString())):(localStorage.setItem("cookie-consent","declined"),localStorage.setItem("cookie-consent-date",new Date().toISOString()),Je.clearNonEssentialData()),a(u),r(Je.getStorageStats())},o=()=>{confirm(` 


`)&&(Je.clearNonEssentialData(),r(Je.getStorageStats()),alert(" "))},l=()=>{const u=Je.exportData();if(!u){alert(" Cookie");return}const d=new Blob([JSON.stringify(u,null,2)],{type:"application/json"}),c=URL.createObjectURL(d),h=document.createElement("a");h.href=c,h.download=`_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(c),alert(" ")};return n?f.jsx(nr,{children:f.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",children:[f.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:e}),f.jsxs(Se.div,{className:"w-full max-w-2xl bg-white rounded-xl shadow-2xl z-50 max-h-[90vh] flex flex-col mx-4",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:20,stiffness:300},children:[f.jsx("div",{className:"p-6 pb-0",children:f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("i",{className:"fa-solid fa-shield-halved text-blue-600 text-2xl"}),f.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:""})]}),f.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 text-xl",children:f.jsx("i",{className:"fa-solid fa-xmark"})})]})}),f.jsxs("div",{className:"flex-1 px-6 py-4 space-y-6 overflow-y-auto",children:[f.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[f.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[f.jsx("i",{className:"fa-solid fa-cookie-bite text-amber-500"}),"Cookie"]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("p",{className:"text-sm text-gray-600",children:[":",f.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${s==="accepted"?"bg-green-100 text-green-800":s==="declined"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:s==="accepted"?" ":s==="declined"?" ":" "})]}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s==="accepted"?"Cookie":s==="declined"?"Cookie":""})]}),s!=="pending"&&f.jsx("button",{onClick:i,className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${s==="accepted"?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:s==="accepted"?"":""})]})]}),f.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[f.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[f.jsx("i",{className:"fa-solid fa-chart-pie text-blue-600"}),""]}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.totalKeys}),f.jsx("div",{className:"text-xs text-gray-600",children:""})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.essentialKeys}),f.jsx("div",{className:"text-xs text-gray-600",children:""})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-2xl font-bold text-purple-600",children:t.nonEssentialKeys}),f.jsx("div",{className:"text-xs text-gray-600",children:""})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-2xl font-bold text-orange-600",children:t.storageUsed}),f.jsx("div",{className:"text-xs text-gray-600",children:""})]})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[f.jsx("i",{className:"fa-solid fa-info-circle text-blue-600"}),""]}),f.jsxs("div",{className:"space-y-2 text-sm",children:[f.jsxs("div",{className:"flex items-start gap-3 p-3 bg-green-50 rounded-lg",children:[f.jsx("i",{className:"fa-solid fa-shield-check text-green-600 mt-0.5"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium text-green-800",children:""}),f.jsx("div",{className:"text-green-700",children:"Cookie - "})]})]}),f.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-50 rounded-lg",children:[f.jsx("i",{className:"fa-solid fa-bookmark text-blue-600 mt-0.5"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium text-blue-800",children:""}),f.jsx("div",{className:"text-blue-700",children:""})]})]}),f.jsxs("div",{className:"flex items-start gap-3 p-3 bg-purple-50 rounded-lg",children:[f.jsx("i",{className:"fa-solid fa-palette text-purple-600 mt-0.5"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium text-purple-800",children:""}),f.jsx("div",{className:"text-purple-700",children:""})]})]}),f.jsxs("div",{className:"flex items-start gap-3 p-3 bg-orange-50 rounded-lg",children:[f.jsx("i",{className:"fa-solid fa-chart-line text-orange-600 mt-0.5"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium text-orange-800",children:""}),f.jsx("div",{className:"text-orange-700",children:""})]})]})]})]}),f.jsxs("div",{className:"border-t pt-4",children:[f.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[f.jsx("i",{className:"fa-solid fa-wrench text-gray-600"}),""]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("button",{onClick:l,disabled:s!=="accepted",className:"w-full p-3 bg-blue-100 hover:bg-blue-200 disabled:bg-gray-100 disabled:text-gray-400 text-blue-800 rounded-lg transition-colors text-left",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("i",{className:"fa-solid fa-download"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:""}),f.jsx("div",{className:"text-sm opacity-75",children:"JSON"})]})]})}),f.jsx("button",{onClick:o,className:"w-full p-3 bg-red-100 hover:bg-red-200 text-red-800 rounded-lg transition-colors text-left",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("i",{className:"fa-solid fa-trash"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:""}),f.jsx("div",{className:"text-sm opacity-75",children:""})]})]})})]}),f.jsxs("div",{className:"mt-6",children:[f.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-2 flex items-center gap-2",children:[f.jsx("i",{className:"fa-solid fa-book-open text-blue-500"}),""]}),f.jsx("p",{className:"text-sm text-gray-600 mb-3",children:""}),f.jsxs("a",{href:"/tutorial.html",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium shadow transition-colors",children:[f.jsx("i",{className:"fa-solid fa-graduation-cap"}),""]})]})]})]}),f.jsx("div",{className:"p-6 pt-0 border-t",children:f.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500",children:[f.jsxs("span",{children:[": ",new Date().toLocaleDateString("zh-CN")]}),f.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg",children:""})]})})]})]})}):null}function Yg(){Wg(),Hg();const n=Gg(),{currentUser:e}=Kr(),{setCardOpacity:t,setSearchBarOpacity:r,setParallaxEnabled:s,setWallpaperResolution:a,setCardColor:i,setSearchBarColor:o,setAutoSyncEnabled:l,setAutoSyncInterval:u,setAutoSortEnabled:d}=Ft(),{cloudWebsites:c,cloudSettings:h,loading:m,mergeWithLocalData:b}=zg(!0),[g,p]=A.useState(()=>n.getItem("websites")||[]),[y,I]=A.useState(!1),[v,_]=A.useState(!1),[R,$]=A.useState(!1),[O,N]=A.useState("");return A.useEffect(()=>{I(!1),_(!1),N("")},[e==null?void 0:e.id]),A.useEffect(()=>{var q;if(!e||!e.email_confirmed_at){I(!0),_(!0);return}if(m)return;const k=n.getItem("websites")||[],T=JSON.stringify({cloudCount:(c==null?void 0:c.length)||0,localCount:k.length,userId:e==null?void 0:e.id,cloudData:(c==null?void 0:c.map(W=>W.id).sort().join(","))||"",localData:k.map(W=>W.id).sort().join(",")});if(T===O){I(!0);return}if(y&&g.length>0){N(T);return}if(c&&c.length>0){lt.debug(" ",{local:k.length,cloud:c.length});const W=b(k);p(W),n.setItem("websites",W)}else k.length>0?(lt.debug(" ",{count:k.length}),p(k)):p([]);N(T),h&&!v?(t(h.cardOpacity),r(h.searchBarOpacity),s(h.parallaxEnabled),a(h.wallpaperResolution),i(h.cardColor),o(h.searchBarColor),l(h.autoSyncEnabled),u(h.autoSyncInterval),d((q=h.autoSortEnabled)!=null?q:!1),h.theme&&(localStorage.setItem("theme",h.theme),document.documentElement.setAttribute("data-theme",h.theme)),_(!0)):!h&&!v&&_(!0),I(!0)},[e,c,h,m,n,v,O,b,t,r,s,a,i,o,l,u,d]),A.useEffect(()=>{y&&n.setItem("websites",g)},[g,n,y]),f.jsxs(f.Fragment,{children:[f.jsxs(sd,{children:[f.jsx(wi,{path:"/",element:f.jsx(Ug,{websites:g,setWebsites:p,dataInitialized:y})}),f.jsx(wi,{path:"/reset-password",element:f.jsx(Fg,{})})]}),f.jsx(Kg,{}),R&&f.jsx(Vg,{isOpen:R,onClose:()=>$(!1)})]})}function Jg(){return f.jsx(Qu,{backend:ed,children:f.jsx(vp,{children:f.jsx(gg,{children:f.jsx(vg,{children:f.jsx(qg,{children:f.jsx(Ep,{children:f.jsx(Yg,{})})})})})})})}class Xg{constructor(){ce(this,"cleanupInterval",null);ce(this,"CLEANUP_INTERVAL",5*60*1e3);this.startCleanup()}startCleanup(){this.cleanupInterval=window.setInterval(()=>{this.performCleanupTasks()},this.CLEANUP_INTERVAL),window.addEventListener("beforeunload",()=>{this.destroy()})}performCleanupTasks(){try{Mt.cleanupExpiredBlobUrls(),nt.cleanup()}catch(e){console.warn(":",e)}}logMemoryUsage(){if("memory"in performance){const e=performance.memory,t=Math.round(e.usedJSHeapSize/1048576),r=Math.round(e.totalJSHeapSize/1048576),s=Math.round(e.jsHeapSizeLimit/1048576);console.log(` : ${t}MB / ${r}MB (: ${s}MB)`),t/s>.8&&console.warn(" ")}}performImmediateCleanup(){this.performCleanupTasks()}destroy(){this.cleanupInterval&&(clearInterval(this.cleanupInterval),this.cleanupInterval=null)}getStatus(){return{active:this.cleanupInterval!==null,interval:this.CLEANUP_INTERVAL}}}new Xg;const Qg=window.location.pathname.startsWith("/jiang_ai_web"),em=Qg?"/jiang_ai_web":void 0,tm=({error:n})=>f.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100vh",background:"white",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"20px",fontFamily:"Arial, sans-serif"},children:[f.jsx("h1",{style:{color:"red",marginBottom:"20px"},children:""}),f.jsxs("pre",{style:{background:"#f5f5f5",padding:"20px",borderRadius:"8px",fontSize:"14px",maxWidth:"80%",overflow:"auto"},children:[n.message,`

`,n.stack]})]});try{const n=document.getElementById("root");if(!n)throw new Error('id"root"');Si.createRoot(n).render(f.jsx(A.StrictMode,{children:f.jsxs(ad,{basename:em,children:[f.jsx(Jg,{}),f.jsx(Od,{})]})}))}catch(n){console.error(" React:",n),Si.createRoot(document.getElementById("root")).render(f.jsx(tm,{error:n}))}export{mp as C,Vg as P,si as S,Kr as a,Ft as b,fm as c,hm as d,ei as e,Ag as f,Cc as g,kc as h,Mt as i,su as j,di as k,Sg as s,mg as u};
