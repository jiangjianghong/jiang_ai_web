var za=Object.defineProperty;var Va=(t,e,s)=>e in t?za(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var ue=(t,e,s)=>Va(t,typeof e!="symbol"?e+"":e,s);import{j as i,m as ae,u as Wa,a as Za,A as Tt,D as Ha,H as qa}from"./ui-vendor-Bc0nx1qi.js";import{R as _,a as Ka,r as m,b as Ga,c as Ja,B as Qa}from"./router-vendor-ojeZ8ZvP.js";import{a as Ya}from"./react-vendor-BtP0CW_r.js";import{_ as It,C as Et,r as ct,S as Xa,a as er,F as Rs,g as $n,b as mt,c as Dt,d as tr,i as Pn,p as sr,u as nr,e as ar,E as Ln,o as rr,L as ir,f as or,h as lr,v as cr,j as Qs,k as dr,l as ur,m as fr,n as hr,q as mr,s as pr,t as gr,w as Ys,x as xr,G as yr,y as br,z as vr,A as wr,B as pt,D as As,H as Kt,I as Os}from"./firebase-vendor-CAtwhGmE.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(a){if(a.ep)return;a.ep=!0;const r=s(a);fetch(a.href,r)}})();var Ut={},Xs;function _r(){if(Xs)return Ut;Xs=1;var t=Ya();return Ut.createRoot=t.createRoot,Ut.hydrateRoot=t.hydrateRoot,Ut}var en=_r();function Nr(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}const Sr=t=>{switch(t){case"success":return Cr;case"info":return Ir;case"warning":return Tr;case"error":return Er;default:return null}},jr=Array(12).fill(0),kr=({visible:t,className:e})=>_.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},_.createElement("div",{className:"sonner-spinner"},jr.map((s,n)=>_.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Cr=_.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Tr=_.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},_.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Ir=_.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Er=_.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Rr=_.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},_.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),_.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Ar=()=>{const[t,e]=_.useState(document.hidden);return _.useEffect(()=>{const s=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),t};let ys=1;class Or{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const s=this.subscribers.indexOf(e);this.subscribers.splice(s,1)}),this.publish=e=>{this.subscribers.forEach(s=>s(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var s;const{message:n,...a}=e,r=typeof(e==null?void 0:e.id)=="number"||((s=e.id)==null?void 0:s.length)>0?e.id:ys++,o=this.toasts.find(u=>u.id===r),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),o?this.toasts=this.toasts.map(u=>u.id===r?(this.publish({...u,...e,id:r,title:n}),{...u,...e,id:r,dismissible:l,title:n}):u):this.addToast({title:n,...a,dismissible:l,id:r}),r},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:e,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(n=>n({id:s.id,dismiss:!0}))}),e),this.message=(e,s)=>this.create({...s,message:e}),this.error=(e,s)=>this.create({...s,message:e,type:"error"}),this.success=(e,s)=>this.create({...s,type:"success",message:e}),this.info=(e,s)=>this.create({...s,type:"info",message:e}),this.warning=(e,s)=>this.create({...s,type:"warning",message:e}),this.loading=(e,s)=>this.create({...s,type:"loading",message:e}),this.promise=(e,s)=>{if(!s)return;let n;s.loading!==void 0&&(n=this.create({...s,promise:e,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));const a=Promise.resolve(e instanceof Function?e():e);let r=n!==void 0,o;const l=a.then(async d=>{if(o=["resolve",d],_.isValidElement(d))r=!1,this.create({id:n,type:"default",message:d});else if($r(d)&&!d.ok){r=!1;const c=typeof s.error=="function"?await s.error(`HTTP error! status: ${d.status}`):s.error,h=typeof s.description=="function"?await s.description(`HTTP error! status: ${d.status}`):s.description,b=typeof c=="object"&&!_.isValidElement(c)?c:{message:c};this.create({id:n,type:"error",description:h,...b})}else if(d instanceof Error){r=!1;const c=typeof s.error=="function"?await s.error(d):s.error,h=typeof s.description=="function"?await s.description(d):s.description,b=typeof c=="object"&&!_.isValidElement(c)?c:{message:c};this.create({id:n,type:"error",description:h,...b})}else if(s.success!==void 0){r=!1;const c=typeof s.success=="function"?await s.success(d):s.success,h=typeof s.description=="function"?await s.description(d):s.description,b=typeof c=="object"&&!_.isValidElement(c)?c:{message:c};this.create({id:n,type:"success",description:h,...b})}}).catch(async d=>{if(o=["reject",d],s.error!==void 0){r=!1;const f=typeof s.error=="function"?await s.error(d):s.error,c=typeof s.description=="function"?await s.description(d):s.description,p=typeof f=="object"&&!_.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:c,...p})}}).finally(()=>{r&&(this.dismiss(n),n=void 0),s.finally==null||s.finally.call(s)}),u=()=>new Promise((d,f)=>l.then(()=>o[0]==="reject"?f(o[1]):d(o[1])).catch(f));return typeof n!="string"&&typeof n!="number"?{unwrap:u}:Object.assign(n,{unwrap:u})},this.custom=(e,s)=>{const n=(s==null?void 0:s.id)||ys++;return this.create({jsx:e(n),id:n,...s}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ge=new Or,Dr=(t,e)=>{const s=(e==null?void 0:e.id)||ys++;return ge.addToast({title:t,...e,id:s}),s},$r=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Pr=Dr,Lr=()=>ge.toasts,Br=()=>ge.getActiveToasts();Object.assign(Pr,{success:ge.success,info:ge.info,warning:ge.warning,error:ge.error,custom:ge.custom,message:ge.message,promise:ge.promise,dismiss:ge.dismiss,loading:ge.loading},{getHistory:Lr,getToasts:Br});Nr("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function zt(t){return t.label!==void 0}const Mr=3,Fr="24px",Ur="16px",tn=4e3,zr=356,Vr=14,Wr=45,Zr=200;function Oe(...t){return t.filter(Boolean).join(" ")}function Hr(t){const[e,s]=t.split("-"),n=[];return e&&n.push(e),s&&n.push(s),n}const qr=t=>{var e,s,n,a,r,o,l,u,d;const{invert:f,toast:c,unstyled:h,interacting:p,setHeights:b,visibleToasts:D,heights:S,index:T,toasts:F,expanded:$,removeToast:k,defaultRichColors:I,closeButton:N,style:x,cancelButtonStyle:P,actionButtonStyle:X,className:H="",descriptionClassName:L="",duration:ee,position:te,gap:ye,expandByDefault:ne,classNames:w,icons:O,closeButtonAriaLabel:W="Close toast"}=t,[z,se]=_.useState(null),[U,q]=_.useState(null),[y,g]=_.useState(!1),[j,A]=_.useState(!1),[Q,K]=_.useState(!1),[G,oe]=_.useState(!1),[ke,rt]=_.useState(!1),[$t,qe]=_.useState(0),[yt,bt]=_.useState(0),Me=_.useRef(c.duration||ee||tn),vt=_.useRef(null),be=_.useRef(null),is=T===0,Pt=T+1<=D,fe=c.type,Re=c.dismissible!==!1,os=c.className||"",Lt=c.descriptionClassName||"",it=_.useMemo(()=>S.findIndex(V=>V.toastId===c.id)||0,[S,c.id]),Bt=_.useMemo(()=>{var V;return(V=c.closeButton)!=null?V:N},[c.closeButton,N]),Ke=_.useMemo(()=>c.duration||ee||tn,[c.duration,ee]),Pe=_.useRef(0),me=_.useRef(0),ot=_.useRef(0),Ae=_.useRef(null),[La,Ba]=te.split("-"),Hs=_.useMemo(()=>S.reduce((V,ce,he)=>he>=it?V:V+ce.height,0),[S,it]),qs=Ar(),Ma=c.invert||f,ls=fe==="loading";me.current=_.useMemo(()=>it*ye+Hs,[it,Hs]),_.useEffect(()=>{Me.current=Ke},[Ke]),_.useEffect(()=>{g(!0)},[]),_.useEffect(()=>{const V=be.current;if(V){const ce=V.getBoundingClientRect().height;return bt(ce),b(he=>[{toastId:c.id,height:ce,position:c.position},...he]),()=>b(he=>he.filter(ve=>ve.toastId!==c.id))}},[b,c.id]),_.useLayoutEffect(()=>{if(!y)return;const V=be.current,ce=V.style.height;V.style.height="auto";const he=V.getBoundingClientRect().height;V.style.height=ce,bt(he),b(ve=>ve.find(de=>de.toastId===c.id)?ve.map(de=>de.toastId===c.id?{...de,height:he}:de):[{toastId:c.id,height:he,position:c.position},...ve])},[y,c.title,c.description,b,c.id,c.jsx,c.action,c.cancel]);const Fe=_.useCallback(()=>{A(!0),qe(me.current),b(V=>V.filter(ce=>ce.toastId!==c.id)),setTimeout(()=>{k(c)},Zr)},[c,k,b,me]);_.useEffect(()=>{if(c.promise&&fe==="loading"||c.duration===1/0||c.type==="loading")return;let V;return $||p||qs?(()=>{if(ot.current<Pe.current){const ve=new Date().getTime()-Pe.current;Me.current=Me.current-ve}ot.current=new Date().getTime()})():(()=>{Me.current!==1/0&&(Pe.current=new Date().getTime(),V=setTimeout(()=>{c.onAutoClose==null||c.onAutoClose.call(c,c),Fe()},Me.current))})(),()=>clearTimeout(V)},[$,p,c,fe,qs,Fe]),_.useEffect(()=>{c.delete&&(Fe(),c.onDismiss==null||c.onDismiss.call(c,c))},[Fe,c.delete]);function Fa(){var V;if(O!=null&&O.loading){var ce;return _.createElement("div",{className:Oe(w==null?void 0:w.loader,c==null||(ce=c.classNames)==null?void 0:ce.loader,"sonner-loader"),"data-visible":fe==="loading"},O.loading)}return _.createElement(kr,{className:Oe(w==null?void 0:w.loader,c==null||(V=c.classNames)==null?void 0:V.loader),visible:fe==="loading"})}const Ua=c.icon||(O==null?void 0:O[fe])||Sr(fe);var Ks,Gs;return _.createElement("li",{tabIndex:0,ref:be,className:Oe(H,os,w==null?void 0:w.toast,c==null||(e=c.classNames)==null?void 0:e.toast,w==null?void 0:w.default,w==null?void 0:w[fe],c==null||(s=c.classNames)==null?void 0:s[fe]),"data-sonner-toast":"","data-rich-colors":(Ks=c.richColors)!=null?Ks:I,"data-styled":!(c.jsx||c.unstyled||h),"data-mounted":y,"data-promise":!!c.promise,"data-swiped":ke,"data-removed":j,"data-visible":Pt,"data-y-position":La,"data-x-position":Ba,"data-index":T,"data-front":is,"data-swiping":Q,"data-dismissible":Re,"data-type":fe,"data-invert":Ma,"data-swipe-out":G,"data-swipe-direction":U,"data-expanded":!!($||ne&&y),style:{"--index":T,"--toasts-before":T,"--z-index":F.length-T,"--offset":`${j?$t:me.current}px`,"--initial-height":ne?"auto":`${yt}px`,...x,...c.style},onDragEnd:()=>{K(!1),se(null),Ae.current=null},onPointerDown:V=>{V.button!==2&&(ls||!Re||(vt.current=new Date,qe(me.current),V.target.setPointerCapture(V.pointerId),V.target.tagName!=="BUTTON"&&(K(!0),Ae.current={x:V.clientX,y:V.clientY})))},onPointerUp:()=>{var V,ce,he;if(G||!Re)return;Ae.current=null;const ve=Number(((V=be.current)==null?void 0:V.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Mt=Number(((ce=be.current)==null?void 0:ce.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),de=new Date().getTime()-((he=vt.current)==null?void 0:he.getTime()),Se=z==="x"?ve:Mt,Ft=Math.abs(Se)/de;if(Math.abs(Se)>=Wr||Ft>.11){qe(me.current),c.onDismiss==null||c.onDismiss.call(c,c),q(z==="x"?ve>0?"right":"left":Mt>0?"down":"up"),Fe(),oe(!0);return}else{var Ce,Te;(Ce=be.current)==null||Ce.style.setProperty("--swipe-amount-x","0px"),(Te=be.current)==null||Te.style.setProperty("--swipe-amount-y","0px")}rt(!1),K(!1),se(null)},onPointerMove:V=>{var ce,he,ve;if(!Ae.current||!Re||((ce=window.getSelection())==null?void 0:ce.toString().length)>0)return;const de=V.clientY-Ae.current.y,Se=V.clientX-Ae.current.x;var Ft;const Ce=(Ft=t.swipeDirections)!=null?Ft:Hr(te);!z&&(Math.abs(Se)>1||Math.abs(de)>1)&&se(Math.abs(Se)>Math.abs(de)?"x":"y");let Te={x:0,y:0};const Js=Ge=>1/(1.5+Math.abs(Ge)/20);if(z==="y"){if(Ce.includes("top")||Ce.includes("bottom"))if(Ce.includes("top")&&de<0||Ce.includes("bottom")&&de>0)Te.y=de;else{const Ge=de*Js(de);Te.y=Math.abs(Ge)<Math.abs(de)?Ge:de}}else if(z==="x"&&(Ce.includes("left")||Ce.includes("right")))if(Ce.includes("left")&&Se<0||Ce.includes("right")&&Se>0)Te.x=Se;else{const Ge=Se*Js(Se);Te.x=Math.abs(Ge)<Math.abs(Se)?Ge:Se}(Math.abs(Te.x)>0||Math.abs(Te.y)>0)&&rt(!0),(he=be.current)==null||he.style.setProperty("--swipe-amount-x",`${Te.x}px`),(ve=be.current)==null||ve.style.setProperty("--swipe-amount-y",`${Te.y}px`)}},Bt&&!c.jsx&&fe!=="loading"?_.createElement("button",{"aria-label":W,"data-disabled":ls,"data-close-button":!0,onClick:ls||!Re?()=>{}:()=>{Fe(),c.onDismiss==null||c.onDismiss.call(c,c)},className:Oe(w==null?void 0:w.closeButton,c==null||(n=c.classNames)==null?void 0:n.closeButton)},(Gs=O==null?void 0:O.close)!=null?Gs:Rr):null,(fe||c.icon||c.promise)&&c.icon!==null&&((O==null?void 0:O[fe])!==null||c.icon)?_.createElement("div",{"data-icon":"",className:Oe(w==null?void 0:w.icon,c==null||(a=c.classNames)==null?void 0:a.icon)},c.promise||c.type==="loading"&&!c.icon?c.icon||Fa():null,c.type!=="loading"?Ua:null):null,_.createElement("div",{"data-content":"",className:Oe(w==null?void 0:w.content,c==null||(r=c.classNames)==null?void 0:r.content)},_.createElement("div",{"data-title":"",className:Oe(w==null?void 0:w.title,c==null||(o=c.classNames)==null?void 0:o.title)},c.jsx?c.jsx:typeof c.title=="function"?c.title():c.title),c.description?_.createElement("div",{"data-description":"",className:Oe(L,Lt,w==null?void 0:w.description,c==null||(l=c.classNames)==null?void 0:l.description)},typeof c.description=="function"?c.description():c.description):null),_.isValidElement(c.cancel)?c.cancel:c.cancel&&zt(c.cancel)?_.createElement("button",{"data-button":!0,"data-cancel":!0,style:c.cancelButtonStyle||P,onClick:V=>{zt(c.cancel)&&Re&&(c.cancel.onClick==null||c.cancel.onClick.call(c.cancel,V),Fe())},className:Oe(w==null?void 0:w.cancelButton,c==null||(u=c.classNames)==null?void 0:u.cancelButton)},c.cancel.label):null,_.isValidElement(c.action)?c.action:c.action&&zt(c.action)?_.createElement("button",{"data-button":!0,"data-action":!0,style:c.actionButtonStyle||X,onClick:V=>{zt(c.action)&&(c.action.onClick==null||c.action.onClick.call(c.action,V),!V.defaultPrevented&&Fe())},className:Oe(w==null?void 0:w.actionButton,c==null||(d=c.classNames)==null?void 0:d.actionButton)},c.action.label):null)};function sn(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Kr(t,e){const s={};return[t,e].forEach((n,a)=>{const r=a===1,o=r?"--mobile-offset":"--offset",l=r?Ur:Fr;function u(d){["top","right","bottom","left"].forEach(f=>{s[`${o}-${f}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?u(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?s[`${o}-${d}`]=l:s[`${o}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):u(l)}),s}const Gr=_.forwardRef(function(e,s){const{invert:n,position:a="bottom-right",hotkey:r=["altKey","KeyT"],expand:o,closeButton:l,className:u,offset:d,mobileOffset:f,theme:c="light",richColors:h,duration:p,style:b,visibleToasts:D=Mr,toastOptions:S,dir:T=sn(),gap:F=Vr,icons:$,containerAriaLabel:k="Notifications"}=e,[I,N]=_.useState([]),x=_.useMemo(()=>Array.from(new Set([a].concat(I.filter(U=>U.position).map(U=>U.position)))),[I,a]),[P,X]=_.useState([]),[H,L]=_.useState(!1),[ee,te]=_.useState(!1),[ye,ne]=_.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),w=_.useRef(null),O=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),W=_.useRef(null),z=_.useRef(!1),se=_.useCallback(U=>{N(q=>{var y;return(y=q.find(g=>g.id===U.id))!=null&&y.delete||ge.dismiss(U.id),q.filter(({id:g})=>g!==U.id)})},[]);return _.useEffect(()=>ge.subscribe(U=>{if(U.dismiss){requestAnimationFrame(()=>{N(q=>q.map(y=>y.id===U.id?{...y,delete:!0}:y))});return}setTimeout(()=>{Ka.flushSync(()=>{N(q=>{const y=q.findIndex(g=>g.id===U.id);return y!==-1?[...q.slice(0,y),{...q[y],...U},...q.slice(y+1)]:[U,...q]})})})}),[I]),_.useEffect(()=>{if(c!=="system"){ne(c);return}if(c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window>"u")return;const U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:q})=>{ne(q?"dark":"light")})}catch{U.addListener(({matches:y})=>{try{ne(y?"dark":"light")}catch(g){console.error(g)}})}},[c]),_.useEffect(()=>{I.length<=1&&L(!1)},[I]),_.useEffect(()=>{const U=q=>{var y;if(r.every(A=>q[A]||q.code===A)){var j;L(!0),(j=w.current)==null||j.focus()}q.code==="Escape"&&(document.activeElement===w.current||(y=w.current)!=null&&y.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[r]),_.useEffect(()=>{if(w.current)return()=>{W.current&&(W.current.focus({preventScroll:!0}),W.current=null,z.current=!1)}},[w.current]),_.createElement("section",{ref:s,"aria-label":`${k} ${O}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},x.map((U,q)=>{var y;const[g,j]=U.split("-");return I.length?_.createElement("ol",{key:U,dir:T==="auto"?sn():T,tabIndex:-1,ref:w,className:u,"data-sonner-toaster":!0,"data-sonner-theme":ye,"data-y-position":g,"data-x-position":j,style:{"--front-toast-height":`${((y=P[0])==null?void 0:y.height)||0}px`,"--width":`${zr}px`,"--gap":`${F}px`,...b,...Kr(d,f)},onBlur:A=>{z.current&&!A.currentTarget.contains(A.relatedTarget)&&(z.current=!1,W.current&&(W.current.focus({preventScroll:!0}),W.current=null))},onFocus:A=>{A.target instanceof HTMLElement&&A.target.dataset.dismissible==="false"||z.current||(z.current=!0,W.current=A.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{ee||L(!1)},onDragEnd:()=>L(!1),onPointerDown:A=>{A.target instanceof HTMLElement&&A.target.dataset.dismissible==="false"||te(!0)},onPointerUp:()=>te(!1)},I.filter(A=>!A.position&&q===0||A.position===U).map((A,Q)=>{var K,G;return _.createElement(qr,{key:A.id,icons:$,index:Q,toast:A,defaultRichColors:h,duration:(K=S==null?void 0:S.duration)!=null?K:p,className:S==null?void 0:S.className,descriptionClassName:S==null?void 0:S.descriptionClassName,invert:n,visibleToasts:D,closeButton:(G=S==null?void 0:S.closeButton)!=null?G:l,interacting:ee,position:U,style:S==null?void 0:S.style,unstyled:S==null?void 0:S.unstyled,classNames:S==null?void 0:S.classNames,cancelButtonStyle:S==null?void 0:S.cancelButtonStyle,actionButtonStyle:S==null?void 0:S.actionButtonStyle,closeButtonAriaLabel:S==null?void 0:S.closeButtonAriaLabel,removeToast:se,toasts:I.filter(oe=>oe.position==A.position),heights:P.filter(oe=>oe.position==A.position),setHeights:X,expandByDefault:o,gap:F,expanded:H,swipeDirections:e.swipeDirections})})):null}))});var Y;(function(t){t.assertEqual=a=>{};function e(a){}t.assertIs=e;function s(a){throw new Error}t.assertNever=s,t.arrayToEnum=a=>{const r={};for(const o of a)r[o]=o;return r},t.getValidEnumValues=a=>{const r=t.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of r)o[l]=a[l];return t.objectValues(o)},t.objectValues=a=>t.objectKeys(a).map(function(r){return a[r]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const r=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&r.push(o);return r},t.find=(a,r)=>{for(const o of a)if(r(o))return o},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,r=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(r)}t.joinValues=n,t.jsonStringifyReplacer=(a,r)=>typeof r=="bigint"?r.toString():r})(Y||(Y={}));var nn;(function(t){t.mergeShapes=(e,s)=>({...e,...s})})(nn||(nn={}));const E=Y.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ue=t=>{switch(typeof t){case"undefined":return E.undefined;case"string":return E.string;case"number":return Number.isNaN(t)?E.nan:E.number;case"boolean":return E.boolean;case"function":return E.function;case"bigint":return E.bigint;case"symbol":return E.symbol;case"object":return Array.isArray(t)?E.array:t===null?E.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?E.promise:typeof Map<"u"&&t instanceof Map?E.map:typeof Set<"u"&&t instanceof Set?E.set:typeof Date<"u"&&t instanceof Date?E.date:E.object;default:return E.unknown}},v=Y.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Be extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=e}format(e){const s=e||function(r){return r.message},n={_errors:[]},a=r=>{for(const o of r.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(s(o));else{let l=n,u=0;for(;u<o.path.length;){const d=o.path[u];u===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(s(o))):l[d]=l[d]||{_errors:[]},l=l[d],u++}}};return a(this),n}static assert(e){if(!(e instanceof Be))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Y.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=s=>s.message){const s={},n=[];for(const a of this.issues)if(a.path.length>0){const r=a.path[0];s[r]=s[r]||[],s[r].push(e(a))}else n.push(e(a));return{formErrors:n,fieldErrors:s}}get formErrors(){return this.flatten()}}Be.create=t=>new Be(t);const bs=(t,e)=>{let s;switch(t.code){case v.invalid_type:t.received===E.undefined?s="Required":s=`Expected ${t.expected}, received ${t.received}`;break;case v.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(t.expected,Y.jsonStringifyReplacer)}`;break;case v.unrecognized_keys:s=`Unrecognized key(s) in object: ${Y.joinValues(t.keys,", ")}`;break;case v.invalid_union:s="Invalid input";break;case v.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${Y.joinValues(t.options)}`;break;case v.invalid_enum_value:s=`Invalid enum value. Expected ${Y.joinValues(t.options)}, received '${t.received}'`;break;case v.invalid_arguments:s="Invalid function arguments";break;case v.invalid_return_type:s="Invalid function return type";break;case v.invalid_date:s="Invalid date";break;case v.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(s=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?s=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?s=`Invalid input: must end with "${t.validation.endsWith}"`:Y.assertNever(t.validation):t.validation!=="regex"?s=`Invalid ${t.validation}`:s="Invalid";break;case v.too_small:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?s=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:s="Invalid input";break;case v.too_big:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?s=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:s="Invalid input";break;case v.custom:s="Invalid input";break;case v.invalid_intersection_types:s="Intersection results could not be merged";break;case v.not_multiple_of:s=`Number must be a multiple of ${t.multipleOf}`;break;case v.not_finite:s="Number must be finite";break;default:s=e.defaultError,Y.assertNever(t)}return{message:s}};let Jr=bs;function Qr(){return Jr}const Yr=t=>{const{data:e,path:s,errorMaps:n,issueData:a}=t,r=[...s,...a.path||[]],o={...a,path:r};if(a.message!==void 0)return{...a,path:r,message:a.message};let l="";const u=n.filter(d=>!!d).slice().reverse();for(const d of u)l=d(o,{data:e,defaultError:l}).message;return{...a,path:r,message:l}};function C(t,e){const s=Qr(),n=Yr({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,s,s===bs?void 0:bs].filter(a=>!!a)});t.common.issues.push(n)}class Ne{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,s){const n=[];for(const a of s){if(a.status==="aborted")return B;a.status==="dirty"&&e.dirty(),n.push(a.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,s){const n=[];for(const a of s){const r=await a.key,o=await a.value;n.push({key:r,value:o})}return Ne.mergeObjectSync(e,n)}static mergeObjectSync(e,s){const n={};for(const a of s){const{key:r,value:o}=a;if(r.status==="aborted"||o.status==="aborted")return B;r.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),r.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[r.value]=o.value)}return{status:e.value,value:n}}}const B=Object.freeze({status:"aborted"}),jt=t=>({status:"dirty",value:t}),je=t=>({status:"valid",value:t}),an=t=>t.status==="aborted",rn=t=>t.status==="dirty",dt=t=>t.status==="valid",Gt=t=>typeof Promise<"u"&&t instanceof Promise;var R;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(R||(R={}));class Ze{constructor(e,s,n,a){this._cachedPath=[],this.parent=e,this.data=s,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const on=(t,e)=>{if(dt(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new Be(t.common.issues);return this._error=s,this._error}}};function Z(t){if(!t)return{};const{errorMap:e,invalid_type_error:s,required_error:n,description:a}=t;if(e&&(s||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(o,l)=>{const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:u??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:u??s??l.defaultError}},description:a}}class J{get description(){return this._def.description}_getType(e){return Ue(e.data)}_getOrReturnCtx(e,s){return s||{common:e.parent.common,data:e.data,parsedType:Ue(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ne,ctx:{common:e.parent.common,data:e.data,parsedType:Ue(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const s=this._parse(e);if(Gt(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(e){const s=this._parse(e);return Promise.resolve(s)}parse(e,s){const n=this.safeParse(e,s);if(n.success)return n.data;throw n.error}safeParse(e,s){const n={common:{issues:[],async:(s==null?void 0:s.async)??!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ue(e)},a=this._parseSync({data:e,path:n.path,parent:n});return on(n,a)}"~validate"(e){var n,a;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ue(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:s});return dt(r)?{value:r.value}:{issues:s.common.issues}}catch(r){(a=(n=r==null?void 0:r.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(r=>dt(r)?{value:r.value}:{issues:s.common.issues})}async parseAsync(e,s){const n=await this.safeParseAsync(e,s);if(n.success)return n.data;throw n.error}async safeParseAsync(e,s){const n={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ue(e)},a=this._parse({data:e,path:n.path,parent:n}),r=await(Gt(a)?a:Promise.resolve(a));return on(n,r)}refine(e,s){const n=a=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(a):s;return this._refinement((a,r)=>{const o=e(a),l=()=>r.addIssue({code:v.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,s){return this._refinement((n,a)=>e(n)?!0:(a.addIssue(typeof s=="function"?s(n,a):s),!1))}_refinement(e){return new ft({schema:this,typeName:M.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return We.create(this,this._def)}nullable(){return ht.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return $e.create(this)}promise(){return Xt.create(this,this._def)}or(e){return Qt.create([this,e],this._def)}and(e){return Yt.create(this,e,this._def)}transform(e){return new ft({...Z(this._def),schema:this,typeName:M.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const s=typeof e=="function"?e:()=>e;return new ws({...Z(this._def),innerType:this,defaultValue:s,typeName:M.ZodDefault})}brand(){return new wi({typeName:M.ZodBranded,type:this,...Z(this._def)})}catch(e){const s=typeof e=="function"?e:()=>e;return new _s({...Z(this._def),innerType:this,catchValue:s,typeName:M.ZodCatch})}describe(e){const s=this.constructor;return new s({...this._def,description:e})}pipe(e){return Ds.create(this,e)}readonly(){return Ns.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Xr=/^c[^\s-]{8,}$/i,ei=/^[0-9a-z]+$/,ti=/^[0-9A-HJKMNP-TV-Z]{26}$/i,si=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ni=/^[a-z0-9_-]{21}$/i,ai=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ri=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ii=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,oi="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let cs;const li=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ci=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,di=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ui=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,fi=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,hi=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Bn="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",mi=new RegExp(`^${Bn}$`);function Mn(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const s=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${s}`}function pi(t){return new RegExp(`^${Mn(t)}$`)}function gi(t){let e=`${Bn}T${Mn(t)}`;const s=[];return s.push(t.local?"Z?":"Z"),t.offset&&s.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${s.join("|")})`,new RegExp(`^${e}$`)}function xi(t,e){return!!((e==="v4"||!e)&&li.test(t)||(e==="v6"||!e)&&di.test(t))}function yi(t,e){if(!ai.test(t))return!1;try{const[s]=t.split(".");if(!s)return!1;const n=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function bi(t,e){return!!((e==="v4"||!e)&&ci.test(t)||(e==="v6"||!e)&&ui.test(t))}class Ve extends J{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==E.string){const r=this._getOrReturnCtx(e);return C(r,{code:v.invalid_type,expected:E.string,received:r.parsedType}),B}const n=new Ne;let a;for(const r of this._def.checks)if(r.kind==="min")e.data.length<r.value&&(a=this._getOrReturnCtx(e,a),C(a,{code:v.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),n.dirty());else if(r.kind==="max")e.data.length>r.value&&(a=this._getOrReturnCtx(e,a),C(a,{code:v.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),n.dirty());else if(r.kind==="length"){const o=e.data.length>r.value,l=e.data.length<r.value;(o||l)&&(a=this._getOrReturnCtx(e,a),o?C(a,{code:v.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):l&&C(a,{code:v.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),n.dirty())}else if(r.kind==="email")ii.test(e.data)||(a=this._getOrReturnCtx(e,a),C(a,{validation:"email",code:v.invalid_string,message:r.message}),n.dirty());else if(r.kind==="emoji")cs||(cs=new RegExp(oi,"u")),cs.test(e.data)||(a=this._getOrReturnCtx(e,a),C(a,{validation:"emoji",code:v.invalid_string,message:r.message}),n.dirty());else if(r.kind==="uuid")si.test(e.data)||(a=this._getOrReturnCtx(e,a),C(a,{validation:"uuid",code:v.invalid_string,message:r.message}),n.dirty());else if(r.kind==="nanoid")ni.test(e.data)||(a=this._getOrReturnCtx(e,a),C(a,{validation:"nanoid",code:v.invalid_string,message:r.message}),n.dirty());else if(r.kind==="cuid")Xr.test(e.data)||(a=this._getOrReturnCtx(e,a),C(a,{validation:"cuid",code:v.invalid_string,message:r.message}),n.dirty());else if(r.kind==="cuid2")ei.test(e.data)||(a=this._getOrReturnCtx(e,a),C(a,{validation:"cuid2",code:v.invalid_string,message:r.message}),n.dirty());else if(r.kind==="ulid")ti.test(e.data)||(a=this._getOrReturnCtx(e,a),C(a,{validation:"ulid",code:v.invalid_string,message:r.message}),n.dirty());else if(r.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),C(a,{validation:"url",code:v.invalid_string,message:r.message}),n.dirty()}else r.kind==="regex"?(r.regex.lastIndex=0,r.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),C(a,{validation:"regex",code:v.invalid_string,message:r.message}),n.dirty())):r.kind==="trim"?e.data=e.data.trim():r.kind==="includes"?e.data.includes(r.value,r.position)||(a=this._getOrReturnCtx(e,a),C(a,{code:v.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),n.dirty()):r.kind==="toLowerCase"?e.data=e.data.toLowerCase():r.kind==="toUpperCase"?e.data=e.data.toUpperCase():r.kind==="startsWith"?e.data.startsWith(r.value)||(a=this._getOrReturnCtx(e,a),C(a,{code:v.invalid_string,validation:{startsWith:r.value},message:r.message}),n.dirty()):r.kind==="endsWith"?e.data.endsWith(r.value)||(a=this._getOrReturnCtx(e,a),C(a,{code:v.invalid_string,validation:{endsWith:r.value},message:r.message}),n.dirty()):r.kind==="datetime"?gi(r).test(e.data)||(a=this._getOrReturnCtx(e,a),C(a,{code:v.invalid_string,validation:"datetime",message:r.message}),n.dirty()):r.kind==="date"?mi.test(e.data)||(a=this._getOrReturnCtx(e,a),C(a,{code:v.invalid_string,validation:"date",message:r.message}),n.dirty()):r.kind==="time"?pi(r).test(e.data)||(a=this._getOrReturnCtx(e,a),C(a,{code:v.invalid_string,validation:"time",message:r.message}),n.dirty()):r.kind==="duration"?ri.test(e.data)||(a=this._getOrReturnCtx(e,a),C(a,{validation:"duration",code:v.invalid_string,message:r.message}),n.dirty()):r.kind==="ip"?xi(e.data,r.version)||(a=this._getOrReturnCtx(e,a),C(a,{validation:"ip",code:v.invalid_string,message:r.message}),n.dirty()):r.kind==="jwt"?yi(e.data,r.alg)||(a=this._getOrReturnCtx(e,a),C(a,{validation:"jwt",code:v.invalid_string,message:r.message}),n.dirty()):r.kind==="cidr"?bi(e.data,r.version)||(a=this._getOrReturnCtx(e,a),C(a,{validation:"cidr",code:v.invalid_string,message:r.message}),n.dirty()):r.kind==="base64"?fi.test(e.data)||(a=this._getOrReturnCtx(e,a),C(a,{validation:"base64",code:v.invalid_string,message:r.message}),n.dirty()):r.kind==="base64url"?hi.test(e.data)||(a=this._getOrReturnCtx(e,a),C(a,{validation:"base64url",code:v.invalid_string,message:r.message}),n.dirty()):Y.assertNever(r);return{status:n.value,value:e.data}}_regex(e,s,n){return this.refinement(a=>e.test(a),{validation:s,code:v.invalid_string,...R.errToObj(n)})}_addCheck(e){return new Ve({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...R.errToObj(e)})}url(e){return this._addCheck({kind:"url",...R.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...R.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...R.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...R.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...R.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...R.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...R.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...R.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...R.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...R.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...R.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...R.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...R.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...R.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...R.errToObj(e)})}regex(e,s){return this._addCheck({kind:"regex",regex:e,...R.errToObj(s)})}includes(e,s){return this._addCheck({kind:"includes",value:e,position:s==null?void 0:s.position,...R.errToObj(s==null?void 0:s.message)})}startsWith(e,s){return this._addCheck({kind:"startsWith",value:e,...R.errToObj(s)})}endsWith(e,s){return this._addCheck({kind:"endsWith",value:e,...R.errToObj(s)})}min(e,s){return this._addCheck({kind:"min",value:e,...R.errToObj(s)})}max(e,s){return this._addCheck({kind:"max",value:e,...R.errToObj(s)})}length(e,s){return this._addCheck({kind:"length",value:e,...R.errToObj(s)})}nonempty(e){return this.min(1,R.errToObj(e))}trim(){return new Ve({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ve({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ve({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxLength(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}Ve.create=t=>new Ve({checks:[],typeName:M.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Z(t)});function vi(t,e){const s=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,a=s>n?s:n,r=Number.parseInt(t.toFixed(a).replace(".","")),o=Number.parseInt(e.toFixed(a).replace(".",""));return r%o/10**a}class Rt extends J{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==E.number){const r=this._getOrReturnCtx(e);return C(r,{code:v.invalid_type,expected:E.number,received:r.parsedType}),B}let n;const a=new Ne;for(const r of this._def.checks)r.kind==="int"?Y.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),C(n,{code:v.invalid_type,expected:"integer",received:"float",message:r.message}),a.dirty()):r.kind==="min"?(r.inclusive?e.data<r.value:e.data<=r.value)&&(n=this._getOrReturnCtx(e,n),C(n,{code:v.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),a.dirty()):r.kind==="max"?(r.inclusive?e.data>r.value:e.data>=r.value)&&(n=this._getOrReturnCtx(e,n),C(n,{code:v.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),a.dirty()):r.kind==="multipleOf"?vi(e.data,r.value)!==0&&(n=this._getOrReturnCtx(e,n),C(n,{code:v.not_multiple_of,multipleOf:r.value,message:r.message}),a.dirty()):r.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),C(n,{code:v.not_finite,message:r.message}),a.dirty()):Y.assertNever(r);return{status:a.value,value:e.data}}gte(e,s){return this.setLimit("min",e,!0,R.toString(s))}gt(e,s){return this.setLimit("min",e,!1,R.toString(s))}lte(e,s){return this.setLimit("max",e,!0,R.toString(s))}lt(e,s){return this.setLimit("max",e,!1,R.toString(s))}setLimit(e,s,n,a){return new Rt({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:n,message:R.toString(a)}]})}_addCheck(e){return new Rt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:R.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:R.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:R.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:R.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:R.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:R.toString(s)})}finite(e){return this._addCheck({kind:"finite",message:R.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:R.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:R.toString(e)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Y.isInteger(e.value))}get isFinite(){let e=null,s=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(s===null||n.value>s)&&(s=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(s)&&Number.isFinite(e)}}Rt.create=t=>new Rt({checks:[],typeName:M.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Z(t)});class At extends J{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==E.bigint)return this._getInvalidInput(e);let n;const a=new Ne;for(const r of this._def.checks)r.kind==="min"?(r.inclusive?e.data<r.value:e.data<=r.value)&&(n=this._getOrReturnCtx(e,n),C(n,{code:v.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),a.dirty()):r.kind==="max"?(r.inclusive?e.data>r.value:e.data>=r.value)&&(n=this._getOrReturnCtx(e,n),C(n,{code:v.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),a.dirty()):r.kind==="multipleOf"?e.data%r.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),C(n,{code:v.not_multiple_of,multipleOf:r.value,message:r.message}),a.dirty()):Y.assertNever(r);return{status:a.value,value:e.data}}_getInvalidInput(e){const s=this._getOrReturnCtx(e);return C(s,{code:v.invalid_type,expected:E.bigint,received:s.parsedType}),B}gte(e,s){return this.setLimit("min",e,!0,R.toString(s))}gt(e,s){return this.setLimit("min",e,!1,R.toString(s))}lte(e,s){return this.setLimit("max",e,!0,R.toString(s))}lt(e,s){return this.setLimit("max",e,!1,R.toString(s))}setLimit(e,s,n,a){return new At({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:n,message:R.toString(a)}]})}_addCheck(e){return new At({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:R.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:R.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:R.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:R.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:R.toString(s)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}At.create=t=>new At({checks:[],typeName:M.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Z(t)});class ln extends J{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==E.boolean){const n=this._getOrReturnCtx(e);return C(n,{code:v.invalid_type,expected:E.boolean,received:n.parsedType}),B}return je(e.data)}}ln.create=t=>new ln({typeName:M.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Z(t)});class Jt extends J{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==E.date){const r=this._getOrReturnCtx(e);return C(r,{code:v.invalid_type,expected:E.date,received:r.parsedType}),B}if(Number.isNaN(e.data.getTime())){const r=this._getOrReturnCtx(e);return C(r,{code:v.invalid_date}),B}const n=new Ne;let a;for(const r of this._def.checks)r.kind==="min"?e.data.getTime()<r.value&&(a=this._getOrReturnCtx(e,a),C(a,{code:v.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),n.dirty()):r.kind==="max"?e.data.getTime()>r.value&&(a=this._getOrReturnCtx(e,a),C(a,{code:v.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),n.dirty()):Y.assertNever(r);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Jt({...this._def,checks:[...this._def.checks,e]})}min(e,s){return this._addCheck({kind:"min",value:e.getTime(),message:R.toString(s)})}max(e,s){return this._addCheck({kind:"max",value:e.getTime(),message:R.toString(s)})}get minDate(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e!=null?new Date(e):null}}Jt.create=t=>new Jt({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:M.ZodDate,...Z(t)});class cn extends J{_parse(e){if(this._getType(e)!==E.symbol){const n=this._getOrReturnCtx(e);return C(n,{code:v.invalid_type,expected:E.symbol,received:n.parsedType}),B}return je(e.data)}}cn.create=t=>new cn({typeName:M.ZodSymbol,...Z(t)});class dn extends J{_parse(e){if(this._getType(e)!==E.undefined){const n=this._getOrReturnCtx(e);return C(n,{code:v.invalid_type,expected:E.undefined,received:n.parsedType}),B}return je(e.data)}}dn.create=t=>new dn({typeName:M.ZodUndefined,...Z(t)});class un extends J{_parse(e){if(this._getType(e)!==E.null){const n=this._getOrReturnCtx(e);return C(n,{code:v.invalid_type,expected:E.null,received:n.parsedType}),B}return je(e.data)}}un.create=t=>new un({typeName:M.ZodNull,...Z(t)});class fn extends J{constructor(){super(...arguments),this._any=!0}_parse(e){return je(e.data)}}fn.create=t=>new fn({typeName:M.ZodAny,...Z(t)});class hn extends J{constructor(){super(...arguments),this._unknown=!0}_parse(e){return je(e.data)}}hn.create=t=>new hn({typeName:M.ZodUnknown,...Z(t)});class He extends J{_parse(e){const s=this._getOrReturnCtx(e);return C(s,{code:v.invalid_type,expected:E.never,received:s.parsedType}),B}}He.create=t=>new He({typeName:M.ZodNever,...Z(t)});class mn extends J{_parse(e){if(this._getType(e)!==E.undefined){const n=this._getOrReturnCtx(e);return C(n,{code:v.invalid_type,expected:E.void,received:n.parsedType}),B}return je(e.data)}}mn.create=t=>new mn({typeName:M.ZodVoid,...Z(t)});class $e extends J{_parse(e){const{ctx:s,status:n}=this._processInputParams(e),a=this._def;if(s.parsedType!==E.array)return C(s,{code:v.invalid_type,expected:E.array,received:s.parsedType}),B;if(a.exactLength!==null){const o=s.data.length>a.exactLength.value,l=s.data.length<a.exactLength.value;(o||l)&&(C(s,{code:o?v.too_big:v.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&s.data.length<a.minLength.value&&(C(s,{code:v.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&s.data.length>a.maxLength.value&&(C(s,{code:v.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),s.common.async)return Promise.all([...s.data].map((o,l)=>a.type._parseAsync(new Ze(s,o,s.path,l)))).then(o=>Ne.mergeArray(n,o));const r=[...s.data].map((o,l)=>a.type._parseSync(new Ze(s,o,s.path,l)));return Ne.mergeArray(n,r)}get element(){return this._def.type}min(e,s){return new $e({...this._def,minLength:{value:e,message:R.toString(s)}})}max(e,s){return new $e({...this._def,maxLength:{value:e,message:R.toString(s)}})}length(e,s){return new $e({...this._def,exactLength:{value:e,message:R.toString(s)}})}nonempty(e){return this.min(1,e)}}$e.create=(t,e)=>new $e({type:t,minLength:null,maxLength:null,exactLength:null,typeName:M.ZodArray,...Z(e)});function lt(t){if(t instanceof le){const e={};for(const s in t.shape){const n=t.shape[s];e[s]=We.create(lt(n))}return new le({...t._def,shape:()=>e})}else return t instanceof $e?new $e({...t._def,type:lt(t.element)}):t instanceof We?We.create(lt(t.unwrap())):t instanceof ht?ht.create(lt(t.unwrap())):t instanceof tt?tt.create(t.items.map(e=>lt(e))):t}class le extends J{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),s=Y.objectKeys(e);return this._cached={shape:e,keys:s},this._cached}_parse(e){if(this._getType(e)!==E.object){const d=this._getOrReturnCtx(e);return C(d,{code:v.invalid_type,expected:E.object,received:d.parsedType}),B}const{status:n,ctx:a}=this._processInputParams(e),{shape:r,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof He&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const u=[];for(const d of o){const f=r[d],c=a.data[d];u.push({key:{status:"valid",value:d},value:f._parse(new Ze(a,c,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof He){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of l)u.push({key:{status:"valid",value:f},value:{status:"valid",value:a.data[f]}});else if(d==="strict")l.length>0&&(C(a,{code:v.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of l){const c=a.data[f];u.push({key:{status:"valid",value:f},value:d._parse(new Ze(a,c,a.path,f)),alwaysSet:f in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of u){const c=await f.key,h=await f.value;d.push({key:c,value:h,alwaysSet:f.alwaysSet})}return d}).then(d=>Ne.mergeObjectSync(n,d)):Ne.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return R.errToObj,new le({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(s,n)=>{var r,o;const a=((o=(r=this._def).errorMap)==null?void 0:o.call(r,s,n).message)??n.defaultError;return s.code==="unrecognized_keys"?{message:R.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new le({...this._def,unknownKeys:"strip"})}passthrough(){return new le({...this._def,unknownKeys:"passthrough"})}extend(e){return new le({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new le({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:M.ZodObject})}setKey(e,s){return this.augment({[e]:s})}catchall(e){return new le({...this._def,catchall:e})}pick(e){const s={};for(const n of Y.objectKeys(e))e[n]&&this.shape[n]&&(s[n]=this.shape[n]);return new le({...this._def,shape:()=>s})}omit(e){const s={};for(const n of Y.objectKeys(this.shape))e[n]||(s[n]=this.shape[n]);return new le({...this._def,shape:()=>s})}deepPartial(){return lt(this)}partial(e){const s={};for(const n of Y.objectKeys(this.shape)){const a=this.shape[n];e&&!e[n]?s[n]=a:s[n]=a.optional()}return new le({...this._def,shape:()=>s})}required(e){const s={};for(const n of Y.objectKeys(this.shape))if(e&&!e[n])s[n]=this.shape[n];else{let r=this.shape[n];for(;r instanceof We;)r=r._def.innerType;s[n]=r}return new le({...this._def,shape:()=>s})}keyof(){return Fn(Y.objectKeys(this.shape))}}le.create=(t,e)=>new le({shape:()=>t,unknownKeys:"strip",catchall:He.create(),typeName:M.ZodObject,...Z(e)});le.strictCreate=(t,e)=>new le({shape:()=>t,unknownKeys:"strict",catchall:He.create(),typeName:M.ZodObject,...Z(e)});le.lazycreate=(t,e)=>new le({shape:t,unknownKeys:"strip",catchall:He.create(),typeName:M.ZodObject,...Z(e)});class Qt extends J{_parse(e){const{ctx:s}=this._processInputParams(e),n=this._def.options;function a(r){for(const l of r)if(l.result.status==="valid")return l.result;for(const l of r)if(l.result.status==="dirty")return s.common.issues.push(...l.ctx.common.issues),l.result;const o=r.map(l=>new Be(l.ctx.common.issues));return C(s,{code:v.invalid_union,unionErrors:o}),B}if(s.common.async)return Promise.all(n.map(async r=>{const o={...s,common:{...s.common,issues:[]},parent:null};return{result:await r._parseAsync({data:s.data,path:s.path,parent:o}),ctx:o}})).then(a);{let r;const o=[];for(const u of n){const d={...s,common:{...s.common,issues:[]},parent:null},f=u._parseSync({data:s.data,path:s.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!r&&(r={result:f,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(r)return s.common.issues.push(...r.ctx.common.issues),r.result;const l=o.map(u=>new Be(u));return C(s,{code:v.invalid_union,unionErrors:l}),B}}get options(){return this._def.options}}Qt.create=(t,e)=>new Qt({options:t,typeName:M.ZodUnion,...Z(e)});function vs(t,e){const s=Ue(t),n=Ue(e);if(t===e)return{valid:!0,data:t};if(s===E.object&&n===E.object){const a=Y.objectKeys(e),r=Y.objectKeys(t).filter(l=>a.indexOf(l)!==-1),o={...t,...e};for(const l of r){const u=vs(t[l],e[l]);if(!u.valid)return{valid:!1};o[l]=u.data}return{valid:!0,data:o}}else if(s===E.array&&n===E.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let r=0;r<t.length;r++){const o=t[r],l=e[r],u=vs(o,l);if(!u.valid)return{valid:!1};a.push(u.data)}return{valid:!0,data:a}}else return s===E.date&&n===E.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Yt extends J{_parse(e){const{status:s,ctx:n}=this._processInputParams(e),a=(r,o)=>{if(an(r)||an(o))return B;const l=vs(r.value,o.value);return l.valid?((rn(r)||rn(o))&&s.dirty(),{status:s.value,value:l.data}):(C(n,{code:v.invalid_intersection_types}),B)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([r,o])=>a(r,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Yt.create=(t,e,s)=>new Yt({left:t,right:e,typeName:M.ZodIntersection,...Z(s)});class tt extends J{_parse(e){const{status:s,ctx:n}=this._processInputParams(e);if(n.parsedType!==E.array)return C(n,{code:v.invalid_type,expected:E.array,received:n.parsedType}),B;if(n.data.length<this._def.items.length)return C(n,{code:v.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),B;!this._def.rest&&n.data.length>this._def.items.length&&(C(n,{code:v.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const r=[...n.data].map((o,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new Ze(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(r).then(o=>Ne.mergeArray(s,o)):Ne.mergeArray(s,r)}get items(){return this._def.items}rest(e){return new tt({...this._def,rest:e})}}tt.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new tt({items:t,typeName:M.ZodTuple,rest:null,...Z(e)})};class pn extends J{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:s,ctx:n}=this._processInputParams(e);if(n.parsedType!==E.map)return C(n,{code:v.invalid_type,expected:E.map,received:n.parsedType}),B;const a=this._def.keyType,r=this._def.valueType,o=[...n.data.entries()].map(([l,u],d)=>({key:a._parse(new Ze(n,l,n.path,[d,"key"])),value:r._parse(new Ze(n,u,n.path,[d,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of o){const d=await u.key,f=await u.value;if(d.status==="aborted"||f.status==="aborted")return B;(d.status==="dirty"||f.status==="dirty")&&s.dirty(),l.set(d.value,f.value)}return{status:s.value,value:l}})}else{const l=new Map;for(const u of o){const d=u.key,f=u.value;if(d.status==="aborted"||f.status==="aborted")return B;(d.status==="dirty"||f.status==="dirty")&&s.dirty(),l.set(d.value,f.value)}return{status:s.value,value:l}}}}pn.create=(t,e,s)=>new pn({valueType:e,keyType:t,typeName:M.ZodMap,...Z(s)});class Ot extends J{_parse(e){const{status:s,ctx:n}=this._processInputParams(e);if(n.parsedType!==E.set)return C(n,{code:v.invalid_type,expected:E.set,received:n.parsedType}),B;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(C(n,{code:v.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),s.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(C(n,{code:v.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),s.dirty());const r=this._def.valueType;function o(u){const d=new Set;for(const f of u){if(f.status==="aborted")return B;f.status==="dirty"&&s.dirty(),d.add(f.value)}return{status:s.value,value:d}}const l=[...n.data.values()].map((u,d)=>r._parse(new Ze(n,u,n.path,d)));return n.common.async?Promise.all(l).then(u=>o(u)):o(l)}min(e,s){return new Ot({...this._def,minSize:{value:e,message:R.toString(s)}})}max(e,s){return new Ot({...this._def,maxSize:{value:e,message:R.toString(s)}})}size(e,s){return this.min(e,s).max(e,s)}nonempty(e){return this.min(1,e)}}Ot.create=(t,e)=>new Ot({valueType:t,minSize:null,maxSize:null,typeName:M.ZodSet,...Z(e)});class gn extends J{get schema(){return this._def.getter()}_parse(e){const{ctx:s}=this._processInputParams(e);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}gn.create=(t,e)=>new gn({getter:t,typeName:M.ZodLazy,...Z(e)});class xn extends J{_parse(e){if(e.data!==this._def.value){const s=this._getOrReturnCtx(e);return C(s,{received:s.data,code:v.invalid_literal,expected:this._def.value}),B}return{status:"valid",value:e.data}}get value(){return this._def.value}}xn.create=(t,e)=>new xn({value:t,typeName:M.ZodLiteral,...Z(e)});function Fn(t,e){return new ut({values:t,typeName:M.ZodEnum,...Z(e)})}class ut extends J{_parse(e){if(typeof e.data!="string"){const s=this._getOrReturnCtx(e),n=this._def.values;return C(s,{expected:Y.joinValues(n),received:s.parsedType,code:v.invalid_type}),B}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const s=this._getOrReturnCtx(e),n=this._def.values;return C(s,{received:s.data,code:v.invalid_enum_value,options:n}),B}return je(e.data)}get options(){return this._def.values}get enum(){const e={};for(const s of this._def.values)e[s]=s;return e}get Values(){const e={};for(const s of this._def.values)e[s]=s;return e}get Enum(){const e={};for(const s of this._def.values)e[s]=s;return e}extract(e,s=this._def){return ut.create(e,{...this._def,...s})}exclude(e,s=this._def){return ut.create(this.options.filter(n=>!e.includes(n)),{...this._def,...s})}}ut.create=Fn;class yn extends J{_parse(e){const s=Y.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==E.string&&n.parsedType!==E.number){const a=Y.objectValues(s);return C(n,{expected:Y.joinValues(a),received:n.parsedType,code:v.invalid_type}),B}if(this._cache||(this._cache=new Set(Y.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const a=Y.objectValues(s);return C(n,{received:n.data,code:v.invalid_enum_value,options:a}),B}return je(e.data)}get enum(){return this._def.values}}yn.create=(t,e)=>new yn({values:t,typeName:M.ZodNativeEnum,...Z(e)});class Xt extends J{unwrap(){return this._def.type}_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==E.promise&&s.common.async===!1)return C(s,{code:v.invalid_type,expected:E.promise,received:s.parsedType}),B;const n=s.parsedType===E.promise?s.data:Promise.resolve(s.data);return je(n.then(a=>this._def.type.parseAsync(a,{path:s.path,errorMap:s.common.contextualErrorMap})))}}Xt.create=(t,e)=>new Xt({type:t,typeName:M.ZodPromise,...Z(e)});class ft extends J{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===M.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:s,ctx:n}=this._processInputParams(e),a=this._def.effect||null,r={addIssue:o=>{C(n,o),o.fatal?s.abort():s.dirty()},get path(){return n.path}};if(r.addIssue=r.addIssue.bind(r),a.type==="preprocess"){const o=a.transform(n.data,r);if(n.common.async)return Promise.resolve(o).then(async l=>{if(s.value==="aborted")return B;const u=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return u.status==="aborted"?B:u.status==="dirty"||s.value==="dirty"?jt(u.value):u});{if(s.value==="aborted")return B;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?B:l.status==="dirty"||s.value==="dirty"?jt(l.value):l}}if(a.type==="refinement"){const o=l=>{const u=a.refinement(l,r);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?B:(l.status==="dirty"&&s.dirty(),o(l.value),{status:s.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?B:(l.status==="dirty"&&s.dirty(),o(l.value).then(()=>({status:s.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!dt(o))return B;const l=a.transform(o.value,r);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>dt(o)?Promise.resolve(a.transform(o.value,r)).then(l=>({status:s.value,value:l})):B);Y.assertNever(a)}}ft.create=(t,e,s)=>new ft({schema:t,typeName:M.ZodEffects,effect:e,...Z(s)});ft.createWithPreprocess=(t,e,s)=>new ft({schema:e,effect:{type:"preprocess",transform:t},typeName:M.ZodEffects,...Z(s)});class We extends J{_parse(e){return this._getType(e)===E.undefined?je(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}We.create=(t,e)=>new We({innerType:t,typeName:M.ZodOptional,...Z(e)});class ht extends J{_parse(e){return this._getType(e)===E.null?je(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ht.create=(t,e)=>new ht({innerType:t,typeName:M.ZodNullable,...Z(e)});class ws extends J{_parse(e){const{ctx:s}=this._processInputParams(e);let n=s.data;return s.parsedType===E.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}ws.create=(t,e)=>new ws({innerType:t,typeName:M.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Z(e)});class _s extends J{_parse(e){const{ctx:s}=this._processInputParams(e),n={...s,common:{...s.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Gt(a)?a.then(r=>({status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new Be(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Be(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}_s.create=(t,e)=>new _s({innerType:t,typeName:M.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Z(e)});class bn extends J{_parse(e){if(this._getType(e)!==E.nan){const n=this._getOrReturnCtx(e);return C(n,{code:v.invalid_type,expected:E.nan,received:n.parsedType}),B}return{status:"valid",value:e.data}}}bn.create=t=>new bn({typeName:M.ZodNaN,...Z(t)});class wi extends J{_parse(e){const{ctx:s}=this._processInputParams(e),n=s.data;return this._def.type._parse({data:n,path:s.path,parent:s})}unwrap(){return this._def.type}}class Ds extends J{_parse(e){const{status:s,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const r=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return r.status==="aborted"?B:r.status==="dirty"?(s.dirty(),jt(r.value)):this._def.out._parseAsync({data:r.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?B:a.status==="dirty"?(s.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(e,s){return new Ds({in:e,out:s,typeName:M.ZodPipeline})}}class Ns extends J{_parse(e){const s=this._def.innerType._parse(e),n=a=>(dt(a)&&(a.value=Object.freeze(a.value)),a);return Gt(s)?s.then(a=>n(a)):n(s)}unwrap(){return this._def.innerType}}Ns.create=(t,e)=>new Ns({innerType:t,typeName:M.ZodReadonly,...Z(e)});var M;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(M||(M={}));const Vt=Ve.create;He.create;$e.create;const _i=le.create;Qt.create;Yt.create;tt.create;ut.create;Xt.create;We.create;ht.create;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un="firebasestorage.googleapis.com",zn="storageBucket",Ni=2*60*1e3,Si=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie extends Rs{constructor(e,s,n=0){super(ds(e),`Firebase Storage: ${s} (${ds(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ie.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ds(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var re;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(re||(re={}));function ds(t){return"storage/"+t}function $s(){const t="An unknown error occurred, please check the error payload for server response.";return new ie(re.UNKNOWN,t)}function ji(t){return new ie(re.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function ki(t){return new ie(re.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Ci(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ie(re.UNAUTHENTICATED,t)}function Ti(){return new ie(re.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Ii(t){return new ie(re.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Ei(){return new ie(re.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ri(){return new ie(re.CANCELED,"User canceled the upload/download.")}function Ai(t){return new ie(re.INVALID_URL,"Invalid URL '"+t+"'.")}function Oi(t){return new ie(re.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Di(){return new ie(re.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+zn+"' property when initializing the app?")}function $i(){return new ie(re.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Pi(){return new ie(re.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Li(t){return new ie(re.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ss(t){return new ie(re.INVALID_ARGUMENT,t)}function Vn(){return new ie(re.APP_DELETED,"The Firebase app was deleted.")}function Bi(t){return new ie(re.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function kt(t,e){return new ie(re.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function wt(t){throw new ie(re.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e,s){this.bucket=e,this.path_=s}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,s){let n;try{n=we.makeFromUrl(e,s)}catch{return new we(e,"")}if(n.path==="")return n;throw Oi(e)}static makeFromUrl(e,s){let n=null;const a="([A-Za-z0-9.\\-_]+)";function r(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+a+o,"i"),u={bucket:1,path:3};function d(k){k.path_=decodeURIComponent(k.path)}const f="v[A-Za-z0-9_]+",c=s.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${c}/${f}/b/${a}/o${h}`,"i"),b={bucket:1,path:3},D=s===Un?"(?:storage.googleapis.com|storage.cloud.google.com)":s,S="([^?#]*)",T=new RegExp(`^https?://${D}/${a}/${S}`,"i"),$=[{regex:l,indices:u,postModify:r},{regex:p,indices:b,postModify:d},{regex:T,indices:{bucket:1,path:2},postModify:d}];for(let k=0;k<$.length;k++){const I=$[k],N=I.regex.exec(e);if(N){const x=N[I.indices.bucket];let P=N[I.indices.path];P||(P=""),n=new we(x,P),I.postModify(n);break}}if(n==null)throw Ai(e);return n}}class Mi{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(t,e,s){let n=1,a=null,r=null,o=!1,l=0;function u(){return l===2}let d=!1;function f(...S){d||(d=!0,e.apply(null,S))}function c(S){a=setTimeout(()=>{a=null,t(p,u())},S)}function h(){r&&clearTimeout(r)}function p(S,...T){if(d){h();return}if(S){h(),f.call(null,S,...T);return}if(u()||o){h(),f.call(null,S,...T);return}n<64&&(n*=2);let $;l===1?(l=2,$=0):$=(n+Math.random())*1e3,c($)}let b=!1;function D(S){b||(b=!0,h(),!d&&(a!==null?(S||(l=2),clearTimeout(a),c(0)):S||(l=1)))}return c(0),r=setTimeout(()=>{o=!0,D(!0)},s),D}function Ui(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(t){return t!==void 0}function Vi(t){return typeof t=="object"&&!Array.isArray(t)}function Ps(t){return typeof t=="string"||t instanceof String}function vn(t){return Ls()&&t instanceof Blob}function Ls(){return typeof Blob<"u"}function wn(t,e,s,n){if(n<e)throw Ss(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>s)throw Ss(`Invalid value for '${t}'. Expected ${s} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(t,e,s){let n=e;return s==null&&(n=`https://${e}`),`${s}://${n}/v0${t}`}function Wn(t){const e=encodeURIComponent;let s="?";for(const n in t)if(t.hasOwnProperty(n)){const a=e(n)+"="+e(t[n]);s=s+a+"&"}return s=s.slice(0,-1),s}var et;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(et||(et={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t,e){const s=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,r=e.indexOf(t)!==-1;return s||a||r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,s,n,a,r,o,l,u,d,f,c,h=!0,p=!1){this.url_=e,this.method_=s,this.headers_=n,this.body_=a,this.successCodes_=r,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=c,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,D)=>{this.resolve_=b,this.reject_=D,this.start_()})}start_(){const e=(n,a)=>{if(a){n(!1,new Wt(!1,null,!0));return}const r=this.connectionFactory_();this.pendingConnection_=r;const o=l=>{const u=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&r.addUploadProgressListener(o),r.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&r.removeUploadProgressListener(o),this.pendingConnection_=null;const l=r.getErrorCode()===et.NO_ERROR,u=r.getStatus();if(!l||Wi(u,this.additionalRetryCodes_)&&this.retry){const f=r.getErrorCode()===et.ABORT;n(!1,new Wt(!1,null,f));return}const d=this.successCodes_.indexOf(u)!==-1;n(!0,new Wt(d,r))})},s=(n,a)=>{const r=this.resolve_,o=this.reject_,l=a.connection;if(a.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());zi(u)?r(u):r()}catch(u){o(u)}else if(l!==null){const u=$s();u.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,u)):o(u)}else if(a.canceled){const u=this.appDelete_?Vn():Ri();o(u)}else{const u=Ei();o(u)}};this.canceled_?s(!1,new Wt(!1,null,!0)):this.backoffId_=Fi(e,s,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Ui(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wt{constructor(e,s,n){this.wasSuccessCode=e,this.connection=s,this.canceled=!!n}}function Hi(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function qi(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Ki(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Gi(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Ji(t,e,s,n,a,r,o=!0,l=!1){const u=Wn(t.urlParams),d=t.url+u,f=Object.assign({},t.headers);return Ki(f,e),Hi(f,s),qi(f,r),Gi(f,n),new Zi(d,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Yi(...t){const e=Qi();if(e!==void 0){const s=new e;for(let n=0;n<t.length;n++)s.append(t[n]);return s.getBlob()}else{if(Ls())return new Blob(t);throw new ie(re.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Xi(t,e,s){return t.webkitSlice?t.webkitSlice(e,s):t.mozSlice?t.mozSlice(e,s):t.slice?t.slice(e,s):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t){if(typeof atob>"u")throw Li("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const De={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class us{constructor(e,s){this.data=e,this.contentType=s||null}}function to(t,e){switch(t){case De.RAW:return new us(Zn(e));case De.BASE64:case De.BASE64URL:return new us(Hn(t,e));case De.DATA_URL:return new us(no(e),ao(e))}throw $s()}function Zn(t){const e=[];for(let s=0;s<t.length;s++){let n=t.charCodeAt(s);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(s<t.length-1&&(t.charCodeAt(s+1)&64512)===56320))e.push(239,191,189);else{const r=n,o=t.charCodeAt(++s);n=65536|(r&1023)<<10|o&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function so(t){let e;try{e=decodeURIComponent(t)}catch{throw kt(De.DATA_URL,"Malformed data URL.")}return Zn(e)}function Hn(t,e){switch(t){case De.BASE64:{const a=e.indexOf("-")!==-1,r=e.indexOf("_")!==-1;if(a||r)throw kt(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case De.BASE64URL:{const a=e.indexOf("+")!==-1,r=e.indexOf("/")!==-1;if(a||r)throw kt(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let s;try{s=eo(e)}catch(a){throw a.message.includes("polyfill")?a:kt(t,"Invalid character found")}const n=new Uint8Array(s.length);for(let a=0;a<s.length;a++)n[a]=s.charCodeAt(a);return n}class qn{constructor(e){this.base64=!1,this.contentType=null;const s=e.match(/^data:([^,]+)?,/);if(s===null)throw kt(De.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=s[1]||null;n!=null&&(this.base64=ro(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function no(t){const e=new qn(t);return e.base64?Hn(De.BASE64,e.rest):so(e.rest)}function ao(t){return new qn(t).contentType}function ro(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,s){let n=0,a="";vn(e)?(this.data_=e,n=e.size,a=e.type):e instanceof ArrayBuffer?(s?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(s?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,s){if(vn(this.data_)){const n=this.data_,a=Xi(n,e,s);return a===null?null:new ze(a)}else{const n=new Uint8Array(this.data_.buffer,e,s-e);return new ze(n,!0)}}static getBlob(...e){if(Ls()){const s=e.map(n=>n instanceof ze?n.data_:n);return new ze(Yi.apply(null,s))}else{const s=e.map(o=>Ps(o)?to(De.RAW,o).data:o.data_);let n=0;s.forEach(o=>{n+=o.byteLength});const a=new Uint8Array(n);let r=0;return s.forEach(o=>{for(let l=0;l<o.length;l++)a[r++]=o[l]}),new ze(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t){let e;try{e=JSON.parse(t)}catch{return null}return Vi(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function oo(t,e){const s=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?s:t+"/"+s}function Gn(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(t,e){return e}class pe{constructor(e,s,n,a){this.server=e,this.local=s||e,this.writable=!!n,this.xform=a||lo}}let Zt=null;function co(t){return!Ps(t)||t.length<2?t:Gn(t)}function Jn(){if(Zt)return Zt;const t=[];t.push(new pe("bucket")),t.push(new pe("generation")),t.push(new pe("metageneration")),t.push(new pe("name","fullPath",!0));function e(r,o){return co(o)}const s=new pe("name");s.xform=e,t.push(s);function n(r,o){return o!==void 0?Number(o):o}const a=new pe("size");return a.xform=n,t.push(a),t.push(new pe("timeCreated")),t.push(new pe("updated")),t.push(new pe("md5Hash",null,!0)),t.push(new pe("cacheControl",null,!0)),t.push(new pe("contentDisposition",null,!0)),t.push(new pe("contentEncoding",null,!0)),t.push(new pe("contentLanguage",null,!0)),t.push(new pe("contentType",null,!0)),t.push(new pe("metadata","customMetadata",!0)),Zt=t,Zt}function uo(t,e){function s(){const n=t.bucket,a=t.fullPath,r=new we(n,a);return e._makeStorageReference(r)}Object.defineProperty(t,"ref",{get:s})}function fo(t,e,s){const n={};n.type="file";const a=s.length;for(let r=0;r<a;r++){const o=s[r];n[o.local]=o.xform(n,e[o.server])}return uo(n,t),n}function Qn(t,e,s){const n=Kn(e);return n===null?null:fo(t,n,s)}function ho(t,e,s,n){const a=Kn(e);if(a===null||!Ps(a.downloadTokens))return null;const r=a.downloadTokens;if(r.length===0)return null;const o=encodeURIComponent;return r.split(",").map(d=>{const f=t.bucket,c=t.fullPath,h="/b/"+o(f)+"/o/"+o(c),p=Bs(h,s,n),b=Wn({alt:"media",token:d});return p+b})[0]}function mo(t,e){const s={},n=e.length;for(let a=0;a<n;a++){const r=e[a];r.writable&&(s[r.server]=t[r.local])}return JSON.stringify(s)}class Yn{constructor(e,s,n,a){this.url=e,this.method=s,this.handler=n,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(t){if(!t)throw $s()}function po(t,e){function s(n,a){const r=Qn(t,a,e);return Xn(r!==null),r}return s}function go(t,e){function s(n,a){const r=Qn(t,a,e);return Xn(r!==null),ho(r,a,t.host,t._protocol)}return s}function ea(t){function e(s,n){let a;return s.getStatus()===401?s.getErrorText().includes("Firebase App Check token is invalid")?a=Ti():a=Ci():s.getStatus()===402?a=ki(t.bucket):s.getStatus()===403?a=Ii(t.path):a=n,a.status=s.getStatus(),a.serverResponse=n.serverResponse,a}return e}function xo(t){const e=ea(t);function s(n,a){let r=e(n,a);return n.getStatus()===404&&(r=ji(t.path)),r.serverResponse=a.serverResponse,r}return s}function yo(t,e,s){const n=e.fullServerUrl(),a=Bs(n,t.host,t._protocol),r="GET",o=t.maxOperationRetryTime,l=new Yn(a,r,go(t,s),o);return l.errorHandler=xo(e),l}function bo(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function vo(t,e,s){const n=Object.assign({},s);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=bo(null,e)),n}function wo(t,e,s,n,a){const r=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let $="";for(let k=0;k<2;k++)$=$+Math.random().toString().slice(2);return $}const u=l();o["Content-Type"]="multipart/related; boundary="+u;const d=vo(e,n,a),f=mo(d,s),c="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+u+`\r
Content-Type: `+d.contentType+`\r
\r
`,h=`\r
--`+u+"--",p=ze.getBlob(c,n,h);if(p===null)throw $i();const b={name:d.fullPath},D=Bs(r,t.host,t._protocol),S="POST",T=t.maxUploadRetryTime,F=new Yn(D,S,po(t,s),T);return F.urlParams=b,F.headers=o,F.body=p.uploadData(),F.errorHandler=ea(e),F}class _o{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=et.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=et.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=et.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,s,n,a,r){if(this.sent_)throw wt("cannot .send() more than once");if(Pn(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(s,e,!0),r!==void 0)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw wt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw wt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw wt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class No extends _o{initXhr(){this.xhr_.responseType="text"}}function ta(){return new No}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,s){this._service=e,s instanceof we?this._location=s:this._location=we.makeFromUrl(s,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,s){return new st(e,s)}get root(){const e=new we(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Gn(this._location.path)}get storage(){return this._service}get parent(){const e=io(this._location.path);if(e===null)return null;const s=new we(this._location.bucket,e);return new st(this._service,s)}_throwIfRoot(e){if(this._location.path==="")throw Bi(e)}}function So(t,e,s){t._throwIfRoot("uploadBytes");const n=wo(t.storage,t._location,Jn(),new ze(e,!0),s);return t.storage.makeRequestWithTokens(n,ta).then(a=>({metadata:a,ref:t}))}function jo(t){t._throwIfRoot("getDownloadURL");const e=yo(t.storage,t._location,Jn());return t.storage.makeRequestWithTokens(e,ta).then(s=>{if(s===null)throw Pi();return s})}function ko(t,e){const s=oo(t._location.path,e),n=new we(t._location.bucket,s);return new st(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(t){return/^[A-Za-z]+:\/\//.test(t)}function To(t,e){return new st(t,e)}function sa(t,e){if(t instanceof Ms){const s=t;if(s._bucket==null)throw Di();const n=new st(s,s._bucket);return e!=null?sa(n,e):n}else return e!==void 0?ko(t,e):t}function Io(t,e){if(e&&Co(e)){if(t instanceof Ms)return To(t,e);throw Ss("To use ref(service, url), the first argument must be a Storage instance.")}else return sa(t,e)}function _n(t,e){const s=e==null?void 0:e[zn];return s==null?null:we.makeFromBucketSpec(s,t)}function Eo(t,e,s,n={}){t.host=`${e}:${s}`;const a=Pn(e);a&&(sr(`https://${t.host}/b`),nr("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:r}=n;r&&(t._overrideAuthToken=typeof r=="string"?r:ar(r,t.app.options.projectId))}class Ms{constructor(e,s,n,a,r,o=!1){this.app=e,this._authProvider=s,this._appCheckProvider=n,this._url=a,this._firebaseVersion=r,this._isUsingEmulator=o,this._bucket=null,this._host=Un,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Ni,this._maxUploadRetryTime=Si,this._requests=new Set,a!=null?this._bucket=we.makeFromBucketSpec(a,this._host):this._bucket=_n(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=we.makeFromBucketSpec(this._url,e):this._bucket=_n(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){wn("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){wn("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const s=await e.getToken();if(s!==null)return s.accessToken}return null}async _getAppCheckToken(){if(er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new st(this,e)}_makeRequest(e,s,n,a,r=!0){if(this._deleted)return new Mi(Vn());{const o=Ji(e,this._appId,n,a,s,this._firebaseVersion,r,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,s){const[n,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,s,n,a).getPromise()}}const Nn="@firebase/storage",Sn="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="storage";function Ro(t,e,s){return t=mt(t),So(t,e,s)}function Ao(t){return t=mt(t),jo(t)}function Oo(t,e){return t=mt(t),Io(t,e)}function Do(t=$n(),e){t=mt(t);const n=Dt(t,na).getImmediate({identifier:e}),a=tr("storage");return a&&$o(n,...a),n}function $o(t,e,s,n={}){Eo(t,e,s,n)}function Po(t,{instanceIdentifier:e}){const s=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Ms(s,n,a,e,Xa)}function Lo(){It(new Et(na,Po,"PUBLIC").setMultipleInstances(!0)),ct(Nn,Sn,""),ct(Nn,Sn,"esm2017")}Lo();const aa="@firebase/installations",Fs="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=1e4,ia=`w:${Fs}`,oa="FIS_v2",Bo="https://firebaseinstallations.googleapis.com/v1",Mo=60*60*1e3,Fo="installations",Uo="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},nt=new Ln(Fo,Uo,zo);function la(t){return t instanceof Rs&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca({projectId:t}){return`${Bo}/projects/${t}/installations`}function da(t){return{token:t.token,requestStatus:2,expiresIn:Wo(t.expiresIn),creationTime:Date.now()}}async function ua(t,e){const n=(await e.json()).error;return nt.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function fa({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Vo(t,{refreshToken:e}){const s=fa(t);return s.append("Authorization",Zo(e)),s}async function ha(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Wo(t){return Number(t.replace("s","000"))}function Zo(t){return`${oa} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho({appConfig:t,heartbeatServiceProvider:e},{fid:s}){const n=ca(t),a=fa(t),r=e.getImmediate({optional:!0});if(r){const d=await r.getHeartbeatsHeader();d&&a.append("x-firebase-client",d)}const o={fid:s,authVersion:oa,appId:t.appId,sdkVersion:ia},l={method:"POST",headers:a,body:JSON.stringify(o)},u=await ha(()=>fetch(n,l));if(u.ok){const d=await u.json();return{fid:d.fid||s,registrationStatus:2,refreshToken:d.refreshToken,authToken:da(d.authToken)}}else throw await ua("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=/^[cdef][\w-]{21}$/,js="";function Go(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const s=Jo(t);return Ko.test(s)?s:js}catch{return js}}function Jo(t){return qo(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new Map;function ga(t,e){const s=ns(t);xa(s,e),Qo(s,e)}function xa(t,e){const s=pa.get(t);if(s)for(const n of s)n(e)}function Qo(t,e){const s=Yo();s&&s.postMessage({key:t,fid:e}),Xo()}let Xe=null;function Yo(){return!Xe&&"BroadcastChannel"in self&&(Xe=new BroadcastChannel("[Firebase] FID Change"),Xe.onmessage=t=>{xa(t.data.key,t.data.fid)}),Xe}function Xo(){pa.size===0&&Xe&&(Xe.close(),Xe=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el="firebase-installations-database",tl=1,at="firebase-installations-store";let fs=null;function Us(){return fs||(fs=rr(el,tl,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(at)}}})),fs}async function es(t,e){const s=ns(t),a=(await Us()).transaction(at,"readwrite"),r=a.objectStore(at),o=await r.get(s);return await r.put(e,s),await a.done,(!o||o.fid!==e.fid)&&ga(t,e.fid),e}async function ya(t){const e=ns(t),n=(await Us()).transaction(at,"readwrite");await n.objectStore(at).delete(e),await n.done}async function as(t,e){const s=ns(t),a=(await Us()).transaction(at,"readwrite"),r=a.objectStore(at),o=await r.get(s),l=e(o);return l===void 0?await r.delete(s):await r.put(l,s),await a.done,l&&(!o||o.fid!==l.fid)&&ga(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zs(t){let e;const s=await as(t.appConfig,n=>{const a=sl(n),r=nl(t,a);return e=r.registrationPromise,r.installationEntry});return s.fid===js?{installationEntry:await e}:{installationEntry:s,registrationPromise:e}}function sl(t){const e=t||{fid:Go(),registrationStatus:0};return ba(e)}function nl(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(nt.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const s={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=al(t,s);return{installationEntry:s,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:rl(t)}:{installationEntry:e}}async function al(t,e){try{const s=await Ho(t,e);return es(t.appConfig,s)}catch(s){throw la(s)&&s.customData.serverCode===409?await ya(t.appConfig):await es(t.appConfig,{fid:e.fid,registrationStatus:0}),s}}async function rl(t){let e=await jn(t.appConfig);for(;e.registrationStatus===1;)await ma(100),e=await jn(t.appConfig);if(e.registrationStatus===0){const{installationEntry:s,registrationPromise:n}=await zs(t);return n||s}return e}function jn(t){return as(t,e=>{if(!e)throw nt.create("installation-not-found");return ba(e)})}function ba(t){return il(t)?{fid:t.fid,registrationStatus:0}:t}function il(t){return t.registrationStatus===1&&t.registrationTime+ra<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol({appConfig:t,heartbeatServiceProvider:e},s){const n=ll(t,s),a=Vo(t,s),r=e.getImmediate({optional:!0});if(r){const d=await r.getHeartbeatsHeader();d&&a.append("x-firebase-client",d)}const o={installation:{sdkVersion:ia,appId:t.appId}},l={method:"POST",headers:a,body:JSON.stringify(o)},u=await ha(()=>fetch(n,l));if(u.ok){const d=await u.json();return da(d)}else throw await ua("Generate Auth Token",u)}function ll(t,{fid:e}){return`${ca(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vs(t,e=!1){let s;const n=await as(t.appConfig,r=>{if(!va(r))throw nt.create("not-registered");const o=r.authToken;if(!e&&ul(o))return r;if(o.requestStatus===1)return s=cl(t,e),r;{if(!navigator.onLine)throw nt.create("app-offline");const l=hl(r);return s=dl(t,l),l}});return s?await s:n.authToken}async function cl(t,e){let s=await kn(t.appConfig);for(;s.authToken.requestStatus===1;)await ma(100),s=await kn(t.appConfig);const n=s.authToken;return n.requestStatus===0?Vs(t,e):n}function kn(t){return as(t,e=>{if(!va(e))throw nt.create("not-registered");const s=e.authToken;return ml(s)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function dl(t,e){try{const s=await ol(t,e),n=Object.assign(Object.assign({},e),{authToken:s});return await es(t.appConfig,n),s}catch(s){if(la(s)&&(s.customData.serverCode===401||s.customData.serverCode===404))await ya(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await es(t.appConfig,n)}throw s}}function va(t){return t!==void 0&&t.registrationStatus===2}function ul(t){return t.requestStatus===2&&!fl(t)}function fl(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Mo}function hl(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function ml(t){return t.requestStatus===1&&t.requestTime+ra<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(t){const e=t,{installationEntry:s,registrationPromise:n}=await zs(e);return n?n.catch(console.error):Vs(e).catch(console.error),s.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(t,e=!1){const s=t;return await xl(s),(await Vs(s,e)).token}async function xl(t){const{registrationPromise:e}=await zs(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t){if(!t||!t.options)throw hs("App Configuration");if(!t.name)throw hs("App Name");const e=["projectId","apiKey","appId"];for(const s of e)if(!t.options[s])throw hs(s);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function hs(t){return nt.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="installations",bl="installations-internal",vl=t=>{const e=t.getProvider("app").getImmediate(),s=yl(e),n=Dt(e,"heartbeat");return{app:e,appConfig:s,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},wl=t=>{const e=t.getProvider("app").getImmediate(),s=Dt(e,wa).getImmediate();return{getId:()=>pl(s),getToken:a=>gl(s,a)}};function _l(){It(new Et(wa,vl,"PUBLIC")),It(new Et(bl,wl,"PRIVATE"))}_l();ct(aa,Fs);ct(aa,Fs,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="analytics",Nl="firebase_id",Sl="origin",jl=60*1e3,kl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ws="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xe=new ir("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},_e=new Ln("analytics","Analytics",Cl);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(t){if(!t.startsWith(Ws)){const e=_e.create("invalid-gtag-resource",{gtagURL:t});return xe.warn(e.message),""}return t}function _a(t){return Promise.all(t.map(e=>e.catch(s=>s)))}function Il(t,e){let s;return window.trustedTypes&&(s=window.trustedTypes.createPolicy(t,e)),s}function El(t,e){const s=Il("firebase-js-sdk-policy",{createScriptURL:Tl}),n=document.createElement("script"),a=`${Ws}?l=${t}&id=${e}`;n.src=s?s==null?void 0:s.createScriptURL(a):a,n.async=!0,document.head.appendChild(n)}function Rl(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Al(t,e,s,n,a,r){const o=n[a];try{if(o)await e[o];else{const u=(await _a(s)).find(d=>d.measurementId===a);u&&await e[u.appId]}}catch(l){xe.error(l)}t("config",a,r)}async function Ol(t,e,s,n,a){try{let r=[];if(a&&a.send_to){let o=a.send_to;Array.isArray(o)||(o=[o]);const l=await _a(s);for(const u of o){const d=l.find(c=>c.measurementId===u),f=d&&e[d.appId];if(f)r.push(f);else{r=[];break}}}r.length===0&&(r=Object.values(e)),await Promise.all(r),t("event",n,a||{})}catch(r){xe.error(r)}}function Dl(t,e,s,n){async function a(r,...o){try{if(r==="event"){const[l,u]=o;await Ol(t,e,s,l,u)}else if(r==="config"){const[l,u]=o;await Al(t,e,s,n,l,u)}else if(r==="consent"){const[l,u]=o;t("consent",l,u)}else if(r==="get"){const[l,u,d]=o;t("get",l,u,d)}else if(r==="set"){const[l]=o;t("set",l)}else t(r,...o)}catch(l){xe.error(l)}}return a}function $l(t,e,s,n,a){let r=function(...o){window[n].push(arguments)};return window[a]&&typeof window[a]=="function"&&(r=window[a]),window[a]=Dl(r,t,e,s),{gtagCore:r,wrappedGtag:window[a]}}function Pl(t){const e=window.document.getElementsByTagName("script");for(const s of Object.values(e))if(s.src&&s.src.includes(Ws)&&s.src.includes(t))return s;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=30,Bl=1e3;class Ml{constructor(e={},s=Bl){this.throttleMetadata=e,this.intervalMillis=s}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,s){this.throttleMetadata[e]=s}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Na=new Ml;function Fl(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Ul(t){var e;const{appId:s,apiKey:n}=t,a={method:"GET",headers:Fl(n)},r=kl.replace("{app-id}",s),o=await fetch(r,a);if(o.status!==200&&o.status!==304){let l="";try{const u=await o.json();!((e=u.error)===null||e===void 0)&&e.message&&(l=u.error.message)}catch{}throw _e.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function zl(t,e=Na,s){const{appId:n,apiKey:a,measurementId:r}=t.options;if(!n)throw _e.create("no-app-id");if(!a){if(r)return{measurementId:r,appId:n};throw _e.create("no-api-key")}const o=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new Zl;return setTimeout(async()=>{l.abort()},jl),Sa({appId:n,apiKey:a,measurementId:r},o,l,e)}async function Sa(t,{throttleEndTimeMillis:e,backoffCount:s},n,a=Na){var r;const{appId:o,measurementId:l}=t;try{await Vl(n,e)}catch(u){if(l)return xe.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:l};throw u}try{const u=await Ul(t);return a.deleteThrottleMetadata(o),u}catch(u){const d=u;if(!Wl(d)){if(a.deleteThrottleMetadata(o),l)return xe.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:l};throw u}const f=Number((r=d==null?void 0:d.customData)===null||r===void 0?void 0:r.httpStatus)===503?Qs(s,a.intervalMillis,Ll):Qs(s,a.intervalMillis),c={throttleEndTimeMillis:Date.now()+f,backoffCount:s+1};return a.setThrottleMetadata(o,c),xe.debug(`Calling attemptFetch again in ${f} millis`),Sa(t,c,n,a)}}function Vl(t,e){return new Promise((s,n)=>{const a=Math.max(e-Date.now(),0),r=setTimeout(s,a);t.addEventListener(()=>{clearTimeout(r),n(_e.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Wl(t){if(!(t instanceof Rs)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Zl{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Hl(t,e,s,n,a){if(a&&a.global){t("event",s,n);return}else{const r=await e,o=Object.assign(Object.assign({},n),{send_to:r});t("event",s,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(){if(lr())try{await cr()}catch(t){return xe.warn(_e.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return xe.warn(_e.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Kl(t,e,s,n,a,r,o){var l;const u=zl(t);u.then(p=>{s[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&xe.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>xe.error(p)),e.push(u);const d=ql().then(p=>{if(p)return n.getId()}),[f,c]=await Promise.all([u,d]);Pl(r)||El(r,f.measurementId),a("js",new Date);const h=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return h[Sl]="firebase",h.update=!0,c!=null&&(h[Nl]=c),a("config",f.measurementId,h),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e){this.app=e}_delete(){return delete Ct[this.app.options.appId],Promise.resolve()}}let Ct={},Cn=[];const Tn={};let ms="dataLayer",Jl="gtag",In,ja,En=!1;function Ql(){const t=[];if(or()&&t.push("This is a browser extension environment."),ur()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,a)=>`(${a+1}) ${n}`).join(" "),s=_e.create("invalid-analytics-context",{errorInfo:e});xe.warn(s.message)}}function Yl(t,e,s){Ql();const n=t.options.appId;if(!n)throw _e.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)xe.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw _e.create("no-api-key");if(Ct[n]!=null)throw _e.create("already-exists",{id:n});if(!En){Rl(ms);const{wrappedGtag:r,gtagCore:o}=$l(Ct,Cn,Tn,ms,Jl);ja=r,In=o,En=!0}return Ct[n]=Kl(t,Cn,Tn,e,In,ms,s),new Gl(t)}function Xl(t=$n()){t=mt(t);const e=Dt(t,ts);return e.isInitialized()?e.getImmediate():ec(t)}function ec(t,e={}){const s=Dt(t,ts);if(s.isInitialized()){const a=s.getImmediate();if(dr(e,s.getOptions()))return a;throw _e.create("already-initialized")}return s.initialize({options:e})}function tc(t,e,s,n){t=mt(t),Hl(ja,Ct[t.app.options.appId],e,s,n).catch(a=>xe.error(a))}const Rn="@firebase/analytics",An="0.10.17";function sc(){It(new Et(ts,(e,{options:s})=>{const n=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return Yl(n,a,s)},"PUBLIC")),It(new Et("analytics-internal",t,"PRIVATE")),ct(Rn,An),ct(Rn,An,"esm2017");function t(e){try{const s=e.getProvider(ts).getImmediate();return{logEvent:(n,a,r)=>tc(s,n,a,r)}}catch(s){throw _e.create("interop-component-reg-failed",{reason:s})}}}sc();const nc={apiKey:"AIzaSyAgRdBtg_I5NMAC5x3gh-7_CvQ058n25go",authDomain:"jiang-ai-web.firebaseapp.com",projectId:"jiang-ai-web",storageBucket:"jiang-ai-web.firebasestorage.app",messagingSenderId:"923755523160",appId:"1:923755523160:web:043dca5d76b6ded7ecee2d",measurementId:"G-8FXGZWC0M4"},rs=fr(nc),_t=hr(rs),gt=mr(rs),ac=Do(rs);typeof window<"u"&&Xl(rs);async function rc(t,e){try{if(t.includes("firebase")&&t.includes("storage")||t==="/icon/icon.jpg"||t.includes("/icon/icon.jpg"))return t;if(t.startsWith("data:"))return console.log("  data URL"),t;console.log("  Storage:",t);let s;try{s=await fetch(t)}catch(d){console.warn(" CORS:",d);const f=`https://cors-anywhere.herokuapp.com/${t}`;s=await fetch(f)}if(!s.ok)throw new Error(`Failed to fetch icon: ${s.status}`);const n=await s.blob(),a=Date.now();let r="png";if(n.type){const d=n.type.toLowerCase();d.includes("svg")?r="svg":d.includes("png")?r="png":d.includes("jpeg")||d.includes("jpg")?r="jpg":d.includes("ico")?r="ico":d.includes("gif")?r="gif":d.includes("webp")&&(r="webp")}const o=`favicons/${e}-${a}.${r}`,l=Oo(ac,o);await Ro(l,n);const u=await Ao(l);return console.log(" :",u),u}catch(s){return console.error(" :",s),t}}const ic=_i({name:Vt().min(1,""),url:Vt().url(""),favicon:Vt().url("URL"),note:Vt().optional()});function ka({id:t,name:e,url:s,favicon:n,tags:a,note:r,onClose:o,onSave:l,onDelete:u}){const[d,f]=m.useState({name:e,url:s,favicon:n,note:r||""}),[c,h]=m.useState({}),[p,b]=m.useState(!1),[D,S]=m.useState(!1),T=N=>{const x=/\{([^}]+)\}/g;return(N.match(x)||[]).map(X=>X.replace(/\{|\}/g,"").trim())},F=N=>N.replace(/\{[^}]+\}/g,"").trim(),$=async()=>{if(!d.url||!d.url.startsWith("http")){h({url:"(http://https://)"});return}try{b(!0);const N=new URL(d.url).hostname,P=(L=>{try{return new URL(L).hostname.replace(/^www\./,"")}catch{return L.replace(/^(https?:\/\/)?(www\.)?/,"").split("/")[0]}})(d.url);console.log(" :",P);try{const L="favicon-cache-simple",ee=localStorage.getItem(L);if(ee){const te=JSON.parse(ee);delete te[P],localStorage.setItem(L,JSON.stringify(te))}}catch(L){console.warn(":",L)}const X=Date.now(),H=`https://www.google.com/s2/favicons?domain=${d.url}&sz=64&t=${X}`;f(L=>({...L,favicon:H})),f(L=>({...L,name:N.replace("www.","").split(".")[0]})),h(L=>{const ee={...L};return delete ee.url,ee}),console.log(" :",H)}catch(N){console.error(":",N),h({url:""})}finally{b(!1)}},k=async N=>{N.preventDefault();try{S(!0);const x=ic.safeParse(d);if(!x.success){const L={};x.error.errors.forEach(ee=>{L[ee.path[0]]=ee.message}),h(L);return}const P=T(d.note||""),X=F(d.note||"");let H=d.favicon;if(d.favicon!==n){console.log(" ...");try{H=await rc(d.favicon,t),console.log(" :",H)}catch(L){console.warn(" URL:",L)}}else console.log(" ");if(d.favicon!==n){console.log(" Favicon ");const ee=(te=>{try{return new URL(te).hostname.replace(/^www\./,"")}catch{return te.replace(/^(https?:\/\/)?(www\.)?/,"").split("/")[0]}})(d.url);try{const te="favicon-cache-simple",ye=localStorage.getItem(te);if(ye){const ne=JSON.parse(ye);delete ne[ee],localStorage.setItem(te,JSON.stringify(ne)),console.log(" :",ee)}}catch(te){console.warn(":",te)}}l({id:t,name:d.name,url:d.url,favicon:H,tags:P,note:X}),o()}catch(x){console.error(":",x),h({submit:""})}finally{S(!1)}},I=N=>{const{name:x,value:P}=N.target;f(X=>({...X,[x]:P})),c[x]&&h(X=>{const H={...X};return delete H[x],H})};return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 select-none",children:i.jsxs(ae.div,{className:"w-full max-w-md bg-white rounded-xl shadow-xl p-6 select-none",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{type:"spring",damping:25},children:[i.jsxs("div",{className:"flex justify-between items-center mb-4 select-none",children:[i.jsx("h2",{className:"text-xl font-semibold select-none",children:""}),i.jsx("button",{onClick:o,className:"text-gray-500 hover:text-gray-700 select-none",children:i.jsx("i",{className:"fa-solid fa-xmark select-none"})})]}),i.jsxs("form",{onSubmit:k,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 select-none",children:""}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"url",name:"url",value:d.url,onChange:I,className:"flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com"}),i.jsx("button",{type:"button",onClick:$,disabled:p||!d.url,className:"px-3 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:bg-blue-300 select-none",children:p?"...":""})]}),c.url&&i.jsx("p",{className:"mt-1 text-sm text-red-500 select-none",children:c.url})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 select-none",children:""}),i.jsx("input",{type:"text",name:"name",value:d.name,onChange:I,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""}),c.name&&i.jsx("p",{className:"mt-1 text-sm text-red-500 select-none",children:c.name})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 select-none",children:""}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex-1",children:i.jsx("input",{type:"url",name:"favicon",value:d.favicon,onChange:I,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/favicon.ico"})}),i.jsx("span",{className:"text-gray-400 select-none",children:""}),i.jsxs("label",{className:"cursor-pointer select-none",children:[i.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:N=>{var P;const x=(P=N.target.files)==null?void 0:P[0];if(x){const X=new FileReader;X.onload=H=>{var L;(L=H.target)!=null&&L.result&&f(ee=>{var te;return{...ee,favicon:(te=H.target)==null?void 0:te.result}})},X.readAsDataURL(x)}}}),i.jsxs("div",{className:"px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-md text-sm text-gray-700 transition-colors select-none",children:[i.jsx("i",{className:"fa-solid fa-upload mr-1 select-none"}),""]})]})]}),d.favicon&&i.jsxs("div",{className:"mt-2 flex items-center select-none",children:[i.jsx("img",{src:d.favicon,alt:"",className:"w-8 h-8 rounded mr-2 select-none"}),i.jsx("span",{className:"text-xs text-gray-500 truncate max-w-xs select-none",children:d.favicon.startsWith("data:image")?"":d.favicon})]}),c.favicon&&i.jsx("p",{className:"mt-1 text-sm text-red-500 select-none",children:c.favicon})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 select-none",children:[" (",":  ",""," ","",")"]}),i.jsxs("div",{className:"text-xs text-gray-500 mb-1 select-none",children:["",""]}),i.jsx("textarea",{name:"note",value:d.note,onChange:I,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"..."})]}),i.jsxs("div",{className:"flex flex-col gap-4 pt-4 select-none",children:[i.jsxs("div",{className:"flex gap-2 select-none",children:[i.jsx("button",{type:"button",onClick:o,className:"flex-1 px-4 py-2 text-gray-700 border rounded-md hover:bg-gray-50 select-none",children:""}),i.jsx("button",{type:"submit",disabled:D,className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed select-none",children:D?i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"fa-solid fa-spinner fa-spin mr-2"}),"..."]}):""})]}),c.submit&&i.jsx("p",{className:"text-red-500 text-sm text-center select-none",children:c.submit}),u&&i.jsxs("button",{type:"button",onClick:()=>{confirm("")&&(u(t),o())},className:"w-full px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 shadow-md select-none",children:[i.jsx("i",{className:"fa-solid fa-trash mr-2 select-none"}),""]})]})]})]})})}const Ca=m.createContext(void 0);function oc({children:t}){const[e,s]=m.useState(()=>{const h=localStorage.getItem("cardOpacity");let p=h?parseFloat(h):.1;return p>1&&(p=p/100),Math.max(.05,Math.min(1,p))}),[n,a]=m.useState(()=>{const h=localStorage.getItem("searchBarOpacity");let p=h?parseFloat(h):.1;return p>1&&(p=p/100),Math.max(.05,Math.min(1,p))}),[r,o]=m.useState(()=>{const h=localStorage.getItem("parallaxEnabled");return h?JSON.parse(h):!0}),l=()=>window.innerHeight>window.innerWidth?"mobile":"1080p",[u,d]=m.useState(()=>localStorage.getItem("wallpaperResolution")||l()),[f,c]=m.useState(!1);return m.useEffect(()=>{localStorage.setItem("cardOpacity",e.toString())},[e]),m.useEffect(()=>{localStorage.setItem("searchBarOpacity",n.toString())},[n]),m.useEffect(()=>{localStorage.setItem("parallaxEnabled",JSON.stringify(r))},[r]),m.useEffect(()=>{localStorage.setItem("wallpaperResolution",u)},[u]),i.jsx(Ca.Provider,{value:{cardOpacity:e,searchBarOpacity:n,parallaxEnabled:r,wallpaperResolution:u,isSettingsOpen:f,setCardOpacity:s,setSearchBarOpacity:a,setParallaxEnabled:o,setWallpaperResolution:d,setIsSettingsOpen:c},children:t})}function xt(){const t=m.useContext(Ca);if(t===void 0)throw new Error("useTransparency must be used within a TransparencyProvider");return t}class lc{constructor(){ue(this,"cacheKey","favicon-cache-simple");ue(this,"defaultExpiry",7*24*60*60*1e3);ue(this,"cache",{});ue(this,"loadingPromises",new Map);this.loadCache()}loadCache(){try{const e=localStorage.getItem(this.cacheKey);e&&(this.cache=JSON.parse(e),this.cleanExpiredCache())}catch(e){console.warn(" favicon :",e),this.cache={}}}saveCache(){try{localStorage.setItem(this.cacheKey,JSON.stringify(this.cache))}catch(e){console.warn(" favicon :",e)}}cleanExpiredCache(){const e=Date.now(),s=[];for(const[n,a]of Object.entries(this.cache))e>a.expiry&&s.push(n);s.forEach(n=>{delete this.cache[n]}),s.length>0&&this.saveCache()}extractDomain(e){try{return new URL(e).hostname.replace(/^www\./,"")}catch{return e.replace(/^(https?:\/\/)?(www\.)?/,"").split("/")[0]}}getFaviconUrls(e,s){return[e,`https://www.google.com/s2/favicons?domain=${s}&sz=64`,`https://www.google.com/s2/favicons?domain=${s}&sz=32`,`https://icons.duckduckgo.com/ip3/${s}.ico`,`https://${s}/favicon.ico`,"/icon/icon.jpg"]}async tryLoadFavicon(e){for(const s of e)try{return await new Promise((n,a)=>{const r=new Image;r.onload=()=>n(),r.onerror=()=>a(),r.src=s,setTimeout(()=>a(),2e3)}),console.log(` Favicon : ${s}`),s}catch{console.log(` Favicon : ${s}`);continue}return"/icon/icon.jpg"}getCachedFavicon(e){const s=this.extractDomain(e),n=this.cache[s];return n&&Date.now()<n.expiry?n.cachedUrl:null}async getFavicon(e,s){const n=this.extractDomain(e),a=this.getCachedFavicon(e);if(a)return a;if(this.loadingPromises.has(n))return this.loadingPromises.get(n);const r=this.loadFavicon(e,s,n);this.loadingPromises.set(n,r);try{return await r}finally{this.loadingPromises.delete(n)}}async loadFavicon(e,s,n){const a=this.getFaviconUrls(s,n);try{const r=await this.tryLoadFavicon(a);return this.cache[n]={url:e,cachedUrl:r,timestamp:Date.now(),expiry:Date.now()+this.defaultExpiry},this.saveCache(),r}catch(r){return console.warn(` favicon : ${n}`,r),"/icon/icon.jpg"}}async getFaviconWithIndexedDB(e,s){return this.getFavicon(e,s)}async getFaviconWithHybridCache(e,s){return this.getFavicon(e,s)}async batchCacheFaviconsToIndexedDB(e){console.log(`  ${e.length}  favicon`);let s=0,n=0,a=0;const r=2;for(let o=0;o<e.length;o+=r){const u=e.slice(o,o+r).map(async(d,f)=>{const c=this.extractDomain(d.url);try{if(this.getCachedFavicon(d.url)){n++;return}const p=(f+1)*500;await new Promise(D=>setTimeout(D,p)),console.log(` [${o+f+1}/${e.length}] : ${c}`),await this.getFavicon(d.url,d.favicon)?(s++,console.log(` : ${c}`)):a++}catch(h){a++,console.warn(` : ${c}`,h)}});await Promise.allSettled(u),o+r<e.length&&await new Promise(d=>setTimeout(d,1e3))}console.log("  favicon :"),console.log(`   : ${s}, : ${n}, : ${a}`)}clearCache(){this.cache={},this.loadingPromises.clear();try{localStorage.removeItem(this.cacheKey)}catch(e){console.warn(" favicon :",e)}}getCacheStats(){const e=Date.now(),s=Object.keys(this.cache).length,n=Object.values(this.cache).filter(r=>e>r.expiry).length;let a="0 KB";try{a=`${(new Blob([JSON.stringify(this.cache)]).size/1024).toFixed(1)} KB`}catch{}return{total:s,expired:n,size:a}}}const ks=new lc;function cc(t,e){const[s,n]=m.useState(e),[a,r]=m.useState(!1),[o,l]=m.useState(!1);return m.useEffect(()=>{n(e),l(!1),r(!1);const u=e==="/icon/icon.jpg",d=e.includes("google.com/s2/favicons")&&!e.includes("&t=");if(u||d){const f=ks.getCachedFavicon(t);if(f&&f!==e&&f!=="/icon/icon.jpg"){console.log(" :",f),n(f);return}u&&(r(!0),ks.getFavicon(t,e).then(c=>{c!==e&&c!=="/icon/icon.jpg"&&(console.log(" :",c),n(c)),l(!1)}).catch(c=>{console.warn("Favicon :",c),l(!0)}).finally(()=>{r(!1)}))}},[t,e]),{faviconUrl:s,isLoading:a,error:o}}const Ht={mobile:640,tablet:768,desktop:1024,wide:1440},dc={columns:{mobile:2,tablet:3,tabletLandscape:4,desktop:6,wide:8},gaps:{mobile:"gap-x-2 gap-y-6",tablet:"gap-x-3 gap-y-8",desktop:"gap-x-4 gap-y-10"},cardSizes:{mobile:"w-full max-w-[160px]",tablet:"w-full max-w-[180px]",desktop:"w-full max-w-[200px]"}};function Ta(t){const[e,s]=m.useState({width:typeof window<"u"?window.innerWidth:1024,height:typeof window<"u"?window.innerHeight:768}),[n,a]=m.useState("landscape"),[r,o]=m.useState("desktop"),l={...dc,...t};m.useEffect(()=>{const h=()=>{const p=window.innerWidth,b=window.innerHeight;s({width:p,height:b}),a(p>b?"landscape":"portrait"),p<Ht.mobile||p<Ht.tablet?o("mobile"):p<Ht.desktop?o("tablet"):p<Ht.wide?o("desktop"):o("wide")};return h(),window.addEventListener("resize",h),window.addEventListener("orientationchange",h),()=>{window.removeEventListener("resize",h),window.removeEventListener("orientationchange",h)}},[]);const u=()=>{const h=r==="tablet"&&n==="landscape";return{columns:h?l.columns.tabletLandscape:l.columns[r],gap:l.gaps[r==="wide"?"desktop":r],cardSize:l.cardSizes[r==="wide"?"desktop":r],deviceType:r,orientation:n,screenSize:e,isMobile:r==="mobile",isTablet:r==="tablet",isDesktop:r==="desktop"||r==="wide",isTabletLandscape:h}},d=()=>{const h=u(),p="grid";return h.isMobile?`${p} grid-cols-2 ${h.gap} px-2`:h.isTablet?h.isTabletLandscape?`${p} grid-cols-4 ${h.gap} px-4`:`${p} grid-cols-3 ${h.gap} px-4`:`${p} grid-cols-6 lg:grid-cols-8 ${h.gap} px-6`},f=()=>{const h=u(),p="relative group";return h.isMobile?`${p} ${h.cardSize} mx-auto`:h.isTablet?`${p} ${h.cardSize} mx-auto transform transition-transform duration-200 hover:scale-105`:`${p} ${h.cardSize} mx-auto transform transition-all duration-300 hover:scale-110 hover:z-10`},c=()=>{const h=u();return h.isMobile?{containerClass:"px-4 py-4",searchClass:"w-full max-w-lg mx-auto",buttonSize:"text-sm px-3 py-2"}:h.isTablet?{containerClass:"px-6 py-6",searchClass:"w-full max-w-2xl mx-auto",buttonSize:"text-base px-4 py-2"}:{containerClass:"px-8 py-8",searchClass:"w-full max-w-3xl mx-auto",buttonSize:"text-lg px-6 py-3"}};return{...u(),getGridClasses:d,getCardClasses:f,getSearchBarLayout:c}}function uc({id:t,name:e,url:s,favicon:n,tags:a,visitCount:r,note:o,index:l,moveCard:u,onSave:d,onDelete:f}){const[c,h]=m.useState(!1),[p,b]=m.useState(!1),[D,S]=m.useState(!1),T=m.useRef(null),F=m.useRef(null),{cardOpacity:$}=xt(),{faviconUrl:k,isLoading:I,error:N}=cc(s,n),{isMobile:x,getCardClasses:P}=Ta(),[{isDragging:X},H]=Wa({type:"WEBSITE_CARD",item:{id:t,index:l},collect:z=>({isDragging:z.isDragging()}),canDrag:()=>!x}),[,L]=Za({accept:"WEBSITE_CARD",hover(z){if(!T.current)return;const se=z.index,U=l;se!==U&&(u(se,U),z.index=U)}});L(T),H(T);const ee=()=>{F.current&&(clearTimeout(F.current),F.current=null)};m.useEffect(()=>()=>{ee()},[]);const te=()=>{!x&&!X&&b(!0)},ye=()=>{x||b(!1)},ne=()=>{x&&(S(!0),setTimeout(()=>S(!1),200)),window.open(s,"_blank"),d({id:t,name:e,url:s,favicon:n,tags:a,note:o,visitCount:r+1,lastVisit:new Date().toISOString().split("T")[0]})},w=()=>{x&&h(!0)},O=()=>{x&&(F.current=setTimeout(w,500))},W=()=>{F.current&&(clearTimeout(F.current),F.current=null)};return i.jsxs(i.Fragment,{children:[i.jsxs(ae.div,{className:`${P()} relative rounded-lg`,style:{opacity:X?.5:1,backgroundColor:`rgba(255, 255, 255, ${$})`,backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",transform:D&&x?"scale(0.95)":"scale(1)",transition:x?"transform 0.15s ease-in-out":"background-color 0.3s ease, border-color 0.3s ease"},onMouseEnter:te,onMouseLeave:ye,onTouchStart:O,onTouchEnd:W,onTouchMove:W,onTouchCancel:W,onClick:ne,whileTap:x?{scale:.95,transition:{duration:.15,ease:"easeInOut"}}:{},whileHover:x?{}:{scale:1.03,y:-4,transition:{duration:.3,ease:[.4,0,.2,1],type:"spring",stiffness:200,damping:15}},initial:{opacity:0,y:20},whileInView:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut",delay:.1}},viewport:{once:!0},ref:T,children:[i.jsx("div",{className:`absolute ${x?"top-1 right-1":"bottom-0.5 right-0.5"} z-10`,children:i.jsx("button",{onClick:z=>{z.stopPropagation(),h(!0)},className:`p-1 text-white/50 hover:text-white select-none transition-all duration-500 ease-out ${x?"text-xs bg-black/20 rounded-full":""} ${p&&!x?"opacity-100":x?"opacity-70":"opacity-0"}`,children:i.jsx("i",{className:"fa-solid fa-gear text-xs select-none"})})}),i.jsxs("div",{className:`h-full flex flex-col ${x?"pt-2":"pt-3"} select-none`,children:[i.jsxs("div",{className:`flex flex-col items-center ${x?"px-1":"px-2"} select-none`,children:[i.jsxs("div",{className:`${x?"w-8 h-8 mb-1":"w-11 h-11 mb-1"} rounded-md overflow-hidden select-none relative`,children:[i.jsx("img",{src:k,alt:`${e} favicon`,className:"w-full h-full object-contain select-none",loading:"lazy",draggable:"false"}),I&&i.jsx("div",{className:`absolute top-0 right-0 ${x?"w-1.5 h-1.5":"w-2 h-2"} bg-yellow-400 rounded-full animate-pulse`,title:"..."}),!I&&N&&i.jsx("div",{className:`absolute top-0 right-0 ${x?"w-1.5 h-1.5":"w-2 h-2"} bg-red-400 rounded-full`,title:""})]}),i.jsx("h3",{className:`${x?"text-[0.65rem]":"text-xs"} font-medium text-white text-center line-clamp-2 px-2 mt-1 select-none`,children:e})]}),!x&&i.jsx("div",{className:"px-2 mb-1 select-none",children:i.jsx("p",{className:"text-white/60 text-[0.65rem] text-center line-clamp-2 select-none",children:o||new URL(s).hostname})}),i.jsx("div",{className:`mt-0 ${x?"px-1 pb-1":"px-3 pb-2"} select-none`,children:i.jsx("div",{className:"flex flex-wrap gap-1 justify-center select-none",children:a.slice(0,x?2:6).map(z=>i.jsx("span",{className:`px-1.5 py-0.5 bg-white/20 rounded-full ${x?"text-[0.55rem]":"text-[0.65rem]"} text-white ${x?"max-w-[45px]":"max-w-[60px]"} truncate select-none`,children:z},z))})}),r>0&&i.jsx("div",{className:"px-2 pb-2 select-none",children:i.jsx("div",{className:"text-center",children:i.jsxs("span",{className:`px-2 py-1 bg-blue-500/20 text-blue-200 rounded-full ${x?"text-[0.55rem]":"text-[0.65rem]"} border border-blue-300/30`,children:[i.jsx("i",{className:"fa-solid fa-eye mr-1"}),r,""]})})}),i.jsx("div",{className:"flex-1"})]}),!x&&p&&i.jsx(ae.div,{className:"absolute inset-0 rounded-lg ring-2 ring-white/30 pointer-events-none",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.4,ease:"easeOut"}}),!x&&p&&i.jsx(ae.div,{className:"absolute inset-0 rounded-lg pointer-events-none",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5,ease:"easeOut"},style:{boxShadow:"0 8px 25px rgba(0,0,0,0.2)",zIndex:-1}})]}),c&&i.jsx(ka,{id:t,name:e,url:s,favicon:n,tags:a,note:o,onClose:()=>h(!1),onSave:z=>{d(z),h(!1)},onDelete:f})]})}function fc(t={}){var U,q;const e=m.useRef(null);m.useEffect(()=>{const y=g=>{if(g.code==="Space"||g.key===" "||g.keyCode===32){const j=document.activeElement;!(j&&(j.tagName==="INPUT"||j.tagName==="TEXTAREA"||j.isContentEditable))&&e.current&&(g.preventDefault(),e.current.focus())}};return window.addEventListener("keydown",y,{capture:!0}),()=>window.removeEventListener("keydown",y,{capture:!0})},[]);const[s,n]=m.useState(""),[a,r]=m.useState(!1),[o,l]=m.useState("bing"),[u,d]=m.useState(!1),[f,c]=m.useState([]),[h,p]=m.useState(!1),[b,D]=m.useState(-1),S=m.useRef(null),[T,F]=m.useState(null),[$,k]=m.useState(null),[I,N]=m.useState(!1),x=m.useRef(null),{searchBarOpacity:P}=xt(),X=[{key:"bing",label:"Bing",icon:i.jsx("i",{className:"fa-brands fa-microsoft text-blue-400"})},{key:"google",label:"Google",icon:i.jsx("i",{className:"fa-brands fa-google text-blue-500"})}],H=(y,g)=>{const j=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FECA57","#FF9FF3","#54A0FF","#5F27CD","#00D2D3","#FF9F43","#EE5A24","#FD79A8","#0FB9B1","#A55EEA","#26D0CE","#FDCB6E","#6C5CE7","#74B9FF","#E17055","#F39C12","#E74C3C","#3498DB","#9B59B6","#1ABC9C"],A=["M2,5 Q12,2 22,5 Q32,8 42,5 L42,8 Q32,11 22,8 Q12,5 2,8 Z","M20,2 L38,2 L29,12 Z","M20,7 A6,6 0,1,1 20,7.1 Z","M20,2 L30,7 L20,12 L10,7 Z","M20,2 L22,8 L28,8 L23,11 L25,17 L20,14 L15,17 L17,11 L12,8 L18,8 Z","M2,6 Q15,2 28,6 Q41,10 54,6 L54,9 Q41,13 28,9 Q15,5 2,9 Z","M5,5 L10,2 L15,5 L20,2 L25,5 L30,2 L35,5 L35,8 L30,11 L25,8 L20,11 L15,8 L10,11 L5,8 Z","M20,2 Q25,7 20,12 Q15,7 20,2 M20,2 Q25,7 30,2 Q25,7 30,12 Q25,7 20,12","M20,4 C18,2 15,2 15,5 C15,8 20,12 20,12 C20,12 25,8 25,5 C25,2 22,2 20,4 Z","M15,4 Q10,7 15,10 Q20,7 25,10 Q30,7 25,4 Q20,7 15,4","M5,4 Q20,2 35,4 Q40,7 35,10 Q20,8 5,10 Q0,7 5,4","M2,7 Q10,3 18,7 Q26,11 34,7 Q38,5 42,7 L42,10 Q38,8 34,10 Q26,14 18,10 Q10,6 2,10 Z"];for(let K=0;K<50;K++){const G=document.createElementNS("http://www.w3.org/2000/svg","svg"),oe=document.createElementNS("http://www.w3.org/2000/svg","path"),ke=j[Math.floor(Math.random()*j.length)],rt=A[Math.floor(Math.random()*A.length)],$t=Math.random()*.6+.5,qe=44*$t,yt=16*$t;if(G.setAttribute("width",qe.toString()),G.setAttribute("height",yt.toString()),G.setAttribute("viewBox","0 0 44 16"),G.style.cssText=`
        position: fixed;
        pointer-events: none;
        z-index: 10000;
        left: ${y-qe/2}px;
        top: ${g-yt/2}px;
        transform-origin: center;
      `,oe.setAttribute("d",rt),oe.setAttribute("fill",ke),Math.random()>.5&&(oe.setAttribute("stroke",ke),oe.setAttribute("stroke-width","1"),oe.setAttribute("fill-opacity","0.8")),Math.random()>.7){const Ke=`gradient-${Date.now()}-${K}`,Pe=document.createElementNS("http://www.w3.org/2000/svg","defs"),me=document.createElementNS("http://www.w3.org/2000/svg","linearGradient"),ot=document.createElementNS("http://www.w3.org/2000/svg","stop"),Ae=document.createElementNS("http://www.w3.org/2000/svg","stop");me.setAttribute("id",Ke),me.setAttribute("x1","0%"),me.setAttribute("y1","0%"),me.setAttribute("x2","100%"),me.setAttribute("y2","100%"),ot.setAttribute("offset","0%"),ot.setAttribute("stop-color",ke),Ae.setAttribute("offset","100%"),Ae.setAttribute("stop-color",j[Math.floor(Math.random()*j.length)]),me.appendChild(ot),me.appendChild(Ae),Pe.appendChild(me),G.appendChild(Pe),oe.setAttribute("fill",`url(#${Ke})`)}G.appendChild(oe),document.body.appendChild(G);const bt=Math.random()*360*(Math.PI/180),Me=Math.random()*4+2;let vt=Math.cos(bt)*Me,be=Math.sin(bt)*Me;const is=(Math.random()-.5)*80;let Pt=Math.random()*360,fe=y-qe/2,Re=g-yt/2;const os=.2,Lt=.998,it=Date.now(),Bt=()=>{const Ke=(Date.now()-it)/1e3;be+=os,vt*=Lt,be*=Lt,fe+=vt,Re+=be,Pt+=is*(1/60),G.style.left=fe+"px",G.style.top=Re+"px",G.style.transform=`rotate(${Pt}deg)`;const Pe=Math.max(0,1-Ke/7);G.style.opacity=Pe.toString(),Pe>0&&Re<window.innerHeight+100?requestAnimationFrame(Bt):document.body.contains(G)&&document.body.removeChild(G)};setTimeout(()=>{requestAnimationFrame(Bt)},Math.random()*150)}},L=()=>{const y=X.findIndex(j=>j.key===o),g=X[(y+1)%X.length].key;if(l(g),x.current){const j=x.current.getBoundingClientRect(),A=j.left+60,Q=j.top+j.height/2;H(A,Q)}},ee=["chatGPT","Gemini","Deepseek","Kimi"],te=["https://chatgpt.com/","https://gemini.google.com/","https://chat.deepseek.com/","https://www.kimi.com/"],ye=[i.jsx("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:22,height:22,verticalAlign:"middle",position:"relative",top:"1px",userSelect:"none"},children:i.jsx("img",{src:"/jiang_ai_web/icon/chatgpt.svg",alt:"chatGPT",style:{width:20,height:20,display:"block",userSelect:"none"}})}),i.jsx("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:22,height:22,verticalAlign:"middle",position:"relative",top:"1px",userSelect:"none"},children:i.jsx("img",{src:"/jiang_ai_web/icon/gemini.svg",alt:"Gemini",style:{width:20,height:20,display:"block",userSelect:"none"}})}),i.jsx("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:22,height:22,verticalAlign:"middle",position:"relative",top:"1px",userSelect:"none"},children:i.jsx("img",{src:"/jiang_ai_web/icon/deepseek.svg",alt:"Deepseek",style:{width:20,height:20,display:"block",userSelect:"none"}})}),i.jsx("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:22,height:22,verticalAlign:"middle",position:"relative",top:"1px",userSelect:"none"},children:i.jsx("img",{src:"/jiang_ai_web/icon/kimi.svg",alt:"Kimi",style:{width:20,height:20,display:"block",userSelect:"none"}})})],ne=(y,g)=>{switch(y){case"google":return`https://www.google.com/search?q=${encodeURIComponent(g)}`;default:return`https://www.bing.com/search?q=${encodeURIComponent(g)}`}},w=async y=>{if(!y.trim())return[];try{const g=document.createElement("script"),j=`baiduCallback_${Date.now()}`;return new Promise(A=>{window[j]=Q=>{if(Q&&Q.s&&Array.isArray(Q.s)){const K=Q.s.slice(0,5).map((G,oe)=>({id:`baidu-${oe}`,text:G,query:G}));A(K)}else{const K=O(y);A(K.slice(0,5).map((G,oe)=>({id:`local-${oe}`,text:G,query:G})))}document.head.removeChild(g),delete window[j]},setTimeout(()=>{if(window[j]){const Q=O(y);A(Q.slice(0,5).map((K,G)=>({id:`local-${G}`,text:K,query:K}))),document.head.contains(g)&&document.head.removeChild(g),delete window[j]}},2e3),g.src=`https://suggestion.baidu.com/su?wd=${encodeURIComponent(y)}&cb=${j}`,g.onerror=()=>{const Q=O(y);A(Q.slice(0,5).map((K,G)=>({id:`local-${G}`,text:K,query:K}))),document.head.contains(g)&&document.head.removeChild(g),delete window[j]},document.head.appendChild(g)})}catch(g){return console.warn("Failed to fetch Baidu suggestions:",g),O(y).slice(0,5).map((A,Q)=>({id:`local-${Q}`,text:A,query:A}))}},O=y=>{const g=[],j=y.toLowerCase(),A=[y,`${y} `,`${y} `,`${y} `,` ${y}`,`${y} `,`${y} `,`${y} `];return j.includes("")||j.includes("how")?g.push(`${y}`,`${y} `,`${y} `):j.includes("")||j.includes("")?g.push(`${y}`,`${y} `,`${y} `):g.push(...A),[...new Set(g)]};m.useEffect(()=>{const y=setTimeout(()=>{s.trim()?w(s).then(g=>{c(g),p(g.length>0),D(-1)}):(c([]),p(!1),D(-1))},500);return()=>clearTimeout(y)},[s]);const W=(y,g)=>{y.preventDefault();const j=g||(b>=0&&f[b]?f[b].query:s);j.trim()&&(window.open(ne(o,j),"_blank"),n(""),p(!1))},z=y=>{switch(y.key){case"ArrowDown":if(!h)return;y.preventDefault(),D(g=>g<f.length-1?g+1:g);break;case"ArrowUp":if(!h)return;y.preventDefault(),D(g=>g>-1?g-1:-1);break;case"Escape":p(!1),D(-1);break;case"Tab":y.shiftKey||(y.preventDefault(),L());break}},se=m.useRef(null);return m.useLayoutEffect(()=>{if(u&&S.current){const y=S.current.getBoundingClientRect();F({left:y.left+y.width/2,top:y.top})}else F(null)},[u,o]),i.jsx("div",{className:"relative left-0 right-0 z-50 flex justify-center px-4 select-none",children:i.jsx(ae.div,{className:"w-full flex justify-center",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:i.jsx("form",{ref:x,onSubmit:W,className:"relative flex items-center justify-center",onMouseEnter:()=>{se.current&&(clearTimeout(se.current),se.current=null),r(!0)},onMouseLeave:()=>{se.current&&clearTimeout(se.current),se.current=setTimeout(()=>{r(!1),d(!1),setTimeout(()=>{p(!1)},100)},200)},children:i.jsxs(ae.div,{animate:{width:a?520:340},initial:{width:340},transition:{type:"tween",duration:.28,ease:"easeInOut"},style:{display:"flex",alignItems:"center",position:"relative"},onAnimationComplete:()=>{a&&d(!0)},children:[i.jsxs("div",{className:"relative flex items-center",children:[i.jsxs("button",{type:"button",className:"flex items-center gap-2 px-1.5 py-1 text-white/80 hover:text-white bg-transparent border-none outline-none text-lg select-none relative z-20",style:{pointerEvents:"auto",height:36,minWidth:36,minHeight:36,justifyContent:"center",alignItems:"center",display:"flex"},tabIndex:-1,onClick:()=>{L()},onMouseEnter:()=>N(!0),onMouseLeave:()=>N(!1),children:[(U=X.find(y=>y.key===o))==null?void 0:U.icon,i.jsx("span",{className:"hidden sm:inline text-base font-semibold select-none",children:(q=X.find(y=>y.key===o))==null?void 0:q.label})]}),I&&i.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800/90 text-white text-sm rounded-lg shadow-lg backdrop-blur-sm border border-white/10 whitespace-nowrap z-30",children:[" ",o==="bing"?"Google":"Bing",i.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-800/90"})]})]}),i.jsx("span",{className:"mx-2 text-white/30 select-none font-normal text-base z-10",children:"|"}),i.jsx("span",{className:"text-white/60 select-none font-normal text-base z-10"}),i.jsx("input",{ref:e,type:"text",value:s,onChange:y=>n(y.target.value),onKeyDown:z,placeholder:"...",className:"backdrop-blur-md border border-white/20 rounded-full pl-4 py-2 text-white placeholder-white/60 outline-none text-base transition-all duration-200 pr-12 w-full ml-3",style:{backgroundColor:`rgba(255, 255, 255, ${P})`,minWidth:"4rem",maxWidth:"100%"}}),i.jsx("button",{ref:S,type:"submit",className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 text-white/70 hover:text-white transition-colors bg-transparent border-none outline-none group select-none",style:{pointerEvents:"auto"},children:i.jsx(ae.i,{className:"fa-solid fa-magnifying-glass text-sm",whileHover:{scale:1.22,rotate:18,color:"#fff"},whileTap:{scale:.95,rotate:0},animate:{color:a?"#fff":void 0},transition:{type:"spring",stiffness:350,damping:18},style:{display:"inline-block"}})}),h&&f.length>0&&i.jsx(ae.div,{className:"absolute top-full left-0 right-0 mt-2 backdrop-blur-md rounded-lg shadow-lg border border-white/20 z-50 overflow-hidden max-h-60 overflow-y-auto",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.2},style:{pointerEvents:"auto",backgroundColor:"rgba(255, 255, 255, 0.9)"},children:f.map((y,g)=>i.jsx("div",{className:`px-4 py-3 cursor-pointer transition-colors border-b border-white/10 last:border-b-0 select-none ${g===b?"bg-blue-500/20 text-gray-800":"hover:bg-white/50 text-gray-700"}`,onClick:j=>{j.stopPropagation(),n(y.text),W(j,y.query)},onMouseEnter:()=>D(g),onMouseDown:j=>j.preventDefault(),children:i.jsxs("div",{className:"flex items-center gap-3 select-none",children:[i.jsx("i",{className:"fa-solid fa-magnifying-glass text-gray-400 text-sm w-4 select-none"}),i.jsx("div",{className:"flex-1 min-w-0 select-none",children:i.jsx("div",{className:"font-medium text-sm truncate select-none",children:y.text})})]})},y.id))}),a&&u&&T&&i.jsx("div",{className:"fixed z-30",style:{left:T.left,top:T.top,width:0,height:0,pointerEvents:"auto",transform:"translate(-50%, -50%)"},children:i.jsx("div",{style:{position:"absolute",left:0,top:0},children:ye.map((y,g,j)=>{const Q=(-60+120/(j.length-1)*g)*(Math.PI/180),K=44,G=K*Math.cos(Q),oe=K*Math.sin(Q),ke=19,rt=ke*3.6;return i.jsxs(ae.span,{role:"img","aria-label":ee[g],initial:{x:0,y:0,scale:.3,opacity:0,filter:"none"},animate:{x:G,y:oe,scale:1.18,opacity:1,filter:"none"},whileHover:{scale:1.38,filter:"drop-shadow(0 0 4px #fff) drop-shadow(0 0 8px #fff)"},transition:{type:"spring",stiffness:400,damping:22,delay:.08*g},style:{position:"absolute",left:0,top:0,fontSize:22,cursor:"pointer",userSelect:"none",zIndex:2,willChange:"filter, transform"},onClick:()=>window.open(te[g],"_blank"),onMouseEnter:()=>k(g),onMouseLeave:()=>k(null),children:[y,$===g&&i.jsx("div",{style:{position:"absolute",left:28,top:"50%",transform:"translateY(-50%)",height:ke,width:rt,background:"rgba(255,255,255,0.98)",color:"#222",borderRadius:ke/2,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 12px #0003",fontSize:14,fontWeight:500,pointerEvents:"auto",zIndex:10,padding:"0 10px",whiteSpace:"nowrap"},children:i.jsx("span",{style:{userSelect:"none"},children:ee[g]})})]},g)})})})]})})})})}function hc(){const[t,e]=m.useState(!1);m.useEffect(()=>{const n=setTimeout(()=>{e(!0)},1e4);return()=>clearTimeout(n)},[]);const s=()=>{window.open("https://github.com/jiangjianghong","_blank")};return t?i.jsx("div",{className:"cat-container",children:i.jsxs("div",{className:"cat",onClick:s,style:{cursor:"pointer"},children:[i.jsx("div",{className:"paw"}),i.jsx("div",{className:"paw"}),i.jsxs("div",{className:"shake",children:[i.jsx("div",{className:"tail"}),i.jsxs("div",{className:"main",children:[i.jsx("div",{className:"head"}),i.jsx("div",{className:"body",children:i.jsx("div",{className:"leg"})}),i.jsxs("div",{className:"face",children:[i.jsxs("div",{className:"mustache_cont",children:[i.jsx("div",{className:"mustache"}),i.jsx("div",{className:"mustache"})]}),i.jsxs("div",{className:"mustache_cont",children:[i.jsx("div",{className:"mustache"}),i.jsx("div",{className:"mustache"})]}),i.jsx("div",{className:"nose"}),i.jsx("div",{className:"eye"}),i.jsx("div",{className:"eye"}),i.jsxs("div",{className:"brow_cont",children:[i.jsx("div",{className:"brow"}),i.jsx("div",{className:"brow"})]}),i.jsxs("div",{className:"brow_cont",children:[i.jsx("div",{className:"brow"}),i.jsx("div",{className:"brow"})]}),i.jsx("div",{className:"ear_l",children:i.jsx("div",{className:"inner"})}),i.jsxs("div",{className:"ear_r",children:[i.jsx("div",{className:"outer"}),i.jsx("div",{className:"inner"})]})]})]})]})]})}):null}const Ia=m.createContext(void 0);function Ee(){const t=m.useContext(Ia);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function mc({children:t}){const[e,s]=m.useState(null),[n,a]=m.useState(!0),r=async(h,p)=>{await wr(_t,h,p)},o=async(h,p)=>{const b=await vr(_t,h,p);b.user&&await Ys(b.user)},l=async()=>{e&&!e.emailVerified&&await Ys(e)},u=async()=>{e&&await gr(e)},d=async()=>{const h=new yr;await br(_t,h)},f=async()=>{await xr(_t)};m.useEffect(()=>pr(_t,p=>{s(p),a(!1)}),[]);const c={currentUser:e,login:r,register:o,loginWithGoogle:d,logout:f,sendVerificationEmail:l,reloadUser:u,loading:n};return i.jsx(Ia.Provider,{value:c,children:!n&&t})}const Ea=async(t,e=3,s=1e3)=>{let n;for(let a=0;a<=e;a++)try{return await t()}catch(r){if(n=r,a===e)throw n;const o=s*Math.pow(2,a);console.log(` ${o}ms (${a+1}/${e+1})`),await new Promise(l=>setTimeout(l,o))}throw n},pc=async(t,e,s)=>{var n,a;try{return(n=s==null?void 0:s.onSyncStart)==null||n.call(s),await Ea(async()=>{const r=pt(gt,"userSettings",t.uid);await Os(r,{...e,lastSync:Kt()},{merge:!0})}),console.log(""),(a=s==null?void 0:s.onSyncSuccess)==null||a.call(s,""),!0}catch(r){return console.error(":",r),!1}},gc=async t=>{try{const e=pt(gt,"userSettings",t.uid),s=await As(e);if(s.exists()){const n=s.data();return console.log(""),n}else return console.log(""),null}catch(e){return console.error(":",e),null}},Cs=async(t,e,s)=>{var n,a;try{return(n=s==null?void 0:s.onSyncStart)==null||n.call(s),await Ea(async()=>{const r=pt(gt,"userWebsites",t.uid);await Os(r,{websites:e,lastSync:Kt()})}),console.log(""),(a=s==null?void 0:s.onSyncSuccess)==null||a.call(s,""),!0}catch(r){return console.error(":",r),!1}},xc=async t=>{try{const e=pt(gt,"userWebsites",t.uid),s=await As(e);if(s.exists()){const n=s.data();return console.log(""),n.websites}else return console.log(""),null}catch(e){return console.error(":",e),null}},yc=(t,e)=>{const s={};return t.forEach(n=>{s[n.id]={...n}}),e.forEach(n=>{const a=s[n.id];if(!a)s[n.id]={...n};else{const r=new Date(a.lastVisit||"2000-01-01").getTime(),o=new Date(n.lastVisit||"2000-01-01").getTime();let l;o>r?l={...n}:r>o?l={...a}:l=n.visitCount>a.visitCount?{...n}:{...a},l.visitCount=Math.max(a.visitCount||0,n.visitCount||0),l.lastVisit=r>o?a.lastVisit:n.lastVisit,s[n.id]=l}}),Object.values(s)};let ps=null,Ie=0;const Nt=3,Ts=(t,e,s,n)=>{ps&&clearTimeout(ps),ps=setTimeout(async()=>{var a,r,o,l;(a=n==null?void 0:n.onSyncStart)==null||a.call(n);try{const d=(await Promise.allSettled([Cs(t,e),pc(t,s)])).filter(f=>f.status==="rejected");d.length===0?(Ie=0,(r=n==null?void 0:n.onSyncSuccess)==null||r.call(n,"")):Ie<Nt?(Ie++,console.log(` ${Ie}/${Nt} ...`),setTimeout(()=>{Ts(t,e,s,n)},1e3*Math.pow(2,Ie-1))):(Ie=0,(o=n==null?void 0:n.onSyncError)==null||o.call(n,`${d.length}  ${Nt} `))}catch(u){Ie<Nt?(Ie++,console.log(` ${Ie}/${Nt} ...`),setTimeout(()=>{Ts(t,e,s,n)},1e3*Math.pow(2,Ie-1))):(Ie=0,(l=n==null?void 0:n.onSyncError)==null||l.call(n,": "+u.message))}},5e3)},On=async(t,e,s)=>{var n,a;try{(n=s==null?void 0:s.onSyncStart)==null||n.call(s);const r=pt(gt,"userProfiles",t.uid),o={uid:t.uid,email:t.email||"",displayName:e,createdAt:Kt(),updatedAt:Kt()};return await Os(r,o,{merge:!0}),console.log(""),(a=s==null?void 0:s.onSyncSuccess)==null||a.call(s,""),!0}catch(r){return console.error(":",r),!1}},gs=async t=>{try{const e=pt(gt,"userProfiles",t.uid),s=await As(e);if(s.exists()){const n=s.data();return console.log(""),n}else return console.log(""),null}catch(e){return console.error(":",e),null}},Ra=m.createContext(void 0);function Aa(){const t=m.useContext(Ra);if(t===void 0)throw new Error("useUserProfile must be used within a UserProfileProvider");return t}function bc({children:t}){const{currentUser:e}=Ee(),[s,n]=m.useState(null),[a,r]=m.useState(!1),o=(s==null?void 0:s.displayName)||"",l=async d=>{if(!e||!e.emailVerified)return!1;r(!0);try{return await On(e,d)?(n(c=>c?{...c,displayName:d,updatedAt:new Date}:null),setTimeout(async()=>{const c=await gs(e);c&&n(c)},1e3),!0):!1}catch(f){return console.error(":",f),!1}finally{r(!1)}};m.useEffect(()=>{(async()=>{var f;if(e&&e.emailVerified){r(!0);try{const c=await gs(e);if(c)n(c);else{const h=((f=e.email)==null?void 0:f.split("@")[0])||"";await On(e,h);const p=await gs(e);n(p)}}catch(c){console.error(":",c)}finally{r(!1)}}else n(null)})()},[e]);const u={userProfile:s,displayName:o,updateDisplayName:l,loading:a};return i.jsx(Ra.Provider,{value:u,children:t})}const Dn={isOnline:navigator.onLine,lastSyncTime:null,syncInProgress:!1,syncError:null,pendingChanges:0},Oa=m.createContext(void 0);function Zs(){const t=m.useContext(Oa);if(t===void 0)throw new Error("useSyncStatus must be used within a SyncProvider");return t}function vc({children:t}){const[e,s]=m.useState(Dn),n=o=>{s(l=>({...l,...o}))},a=()=>{s(Dn)};m.useEffect(()=>{const o=()=>{n({isOnline:!0,syncError:null}),console.log(" ")},l=()=>{n({isOnline:!1,syncError:"",syncInProgress:!1}),console.log(" ")};return window.addEventListener("online",o),window.addEventListener("offline",l),n({isOnline:navigator.onLine}),()=>{window.removeEventListener("online",o),window.removeEventListener("offline",l)}},[]);const r={syncStatus:e,updateSyncStatus:n,resetSyncStatus:a};return i.jsx(Oa.Provider,{value:r,children:t})}function wc(t){const{currentUser:e}=Ee(),{updateSyncStatus:s}=Zs(),{cardOpacity:n,searchBarOpacity:a,parallaxEnabled:r,wallpaperResolution:o}=xt(),l=m.useRef(""),u=m.useRef(null),d=m.useRef(null),f=m.useRef(0),c=m.useCallback((h=!1)=>{if(!navigator.onLine){s({syncInProgress:!1,syncError:"",pendingChanges:1});return}if(!e||!e.emailVerified){e&&!e.emailVerified&&s({syncInProgress:!1,syncError:"",pendingChanges:1});return}if((document.querySelector('[role="dialog"]')||document.querySelector(".modal")||document.querySelector("[data-modal]"))&&!h){console.log(" "),setTimeout(()=>c(!1),5e3);return}const b={cardOpacity:n,searchBarOpacity:a,parallaxEnabled:r,wallpaperResolution:o,theme:localStorage.getItem("theme")||"light",lastSync:null};console.log(h?" ...":" ..."),Ts(e,t,b,{onSyncStart:()=>{s({syncInProgress:!0,syncError:null,pendingChanges:0})},onSyncSuccess:D=>{const S=JSON.stringify({websites:t.map(T=>({id:T.id,name:T.name,url:T.url,visitCount:T.visitCount})),settings:{cardOpacity:n,searchBarOpacity:a,parallaxEnabled:r,wallpaperResolution:o,theme:b.theme}});l.current=S,f.current=0,s({syncInProgress:!1,lastSyncTime:new Date,syncError:null,pendingChanges:0}),console.log(" :",D)},onSyncError:D=>{s({syncInProgress:!1,syncError:D,pendingChanges:1}),console.error(" :",D)}})},[e,t,n,a,r,o,s]);m.useEffect(()=>{if(JSON.stringify({websites:t.map(T=>({id:T.id,name:T.name,url:T.url,visitCount:T.visitCount})),settings:{cardOpacity:n,searchBarOpacity:a,parallaxEnabled:r,wallpaperResolution:o,theme:localStorage.getItem("theme")||"light"}})===l.current)return;const p=Date.now();f.current===0&&(f.current=p),u.current&&clearTimeout(u.current);const b=p-f.current,D=45e3,S=5e3;if(b>=D){console.log(" "),d.current&&(clearTimeout(d.current),d.current=null),c(!0);return}if(u.current=setTimeout(()=>{c(!1)},S),!d.current){const T=D-b;console.log(` ${Math.round(T/1e3)}`),d.current=setTimeout(()=>{console.log(" "),u.current&&(clearTimeout(u.current),u.current=null),c(!0)},T)}return()=>{u.current&&clearTimeout(u.current)}},[e,t,n,a,r,o,c]),m.useEffect(()=>()=>{u.current&&clearTimeout(u.current),d.current&&clearTimeout(d.current)},[])}function _c(){const{syncStatus:t}=Zs(),{currentUser:e}=Ee(),[,s]=m.useState(0);if(m.useEffect(()=>{const l=()=>{if(!t.lastSyncTime)return 6e4;const c=Math.floor((new Date().getTime()-t.lastSyncTime.getTime())/1e3);return c<60?1e3:c<3600?6e4:3e5},u=()=>{const f=l();return setTimeout(()=>{s(c=>c+1),u()},f)},d=u();return()=>clearTimeout(d)},[t.lastSyncTime]),!e)return null;const n=l=>{if(!l)return"";const d=Math.floor((new Date().getTime()-l.getTime())/1e3);return d<60?`${d}`:d<3600?`${Math.floor(d/60)}`:d<86400?`${Math.floor(d/3600)}`:`${Math.floor(d/86400)}`},a=()=>t.syncInProgress?i.jsx("i",{className:"fa-solid fa-sync fa-spin text-blue-500"}):t.syncError?i.jsx("i",{className:"fa-solid fa-exclamation-triangle text-red-500"}):t.isOnline?t.pendingChanges>0?i.jsx("i",{className:"fa-solid fa-clock text-orange-500"}):i.jsx("i",{className:"fa-solid fa-check-circle text-green-500"}):i.jsx("i",{className:"fa-solid fa-wifi-slash text-gray-500"}),r=()=>t.syncInProgress?"...":t.syncError?"":t.isOnline?t.pendingChanges>0?`${t.pendingChanges} `:"":"",o=()=>t.syncError?t.syncError:`: ${n(t.lastSyncTime)}`;return i.jsx("div",{className:"space-y-2",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[a(),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:r()})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("div",{className:`w-2 h-2 rounded-full ${t.isOnline?"bg-green-500":"bg-red-500"}`}),i.jsx("span",{className:"text-xs text-gray-500",children:t.isOnline?"":""})]})]}),i.jsx("p",{className:"text-xs text-gray-500",children:o()}),i.jsx(Tt,{children:t.syncError&&i.jsx(ae.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"bg-red-50 border border-red-200 rounded p-2",children:i.jsxs("p",{className:"text-xs text-red-600",children:[i.jsx("i",{className:"fa-solid fa-info-circle mr-1"}),t.syncError]})})}),i.jsx(Tt,{children:t.syncInProgress&&i.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"w-full bg-gray-200 rounded-full h-1",children:i.jsx(ae.div,{className:"bg-blue-500 h-1 rounded-full",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:2,ease:"easeInOut"}})})})]})})}function Nc(){const{syncStatus:t}=Zs(),{currentUser:e}=Ee();if(!e)return null;const s=()=>t.syncInProgress?"...":t.syncError?"":t.pendingChanges>0?"":"",n=()=>t.syncInProgress?"blue":t.syncError?"red":t.pendingChanges>0?"yellow":"green",a=()=>t.syncInProgress?"...":t.pendingChanges>0?"5":"45",r=n();return i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[i.jsxs("div",{className:`bg-${r}-50 rounded p-2 text-center`,children:[i.jsx("div",{className:`font-medium text-${r}-700`,children:""}),i.jsx("div",{className:`text-${r}-600`,children:e.emailVerified?s():""})]}),i.jsxs("div",{className:"bg-blue-50 rounded p-2 text-center",children:[i.jsx("div",{className:"font-medium text-blue-700",children:""}),i.jsx("div",{className:"text-blue-600",children:a()})]})]})}function Sc({onSuccess:t}){const[e,s]=m.useState(!0),[n,a]=m.useState(""),[r,o]=m.useState(""),[l,u]=m.useState(""),[d,f]=m.useState(!1),[c,h]=m.useState(""),[p,b]=m.useState(!1),[D,S]=m.useState(""),{login:T,register:F,loginWithGoogle:$,sendVerificationEmail:k}=Ee(),I=async P=>{if(P.preventDefault(),!n||!r){h("");return}if(!e&&!l.trim()){h("");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)){h("");return}if(!e){if(l.length<2||l.length>20){h("2-20");return}if(!/^[a-zA-Z0-9\u4e00-\u9fa5_-]+$/.test(l)){h("");return}}f(!0),h("");try{e?(await T(n,r),t()):(await F(n,r),b(!0),S(n),localStorage.setItem("pendingDisplayName",l))}catch(H){switch(console.error(":",H),H.code){case"auth/user-not-found":h("");break;case"auth/wrong-password":h("");break;case"auth/email-already-in-use":h("");break;case"auth/weak-password":h("6");break;case"auth/invalid-email":h("");break;case"auth/network-request-failed":h(" Firebase ");break;case"auth/too-many-requests":h("");break;case"auth/invalid-credential":h("");break;default:h(e?"":"")}}finally{f(!1)}},N=async()=>{f(!0),h("");try{await $(),t()}catch(P){console.error("Google:",P),h("Google")}finally{f(!1)}},x=async()=>{try{await k(),alert("")}catch{alert("")}};return p?i.jsx(ae.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx("i",{className:"fa-solid fa-envelope-circle-check text-green-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-green-800",children:""}),i.jsxs("p",{className:"text-sm text-green-700 mt-1",children:[" ",i.jsx("strong",{children:D}),"  "]}),i.jsxs("div",{className:"mt-3 flex space-x-2",children:[i.jsx("button",{onClick:x,className:"text-xs bg-green-100 hover:bg-green-200 text-green-800 px-2 py-1 rounded",children:""}),i.jsx("button",{onClick:()=>{b(!1),s(!0),a(""),o(""),u("")},className:"text-xs bg-blue-100 hover:bg-blue-200 text-blue-800 px-2 py-1 rounded",children:""})]})]})]})}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-center mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:e?"":""}),i.jsx("p",{className:"text-sm text-gray-600",children:e?"":""})]}),c&&i.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:c}),i.jsxs("form",{onSubmit:I,className:"space-y-4",children:[!e&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),i.jsx("input",{type:"text",value:l,onChange:P=>u(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"2-20",disabled:d,maxLength:20}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:""})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),i.jsx("input",{type:"email",value:n,onChange:P=>a(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"",disabled:d})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),i.jsx("input",{type:"password",value:r,onChange:P=>o(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"6",disabled:d,minLength:6})]}),i.jsx("button",{type:"submit",disabled:d,className:"w-full bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white py-2 px-4 rounded-md transition-colors",children:d?"...":e?"":""})]}),i.jsxs("div",{className:"mt-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-gray-300"})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:"px-2 bg-white text-gray-500",children:""})})]}),i.jsxs("button",{onClick:N,disabled:d,className:"mt-4 w-full bg-red-500 hover:bg-red-600 disabled:bg-gray-400 text-white py-2 px-4 rounded-md transition-colors flex items-center justify-center",children:[i.jsx("i",{className:"fab fa-google mr-2"})," Google ",e?"":""]})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx("button",{onClick:()=>s(!e),className:"text-blue-500 hover:text-blue-600",disabled:d,children:e?"":""})})]})}function jc(){const{currentUser:t}=Ee(),{displayName:e,updateDisplayName:s,loading:n}=Aa(),[a,r]=m.useState(!1),[o,l]=m.useState(e),[u,d]=m.useState(!1),[f,c]=m.useState("");if(m.useEffect(()=>{l(e)},[e]),!t||!t.emailVerified)return null;const h=async()=>{if(!o.trim()){c("");return}if(o.length<2||o.length>20){c("2-20");return}if(!/^[a-zA-Z0-9\u4e00-\u9fa5_-]+$/.test(o)){c("");return}d(!0),c("");try{await s(o)?(r(!1),alert("")):c("")}catch(b){c(""),console.error(":",b)}finally{d(!1)}},p=()=>{l(e),r(!1),c("")};return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600",children:""}),!a&&i.jsxs("button",{onClick:()=>r(!0),className:"text-xs text-blue-500 hover:text-blue-600",disabled:n,children:[i.jsx("i",{className:"fa-solid fa-edit mr-1"}),""]})]}),a?i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{type:"text",value:o,onChange:b=>l(b.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"",maxLength:20,disabled:u}),f&&i.jsx("p",{className:"text-xs text-red-600",children:f}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:h,disabled:u||!o.trim(),className:"text-xs bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white px-2 py-1 rounded",children:u?i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"fa-solid fa-spinner fa-spin mr-1"}),"..."]}):i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"fa-solid fa-check mr-1"}),""]})}),i.jsxs("button",{onClick:p,disabled:u,className:"text-xs bg-gray-500 hover:bg-gray-600 text-white px-2 py-1 rounded",children:[i.jsx("i",{className:"fa-solid fa-times mr-1"}),""]})]}),i.jsx("p",{className:"text-xs text-gray-500",children:"2-20"})]}):i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("i",{className:"fa-solid fa-user text-gray-400"}),i.jsx("span",{className:"text-sm font-medium text-gray-800",children:n?"...":e})]}),i.jsx("div",{className:"border-t border-gray-200 pt-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("i",{className:"fa-solid fa-envelope text-gray-400"}),i.jsx("span",{className:"text-xs text-gray-600",children:t.email})]}),i.jsx("i",{className:"fa-solid fa-check-circle text-green-500 text-xs",title:""})]})})]})}const Je=class Je{static getInstance(){return Je.instance||(Je.instance=new Je),Je.instance}hasConsent(){try{return localStorage.getItem("cookie-consent")==="accepted"}catch{return!1}}getConsentStatus(){try{const e=localStorage.getItem("cookie-consent");return e==="accepted"?"accepted":e==="declined"?"declined":"pending"}catch{return"pending"}}setItem(e,s,n=!1){try{return n||this.hasConsent()?(localStorage.setItem(e,s),!0):(console.warn(` : ${e} (Cookie)`),!1)}catch(a){return console.error(":",a),!1}}getItem(e,s=!1){try{return s||this.hasConsent()?localStorage.getItem(e):(console.warn(` : ${e} (Cookie)`),null)}catch(n){return console.error(":",n),null}}removeItem(e,s=!1){try{return s||this.hasConsent()?(localStorage.removeItem(e),!0):(console.warn(` : ${e} (Cookie)`),!1)}catch(n){return console.error(":",n),!1}}getAllKeys(e=!0){try{if(!this.hasConsent()&&!e)return[];const s=[],n=["cookie-consent","cookie-consent-date"];for(let a=0;a<localStorage.length;a++){const r=localStorage.key(a);r&&(e||!n.includes(r))&&s.push(r)}return s}catch{return[]}}clearNonEssentialData(){const e=["cookie-consent","cookie-consent-date"];this.getAllKeys(!0).forEach(n=>{if(!e.includes(n))try{localStorage.removeItem(n)}catch(a){console.error(`: ${n}`,a)}}),console.log(" ")}getStorageStats(){const e=this.getAllKeys(!0),s=["cookie-consent","cookie-consent-date"],n=e.filter(r=>!s.includes(r)).length;let a=0;return e.forEach(r=>{try{const o=localStorage.getItem(r)||"";a+=r.length+o.length}catch{}}),{totalKeys:e.length,essentialKeys:s.filter(r=>e.includes(r)).length,nonEssentialKeys:n,consentRequired:!this.hasConsent()&&n>0,storageUsed:`${Math.round(a/1024*100)/100} KB`}}exportData(){if(!this.hasConsent())return console.warn("  (Cookie)"),null;const e={};return this.getAllKeys(!1).forEach(n=>{try{const a=localStorage.getItem(n);a&&(e[n]=JSON.parse(a))}catch{e[n]=localStorage.getItem(n)}}),{exportTime:new Date().toISOString(),consentStatus:this.getConsentStatus(),data:e}}};ue(Je,"instance");let ss=Je;const Le=ss.getInstance();function Da({isOpen:t,onClose:e}){const[s,n]=m.useState(Le.getStorageStats()),[a,r]=m.useState(Le.getConsentStatus());m.useEffect(()=>{t&&(n(Le.getStorageStats()),r(Le.getConsentStatus()))},[t]);const o=()=>{const d=a==="accepted"?"declined":"accepted";d==="accepted"?(localStorage.setItem("cookie-consent","accepted"),localStorage.setItem("cookie-consent-date",new Date().toISOString())):(localStorage.setItem("cookie-consent","declined"),localStorage.setItem("cookie-consent-date",new Date().toISOString()),Le.clearNonEssentialData()),r(d),n(Le.getStorageStats())},l=()=>{confirm(` 


`)&&(Le.clearNonEssentialData(),n(Le.getStorageStats()),alert(" "))},u=()=>{const d=Le.exportData();if(!d){alert(" Cookie");return}const f=new Blob([JSON.stringify(d,null,2)],{type:"application/json"}),c=URL.createObjectURL(f),h=document.createElement("a");h.href=c,h.download=`_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(c),alert(" ")};return t?i.jsx(Tt,{children:i.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:e}),i.jsxs(ae.div,{className:"w-full max-w-2xl bg-white rounded-xl shadow-2xl z-50 max-h-[90vh] flex flex-col mx-4",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:20,stiffness:300},children:[i.jsx("div",{className:"p-6 pb-0",children:i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("i",{className:"fa-solid fa-shield-halved text-blue-600 text-2xl"}),i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:""})]}),i.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 text-xl",children:i.jsx("i",{className:"fa-solid fa-xmark"})})]})}),i.jsxs("div",{className:"flex-1 px-6 py-4 space-y-6 overflow-y-auto",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[i.jsx("i",{className:"fa-solid fa-cookie-bite text-amber-500"}),"Cookie"]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm text-gray-600",children:[":",i.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${a==="accepted"?"bg-green-100 text-green-800":a==="declined"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:a==="accepted"?" ":a==="declined"?" ":" "})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:a==="accepted"?"Cookie":a==="declined"?"Cookie":""})]}),a!=="pending"&&i.jsx("button",{onClick:o,className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${a==="accepted"?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:a==="accepted"?"":""})]})]}),i.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[i.jsx("i",{className:"fa-solid fa-chart-pie text-blue-600"}),""]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.totalKeys}),i.jsx("div",{className:"text-xs text-gray-600",children:""})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.essentialKeys}),i.jsx("div",{className:"text-xs text-gray-600",children:""})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:s.nonEssentialKeys}),i.jsx("div",{className:"text-xs text-gray-600",children:""})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-orange-600",children:s.storageUsed}),i.jsx("div",{className:"text-xs text-gray-600",children:""})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[i.jsx("i",{className:"fa-solid fa-info-circle text-blue-600"}),""]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex items-start gap-3 p-3 bg-green-50 rounded-lg",children:[i.jsx("i",{className:"fa-solid fa-shield-check text-green-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-green-800",children:""}),i.jsx("div",{className:"text-green-700",children:"Cookie - "})]})]}),i.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-50 rounded-lg",children:[i.jsx("i",{className:"fa-solid fa-bookmark text-blue-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-blue-800",children:""}),i.jsx("div",{className:"text-blue-700",children:""})]})]}),i.jsxs("div",{className:"flex items-start gap-3 p-3 bg-purple-50 rounded-lg",children:[i.jsx("i",{className:"fa-solid fa-palette text-purple-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-purple-800",children:""}),i.jsx("div",{className:"text-purple-700",children:""})]})]}),i.jsxs("div",{className:"flex items-start gap-3 p-3 bg-orange-50 rounded-lg",children:[i.jsx("i",{className:"fa-solid fa-chart-line text-orange-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-orange-800",children:""}),i.jsx("div",{className:"text-orange-700",children:""})]})]})]})]}),i.jsxs("div",{className:"border-t pt-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"fa-solid fa-wrench text-gray-600"}),""]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("button",{onClick:u,disabled:a!=="accepted",className:"w-full p-3 bg-blue-100 hover:bg-blue-200 disabled:bg-gray-100 disabled:text-gray-400 text-blue-800 rounded-lg transition-colors text-left",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("i",{className:"fa-solid fa-download"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:""}),i.jsx("div",{className:"text-sm opacity-75",children:"JSON"})]})]})}),i.jsx("button",{onClick:l,className:"w-full p-3 bg-red-100 hover:bg-red-200 text-red-800 rounded-lg transition-colors text-left",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("i",{className:"fa-solid fa-trash"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:""}),i.jsx("div",{className:"text-sm opacity-75",children:""})]})]})})]}),i.jsxs("div",{className:"mt-6",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-2 flex items-center gap-2",children:[i.jsx("i",{className:"fa-solid fa-book-open text-blue-500"}),""]}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:""}),i.jsxs("a",{href:"/tutorial.html",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium shadow transition-colors",children:[i.jsx("i",{className:"fa-solid fa-graduation-cap"}),""]})]})]})]}),i.jsx("div",{className:"p-6 pt-0 border-t",children:i.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500",children:[i.jsxs("span",{children:[": ",new Date().toLocaleDateString("zh-CN")]}),i.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg",children:""})]})})]})]})}):null}function kc({isOpen:t,onClose:e,onConfirm:s,title:n,message:a,confirmText:r="",cancelText:o="",type:l="warning"}){const d=(()=>{switch(l){case"danger":return{icon:"fa-solid fa-triangle-exclamation text-red-500",confirmButton:"bg-red-500 hover:bg-red-600 text-white",borderColor:"border-red-200"};case"warning":return{icon:"fa-solid fa-exclamation-triangle text-orange-500",confirmButton:"bg-orange-500 hover:bg-orange-600 text-white",borderColor:"border-orange-200"};case"info":return{icon:"fa-solid fa-info-circle text-blue-500",confirmButton:"bg-blue-500 hover:bg-blue-600 text-white",borderColor:"border-blue-200"}}})(),f=()=>{s(),e()};return i.jsx(Tt,{children:t&&i.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center",children:[i.jsx(ae.div,{className:"absolute inset-0 bg-black/50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e}),i.jsx(ae.div,{className:`relative bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 border-2 ${d.borderColor}`,initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:20,stiffness:300},children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("i",{className:`${d.icon} text-2xl`})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:n}),i.jsx("div",{className:"text-sm text-gray-600 whitespace-pre-line",children:a})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[i.jsx("button",{onClick:e,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:o}),i.jsx("button",{onClick:f,className:`px-4 py-2 rounded-lg transition-colors ${d.confirmButton}`,children:r})]})]})})]})})}const Cc=[{id:"1",name:"GitHub",url:"https://github.com",favicon:"https://github.githubassets.com/favicons/favicon.png",tags:["",""],visitCount:42,lastVisit:"2023-05-15",note:""},{id:"2",name:"Dribbble",url:"https://dribbble.com",favicon:"https://cdn.dribbble.com/assets/favicon-b38525134603b9513174e916967b4baaaaaa5ee0297c4f53d6fb3ab8ad26c3a4.ico",tags:["",""],visitCount:28,lastVisit:"2023-05-10",note:""},{id:"3",name:"Medium",url:"https://medium.com",favicon:"https://miro.medium.com/v2/resize:fill:32:32/1*sHhtYhaCe2Uc3IU0IgKwIQ.png",tags:["",""],visitCount:15,lastVisit:"2023-05-05",note:""}];function $a(t={}){const{enableAutoSync:e=!0,syncDelay:s=100}=t,n=ss.getInstance(),[a,r]=m.useState(!0),[o,l]=m.useState(null),[u,d]=m.useState(!0),f=m.useCallback(()=>{try{const k=n.getItem("websites");if(k){const I=JSON.parse(k);if(Array.isArray(I)&&I.length>0){const N=I.filter(x=>x.id&&x.name&&x.url);if(N.length>0)return console.log(`  ${N.length} `),N}}}catch(k){console.warn(":",k),l("")}return Cc},[n]),[c,h]=m.useState(()=>{const k=f();return r(!1),k}),p=m.useCallback(k=>{try{n.setItem("websites",JSON.stringify(k))||console.warn("Cookie")}catch(I){console.error(":",I),l("")}},[n]);m.useEffect(()=>{if(!e||!u)return;const k=setTimeout(()=>{const I=f();(I.length!==c.length||JSON.stringify(I.map(N=>N.id).sort())!==JSON.stringify(c.map(N=>N.id).sort()))&&(console.log(" "),h(I)),d(!1)},s);return()=>clearTimeout(k)},[e,s,u,f,c]),m.useEffect(()=>{!u&&e&&p(c)},[c,p,e,u]);const b=m.useCallback(k=>{l(null),h(k)},[]),D=m.useCallback(k=>{const I={...k,visitCount:0,lastVisit:new Date().toISOString().split("T")[0]};b(N=>[...N,I])},[b]),S=m.useCallback((k,I)=>{b(N=>N.map(x=>x.id===k?{...x,...I}:x))},[b]),T=m.useCallback(k=>{b(I=>I.filter(N=>N.id!==k))},[b]),F=m.useCallback(async()=>{try{const k={websites:c,settings:{cardOpacity:parseFloat(localStorage.getItem("cardOpacity")||"0.1"),searchBarOpacity:parseFloat(localStorage.getItem("searchBarOpacity")||"0.1"),parallaxEnabled:JSON.parse(localStorage.getItem("parallaxEnabled")||"true"),wallpaperResolution:localStorage.getItem("wallpaperResolution")||"1080p",theme:localStorage.getItem("theme")||"light"},exportTime:new Date().toISOString(),version:"1.0"};return JSON.stringify(k,null,2)}catch(k){throw new Error(`: ${k instanceof Error?k.message:""}`)}},[c]),$=m.useCallback(async k=>{try{if(!k.websites||!Array.isArray(k.websites))return{success:!1,message:""};const I=k.websites.filter(N=>N.id&&N.name&&N.url&&typeof N.id=="string"&&typeof N.name=="string"&&typeof N.url=="string").map(N=>({...N,visitCount:typeof N.visitCount=="number"?N.visitCount:0,lastVisit:N.lastVisit||new Date().toISOString().split("T")[0],tags:Array.isArray(N.tags)?N.tags:[],note:N.note||""}));return I.length===0?{success:!1,message:""}:(b(I),{success:!0,message:` ${I.length} `,validCount:I.length})}catch(I){return{success:!1,message:`: ${I instanceof Error?I.message:""}`}}},[b]);return{websites:c,setWebsites:b,addWebsite:D,updateWebsite:S,deleteWebsite:T,exportData:F,importData:$,isLoading:a,error:o}}function Tc(){const t=m.useCallback(()=>{try{return{cardOpacity:parseFloat(localStorage.getItem("cardOpacity")||"0.1"),searchBarOpacity:parseFloat(localStorage.getItem("searchBarOpacity")||"0.1"),parallaxEnabled:JSON.parse(localStorage.getItem("parallaxEnabled")||"true"),wallpaperResolution:localStorage.getItem("wallpaperResolution")||"1080p",theme:localStorage.getItem("theme")||"light"}}catch(n){return console.warn(":",n),{cardOpacity:.1,searchBarOpacity:.1,parallaxEnabled:!0,wallpaperResolution:"1080p",theme:"light"}}},[]),e=m.useCallback(n=>{const a=[];return n.cardOpacity!==void 0&&(typeof n.cardOpacity!="number"||n.cardOpacity<.05||n.cardOpacity>.3)&&a.push("0.05-0.3"),n.searchBarOpacity!==void 0&&(typeof n.searchBarOpacity!="number"||n.searchBarOpacity<.05||n.searchBarOpacity>.3)&&a.push("0.05-0.3"),n.parallaxEnabled!==void 0&&typeof n.parallaxEnabled!="boolean"&&a.push("truefalse"),n.wallpaperResolution!==void 0&&(["4k","1080p","720p","mobile"].includes(n.wallpaperResolution)||a.push("")),n.theme!==void 0&&(["light","dark"].includes(n.theme)||a.push("lightdark")),{valid:a.length===0,errors:a}},[]),s=m.useCallback(n=>{const a=e(n),r=[];if(!a.valid)return console.warn(":",a.errors),{success:!1,appliedSettings:[]};try{return typeof n.cardOpacity=="number"&&(localStorage.setItem("cardOpacity",n.cardOpacity.toString()),r.push("")),typeof n.searchBarOpacity=="number"&&(localStorage.setItem("searchBarOpacity",n.searchBarOpacity.toString()),r.push("")),typeof n.parallaxEnabled=="boolean"&&(localStorage.setItem("parallaxEnabled",JSON.stringify(n.parallaxEnabled)),r.push("")),n.wallpaperResolution&&["4k","1080p","720p","mobile"].includes(n.wallpaperResolution)&&(localStorage.setItem("wallpaperResolution",n.wallpaperResolution),r.push("")),n.theme&&["light","dark"].includes(n.theme)&&(localStorage.setItem("theme",n.theme),r.push("")),{success:!0,appliedSettings:r}}catch(o){return console.error(":",o),{success:!1,appliedSettings:[]}}},[e]);return{exportSettings:t,importSettings:s,validateSettings:e}}function Ic(t,e){const[s,n]=m.useState(!1),[a,r]=m.useState(!1),[o,l]=m.useState(null),{importData:u}=$a({enableAutoSync:!1}),{exportSettings:d,importSettings:f}=Tc(),c=m.useCallback(async(p={})=>{const{includeSettings:b=!0,includeWebsites:D=!0}=p;if(!s){n(!0),l(null);try{if(D&&(!t||t.length===0)&&!confirm(""))return;const S={exportTime:new Date().toISOString(),version:"1.0"};D&&(S.websites=t||[]),b&&(S.settings=d());const T=JSON.stringify(S,null,2);if(new Blob([T]).size/1024/1024>50)throw new Error("50MB");const $=new Blob([T],{type:"application/json"}),k=`__${new Date().toISOString().split("T")[0]}.json`;if("showSaveFilePicker"in window)try{const P=await(await window.showSaveFilePicker({suggestedName:k,types:[{description:"JSON",accept:{"application/json":[".json"]}}]})).createWritable();await P.write($),await P.close(),alert(`${D?` ${t.length} `:""}${b?"":""}`);return}catch(x){if(x.name==="AbortError")return;console.warn("API:",x)}const I=URL.createObjectURL($),N=document.createElement("a");N.href=I,N.download=k,N.style.display="none",document.body.appendChild(N),N.click(),document.body.removeChild(N),setTimeout(()=>URL.revokeObjectURL(I),1e3),alert(`${D?` ${t.length} `:""}${b?"":""}`)}catch(S){const T=S instanceof Error?S.message:"";l(`: ${T}`),alert(`${T}`)}finally{n(!1)}}},[s,t,d]),h=m.useCallback(async p=>a?{success:!1,message:""}:(r(!0),l(null),new Promise(b=>{const D=new FileReader;D.onload=async S=>{var T;try{const F=(T=S.target)==null?void 0:T.result,$=JSON.parse(F);let k=0,I=[];if($.websites){const x=await u($);x.success&&(e($.websites.filter(P=>P.id&&P.name&&P.url)),k=x.validCount||0)}if($.settings){const x=f($.settings);x.success&&(I=x.appliedSettings)}if(k+I.length===0){b({success:!1,message:""});return}b({success:!0,message:"",details:{websitesImported:k,settingsApplied:I}})}catch(F){const $=F instanceof Error?F.message:"";l(`: ${$}`),b({success:!1,message:`: ${$}`})}finally{r(!1)}},D.onerror=()=>{l(""),r(!1),b({success:!1,message:""})},D.readAsText(p)})),[a,u,f,e]);return{exportAllData:c,importAllData:h,isExporting:s,isImporting:a,error:o}}function Ec({onClose:t,websites:e,setWebsites:s}){const[n,a]=m.useState(!1),[r,o]=m.useState(!1),[l,u]=m.useState(!1),[d,f]=m.useState(null),{exportAllData:c,importAllData:h,isExporting:p,isImporting:b}=Ic(e,s),{cardOpacity:D,searchBarOpacity:S,parallaxEnabled:T,wallpaperResolution:F,setCardOpacity:$,setSearchBarOpacity:k,setParallaxEnabled:I,setWallpaperResolution:N,setIsSettingsOpen:x}=xt(),{currentUser:P,logout:X}=Ee(),H=m.useRef(null);m.useEffect(()=>(x(!0),()=>x(!1)),[x]);const L=()=>{x(!1),t()},ee=w=>{const O={...w,visitCount:0,lastVisit:new Date().toISOString().split("T")[0]};s([...e,O]),a(!1)},te=async()=>{await c()},ye=w=>{var z;const O=(z=w.target.files)==null?void 0:z[0];if(!O)return;const W=5*1024*1024;if(O.size>W){alert("5MB"),H.current&&(H.current.value="");return}if(!O.type.includes("json")&&!O.name.endsWith(".json")){alert("JSON"),H.current&&(H.current.value="");return}f(O),u(!0),H.current&&(H.current.value="")},ne=async()=>{if(!d||b)return;const w=await h(d);if(w.success){const O=w.details;let W="";O!=null&&O.websitesImported&&(W+=` ${O.websitesImported} `),O!=null&&O.settingsApplied&&O.settingsApplied.length>0&&(W+=`${O.settingsApplied.join("")}`),W+="",alert(W),window.location.reload()}else alert(w.message);f(null)};return i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center select-none",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:L}),i.jsxs(ae.div,{className:"w-96 bg-white rounded-xl shadow-2xl z-50 max-h-[80vh] flex flex-col select-none",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:20,stiffness:300},children:[i.jsx("div",{className:"p-6 pb-0 select-none",children:i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-medium text-gray-800 select-none",children:""}),i.jsx("button",{onClick:L,className:"text-gray-500 hover:text-gray-700 select-none",children:i.jsx("i",{className:"fa-solid fa-xmark text-lg select-none"})})]})}),i.jsxs("div",{className:"flex-1 px-6 py-2 pb-6 space-y-6 overflow-y-auto select-none",children:[i.jsxs("div",{className:"space-y-4 select-none",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider select-none",children:""}),P?i.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 space-y-4",children:[i.jsx(jc,{}),i.jsx("div",{className:"flex justify-center pt-1",children:i.jsxs("button",{onClick:async()=>{try{await X(),L()}catch(w){console.error(":",w)}},className:"text-red-500 hover:text-red-600 transition-colors flex items-center text-sm select-none",children:[i.jsx("i",{className:"fa-solid fa-sign-out-alt mr-1.5 text-xs select-none"}),""]})})]}):i.jsx("div",{className:"bg-gray-100 rounded-lg p-4",children:i.jsx(Sc,{onSuccess:L})})]}),i.jsxs("div",{className:"space-y-4 select-none",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider select-none",children:""}),i.jsx("div",{className:"bg-gray-100 rounded-lg p-4",children:i.jsx(_c,{})})]}),i.jsx("div",{className:"select-none -mt-4",children:i.jsx(Nc,{})}),i.jsxs("div",{className:"space-y-4 select-none",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider select-none",children:""}),i.jsxs("div",{className:"space-y-2 select-none",children:[i.jsxs("label",{className:"text-sm font-medium text-gray-700 select-none",children:[" (",Math.round(S*100),"%)"]}),i.jsx("input",{type:"range",min:"0.05",max:"0.5",step:"0.01",value:S,onChange:w=>k(parseFloat(w.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"})]}),i.jsxs("div",{className:"space-y-2 select-none",children:[i.jsxs("label",{className:"text-sm font-medium text-gray-700 select-none",children:[" (",Math.round(D*100),"%)"]}),i.jsx("input",{type:"range",min:"0.05",max:"0.5",step:"0.01",value:D,onChange:w=>$(parseFloat(w.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"})]}),i.jsxs("div",{className:"space-y-2 select-none",children:[i.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center justify-between select-none",children:[i.jsx("span",{className:"select-none",children:""}),i.jsx("button",{onClick:()=>I(!T),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors select-none ${T?"bg-blue-500":"bg-gray-300"}`,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform select-none ${T?"translate-x-6":"translate-x-1"}`})})]}),i.jsx("p",{className:"text-xs text-gray-500 select-none",children:T?"":""})]}),i.jsxs("div",{className:"space-y-2 select-none",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 select-none",children:""}),i.jsx("div",{className:"grid grid-cols-2 gap-2 select-none",children:[{value:"4k",label:"4K ",desc:""},{value:"1080p",label:"1080p ",desc:""},{value:"720p",label:"720p ",desc:""},{value:"mobile",label:"",desc:""}].map(w=>i.jsxs("button",{onClick:()=>N(w.value),className:`p-3 rounded-lg border-2 transition-all text-left select-none cursor-pointer ${F===w.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"}`,children:[i.jsx("div",{className:"font-medium text-sm",children:w.label}),i.jsx("div",{className:"text-xs text-gray-500",children:w.desc})]},w.value))}),i.jsx("p",{className:"text-xs text-gray-500 select-none",children:""})]})]}),i.jsxs("div",{className:"space-y-4 select-none",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider select-none",children:""}),i.jsxs("button",{onClick:()=>a(!0),className:"w-full px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors select-none",children:[i.jsx("i",{className:"fa-solid fa-plus mr-2 select-none"}),""]})]}),i.jsxs("div",{className:"space-y-4 select-none",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider select-none",children:""}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 select-none",children:[i.jsx("button",{onClick:te,disabled:p,className:`px-3 py-2 rounded-md transition-colors text-sm select-none ${p?"bg-gray-400 cursor-not-allowed text-white":"bg-green-500 hover:bg-green-600 text-white"}`,children:p?i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"fa-solid fa-spinner fa-spin mr-1 select-none"}),""]}):i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"fa-solid fa-download mr-1 select-none"}),""]})}),i.jsx("button",{onClick:()=>{var w;return(w=H.current)==null?void 0:w.click()},disabled:b,className:`px-3 py-2 rounded-md transition-colors text-sm select-none ${b?"bg-gray-400 cursor-not-allowed text-white":"bg-orange-500 hover:bg-orange-600 text-white"}`,children:b?i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"fa-solid fa-spinner fa-spin mr-1 select-none"}),""]}):i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"fa-solid fa-upload mr-1 select-none"}),""]})})]}),i.jsx("input",{ref:H,type:"file",accept:".json",onChange:ye,className:"hidden"}),i.jsx("p",{className:"text-xs text-gray-500 select-none",children:" "})]}),i.jsxs("div",{className:"space-y-4 select-none",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider select-none",children:"Cookie"}),i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsxs("button",{onClick:()=>o(!0),className:"w-full px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors select-none",children:[i.jsx("i",{className:"fa-solid fa-shield-halved mr-2 select-none"}),""]}),i.jsxs("a",{href:"/tutorial.html",target:"_blank",rel:"noopener noreferrer",className:"w-full px-4 py-2 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-md transition-colors flex items-center justify-center gap-2 font-medium select-none border border-blue-200",style:{textDecoration:"none"},children:[i.jsx("i",{className:"fa-solid fa-graduation-cap"}),""]})]})]})]})]}),n&&i.jsx(ka,{id:`new-${Date.now()}`,name:"",url:"",favicon:"",tags:[],note:"",onClose:()=>a(!1),onSave:ee}),r&&i.jsx(Da,{isOpen:r,onClose:()=>o(!1)}),i.jsx(kc,{isOpen:l,onClose:()=>{u(!1),f(null)},onConfirm:ne,title:"",message:` 

 
 
 

`,confirmText:"",cancelText:"",type:"warning"})]})}function Rc(){const{currentUser:t,sendVerificationEmail:e,reloadUser:s,logout:n}=Ee(),[a,r]=m.useState(!1),[o,l]=m.useState(!1);if(!t||t.emailVerified)return null;const u=async()=>{r(!0);try{await e(),alert(" ")}catch(c){alert(" "),console.error(":",c)}finally{r(!1)}},d=async()=>{l(!0);try{await s(),window.location.reload()}catch(c){console.error(":",c)}finally{l(!1)}},f=async()=>{confirm("")&&await n()};return i.jsx(ae.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},className:"fixed top-0 left-0 right-0 z-50 bg-orange-500 text-white shadow-lg",children:i.jsx("div",{className:"container mx-auto px-4 py-3",children:i.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("i",{className:"fa-solid fa-envelope-open-text text-xl"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:""}),i.jsxs("p",{className:"text-sm text-orange-100",children:[" ",i.jsx("strong",{children:t.email})," "]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:u,disabled:a,className:"bg-orange-600 hover:bg-orange-700 disabled:bg-orange-400 px-3 py-1 rounded text-sm transition-colors",children:a?i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"fa-solid fa-spinner fa-spin mr-1"}),"..."]}):i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"fa-solid fa-paper-plane mr-1"}),""]})}),i.jsx("button",{onClick:d,disabled:o,className:"bg-green-500 hover:bg-green-600 disabled:bg-green-400 px-3 py-1 rounded text-sm transition-colors",children:o?i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"fa-solid fa-spinner fa-spin mr-1"}),"..."]}):i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"fa-solid fa-check-circle mr-1"}),""]})}),i.jsxs("button",{onClick:f,className:"bg-red-500 hover:bg-red-600 px-3 py-1 rounded text-sm transition-colors",children:[i.jsx("i",{className:"fa-solid fa-sign-out-alt mr-1"}),""]})]})]})})})}const Qe=class Qe{constructor(){ue(this,"db",null);ue(this,"dbName","WallpaperCache");ue(this,"version",1);ue(this,"storeName","images")}static getInstance(){return Qe.instance||(Qe.instance=new Qe),Qe.instance}async init(){return new Promise((e,s)=>{const n=indexedDB.open(this.dbName,this.version);n.onerror=()=>{console.error("IndexedDB :",n.error),s(n.error)},n.onsuccess=()=>{this.db=n.result,console.log(" IndexedDB "),e()},n.onupgradeneeded=a=>{const r=a.target.result;r.objectStoreNames.contains(this.storeName)||(r.createObjectStore(this.storeName,{keyPath:"key"}).createIndex("timestamp","timestamp",{unique:!1}),console.log("  IndexedDB "))}})}async ensureDB(){return this.db||await this.init(),this.db}async set(e,s,n=2*60*60*1e3){try{const o=(await this.ensureDB()).transaction([this.storeName],"readwrite").objectStore(this.storeName),l={key:e,blob:s,timestamp:Date.now(),ttl:n,size:s.size,type:s.type},u=o.put(l);return new Promise((d,f)=>{u.onsuccess=()=>{console.log(` IndexedDB : ${e} (${(s.size/1024/1024).toFixed(2)}MB)`),d()},u.onerror=()=>{console.error("IndexedDB :",u.error),f(u.error)}})}catch(a){throw console.error("IndexedDB :",a),a}}async get(e){try{const r=(await this.ensureDB()).transaction([this.storeName],"readonly").objectStore(this.storeName).get(e);return new Promise((o,l)=>{r.onsuccess=()=>{const u=r.result;if(!u){o(null);return}if(Date.now()-u.timestamp>u.ttl){console.log(` IndexedDB : ${e}`),this.delete(e),o(null);return}console.log(` IndexedDB : ${e} (${(u.size/1024/1024).toFixed(2)}MB)`),o(u.blob)},r.onerror=()=>{console.error("IndexedDB :",r.error),l(r.error)}})}catch(s){return console.error("IndexedDB :",s),null}}async has(e){try{const r=(await this.ensureDB()).transaction([this.storeName],"readonly").objectStore(this.storeName).get(e);return new Promise(o=>{r.onsuccess=()=>{const l=r.result;if(!l){o(!1);return}if(Date.now()-l.timestamp>l.ttl){this.delete(e),o(!1);return}o(!0)},r.onerror=()=>{o(!1)}})}catch{return!1}}async delete(e){try{const r=(await this.ensureDB()).transaction([this.storeName],"readwrite").objectStore(this.storeName).delete(e);return new Promise((o,l)=>{r.onsuccess=()=>{console.log(` IndexedDB : ${e}`),o()},r.onerror=()=>{console.error("IndexedDB :",r.error),l(r.error)}})}catch(s){console.error("IndexedDB :",s)}}async cleanup(){try{const a=(await this.ensureDB()).transaction([this.storeName],"readwrite").objectStore(this.storeName).openCursor();let r=0;const o=Date.now();return new Promise((l,u)=>{a.onsuccess=d=>{const f=d.target.result;if(f){const c=f.value;o-c.timestamp>c.ttl&&(f.delete(),r++),f.continue()}else console.log(` IndexedDB  ${r} `),l()},a.onerror=()=>{console.error("IndexedDB :",a.error),u(a.error)}})}catch(e){console.error("IndexedDB :",e)}}async getStats(){try{const a=(await this.ensureDB()).transaction([this.storeName],"readonly").objectStore(this.storeName).openCursor();let r=0,o=0;return new Promise((l,u)=>{a.onsuccess=d=>{const f=d.target.result;if(f){const c=f.value;r++,o+=c.size||0,f.continue()}else l({count:r,totalSize:o})},a.onerror=()=>{console.error("IndexedDB :",a.error),u(a.error)}})}catch(e){return console.error("IndexedDB :",e),{count:0,totalSize:0}}}};ue(Qe,"instance");let Is=Qe;const St=Is.getInstance(),Ye=class Ye{constructor(){ue(this,"cache",new Map)}static getInstance(){return Ye.instance||(Ye.instance=new Ye),Ye.instance}set(e,s,n=5*60*1e3){this.cache.set(e,{data:s,timestamp:Date.now(),ttl:n})}get(e){const s=this.cache.get(e);return s?Date.now()-s.timestamp>s.ttl?(this.cache.delete(e),null):s.data:null}cleanup(){const e=Date.now();for(const[s,n]of this.cache.entries())e-n.timestamp>n.ttl&&this.cache.delete(s)}clear(){this.cache.clear()}size(){return this.cache.size}};ue(Ye,"instance");let Es=Ye;const Pa=Es.getInstance();setInterval(()=>{Pa.cleanup()},6e4);const xs={async cacheWallpaperBlob(t,e){try{console.log(" Blob:",{url:t,cacheKey:e});const s=`wallpaper-blob:${e}`,n=await St.get(s);if(n)return console.log(" IndexedDB:",s),URL.createObjectURL(n);console.log(" ...");const a=`https://corsproxy.io/?${encodeURIComponent(t)}`;console.log(" CORS:",a);const r=await fetch(a,{mode:"cors",headers:{Accept:"image/*"}});if(!r.ok)throw new Error(`: ${r.status} ${r.statusText}`);console.log(" Blob...");const o=await r.blob(),l=URL.createObjectURL(o);return console.log(" BlobIndexedDB:",{cacheKey:s,blobUrl:l,size:`${(o.size/1024/1024).toFixed(2)}MB`}),await St.set(s,o,2*60*60*1e3),Pa.set(`wallpaper-source:${e}`,t,2*60*60*1e3),console.log(" IndexedDB:  "),l}catch(s){return console.error(" Blob:",s),console.error(" :",{url:t,cacheKey:e,error:s instanceof Error?s.message:String(s)}),console.log(" CORSBlob"),t}},async preloadTodayWallpapers(){const t=new Date().toDateString(),e=[{url:"https://bing.img.run/uhd.php",key:`bing-${t}`},{url:"https://bing.img.run/1920x1080.php",key:`bing-hd-${t}`},{url:"https://source.unsplash.com/1920x1080/?nature",key:`unsplash-${t}`}],s=await Promise.allSettled(e.map(({url:n,key:a})=>this.cacheWallpaperBlob(n,a)));console.log(" :",s.filter(n=>n.status==="fulfilled").length,"/",s.length)},async getCachedWallpaper(t){const e=`wallpaper-blob:${t}`;try{const s=await St.get(e);if(s)return console.log(" IndexedDB:",e),URL.createObjectURL(s)}catch(s){console.warn("IndexedDB:",s)}return null},async hasCachedWallpaper(t){const e=`wallpaper-blob:${t}`;return await St.has(e)},async cleanupWallpaperCache(){try{await St.cleanup(),console.log(" ")}catch(t){console.error(":",t)}}};function Ac(t,e=[]){const s=m.useRef(null),n=m.useRef(),a=m.useCallback((...o)=>{n.current=o,s.current===null&&(s.current=requestAnimationFrame(()=>{s.current=null,n.current&&t(...n.current)}))},e),r=m.useCallback(()=>{s.current!==null&&(cancelAnimationFrame(s.current),s.current=null)},[]);return Object.assign(a,{cancel:r})}function Oc(t,e=!0){const s=Ac(t,[e]);return m.useCallback(a=>{e&&s(a)},[s,e])}function Dc({websites:t,setWebsites:e}){const{parallaxEnabled:s,wallpaperResolution:n,isSettingsOpen:a}=xt(),{currentUser:r}=Ee(),{displayName:o}=Aa(),{isMobile:l,getGridClasses:u,getSearchBarLayout:d}=Ta();wc(t);const f=(w,O)=>{const W=[...t],[z]=W.splice(w,1);W.splice(O,0,z),e(W)},[c,h]=m.useState(""),[p,b]=m.useState(!1),[D,S]=m.useState(!1),[T,F]=m.useState({x:0,y:0}),[$,k]=m.useState(!1),[I,N]=m.useState(0),[x,P]=m.useState(!1);m.useEffect(()=>{const w=()=>new Date().toISOString().split("T")[0],O=()=>`wallpaper-${n}-${w()}`,z=(()=>{try{const se=O(),U=localStorage.getItem(se);if(U){const{url:q,timestamp:y}=JSON.parse(U),g=Date.now(),j=24*60*60*1e3;if(g-y<j&&q)return q}}catch(se){console.warn(":",se)}return null})();z&&(h(z),b(!0),console.log(" "))},[]),m.useEffect(()=>{const w=setTimeout(()=>{const O=()=>new Date().toISOString().split("T")[0],W=U=>`wallpaper-${U}-${O()}`,se=(U=>{try{const q=W(U),y=localStorage.getItem(q);if(y){const{url:g,timestamp:j}=JSON.parse(y),A=Date.now(),Q=24*60*60*1e3;if(A-j<Q&&g)return g}}catch(q){console.warn(":",q)}return null})(n);console.log(se?" ":" ")},300);return()=>clearTimeout(w)},[n]);const X=[...t].sort((w,O)=>{const W=(O.visitCount||0)-(w.visitCount||0);if(W!==0)return W;const z=new Date(w.lastVisit||"2000-01-01").getTime();return new Date(O.lastVisit||"2000-01-01").getTime()-z}),H=()=>{x||(N(w=>w+1),P(!0),k(!0),setTimeout(()=>{k(!1),setTimeout(()=>{P(!1)},300)},1e3))},L=w=>{e(t.map(O=>O.id===w.id?{...O,...w}:O))};m.useEffect(()=>{const w=g=>({"4k":"https://bing.img.run/uhd.php","1080p":"https://bing.img.run/1920x1080.php","720p":"https://bing.img.run/1366x768.php",mobile:"https://bing.img.run/m.php"})[g],O=()=>{const g=["https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1920&h=1080&fit=crop","https://images.unsplash.com/photo-1519904981063-b0cf448d479e?w=1920&h=1080&fit=crop","https://images.unsplash.com/photo-1501594907352-04cda38ebc29?w=1920&h=1080&fit=crop"],j=new Date().getDate();return g[j%g.length]},W=()=>new Date().toISOString().split("T")[0],z=()=>`wallpaper-${n}-${W()}`,se=()=>`blob-${n}-${W()}`,U=async()=>{try{const g=se();console.log(" Blob:",g);const j=await xs.getCachedWallpaper(g);if(console.log(" Blob:",j?"":""),j)return console.log(" Blob"),{url:j,type:"blob"};const A=z();console.log(" URL:",A);const Q=localStorage.getItem(A);if(Q){const{url:K,timestamp:G}=JSON.parse(Q),oe=Date.now(),ke=24*60*60*1e3;if(oe-G<ke&&K)return console.log(" URL"),{url:K,type:"url"}}}catch(g){console.warn(":",g)}return null},q=async g=>{try{const j=z(),A={url:g,timestamp:Date.now(),resolution:n};localStorage.setItem(j,JSON.stringify(A)),console.log(" URL");const Q=se();console.log(" Blob..."),xs.cacheWallpaperBlob(g,Q).then(K=>{console.log(" Blob"),console.log(" Blob URL:",K)}).catch(K=>{console.warn(" BlobURL:",K)}),console.log(" ")}catch(j){console.warn(":",j)}},y=(g,j=!1)=>{console.log(" :",n,j?"()":""),b(!1);const A=new Image,Q=setTimeout(()=>{if(A.onload=null,A.onerror=null,console.warn(" "),j)h(""),b(!0);else{const K=O();y(K,!0)}},6e3);A.onload=()=>{clearTimeout(Q),h(A.src),b(!0),q(A.src),console.log(" :",A.src)},A.onerror=()=>{if(clearTimeout(Q),j)console.warn(" "),h(""),b(!0);else{console.warn(" API");const K=O();y(K,!0)}},A.src=g};U().then(g=>{if(g){if(console.log(` ${g.type==="blob"?"Blob":"URL"}:`,g.url),h(g.url),b(!0),g.type==="url"){const j=se();console.log(" Blob..."),xs.cacheWallpaperBlob(g.url,j).then(A=>{console.log(" Blob"),console.log(" Blob URL:",A)}).catch(A=>{console.warn(" Blob:",A)})}}else{const j=w(n);console.log("  Bing :",j),y(j)}}).catch(g=>{console.warn(":",g);const j=w(n);console.log("  Bing :",j),y(j)})},[n]);const ee=m.useCallback(w=>{F({x:w.clientX,y:w.clientY})},[]),te=Oc(ee,s&&!a);m.useEffect(()=>{if(!s||a){F({x:0,y:0});return}return window.addEventListener("mousemove",te,{passive:!0}),()=>{window.removeEventListener("mousemove",te)}},[s,a,te]),m.useEffect(()=>{if(t.length>0){const w=setTimeout(()=>{console.log("  favicon..."),ks.batchCacheFaviconsToIndexedDB(t).then(()=>{console.log(" Favicon ")}).catch(O=>{console.warn(" Favicon :",O)})},2e3);return()=>clearTimeout(w)}},[t]);const ne=(()=>{const w=d(),O=u();return{container:`relative min-h-screen ${l?"pt-[25vh]":"pt-[33vh]"}`,searchContainer:w.containerClass,cardContainer:`${l?"pt-8 pb-4":"pt-16 pb-8"} px-4 max-w-6xl mx-auto`,gridLayout:O,userInfo:l?"fixed top-2 right-2 z-40 scale-90":"fixed top-4 right-4 z-40",settingsButton:l?"fixed bottom-2 right-2 z-[9999] p-2 bg-white/10 rounded-full backdrop-blur-sm":"fixed bottom-4 right-4 z-[9999]"}})();return i.jsxs(i.Fragment,{children:[i.jsx(Rc,{}),i.jsx("div",{className:"fixed top-0 left-0 w-full h-full -z-10",style:{backgroundImage:c?`url(${c})`:void 0,backgroundSize:"cover",backgroundPosition:l?"center center":"center top",backgroundRepeat:"no-repeat",filter:p?"none":"blur(2px)",transform:!a&&s&&!l&&T?`translate(${T.x*.02}px, ${T.y*.02}px) scale(1.05)`:"translate(0px, 0px) scale(1)",transition:"filter 1.5s ease-out, transform 0.3s ease-out"}}),c&&i.jsx("div",{className:"fixed top-0 left-0 w-full h-full -z-10",style:{background:l?"linear-gradient(to bottom, rgba(30, 41, 59, 0.6) 0%, rgba(30, 41, 59, 0.4) 50%, rgba(30, 41, 59, 0.2) 100%)":"linear-gradient(to bottom, rgba(30, 41, 59, 0.7) 0%, rgba(30, 41, 59, 0.3) 50%, rgba(30, 41, 59, 0.1) 100%)",opacity:p?0:1,transition:"opacity 1.5s ease-out",pointerEvents:"none"}}),!p&&c&&i.jsx("div",{className:`fixed ${l?"top-2 left-2":"top-4 left-4"} z-40 bg-black/30 backdrop-blur-sm rounded-lg px-4 py-2`,children:i.jsxs("div",{className:"text-white/90 text-sm font-medium flex items-center space-x-2",children:[i.jsx("div",{className:"animate-pulse rounded-full h-2 w-2 bg-white/70"}),i.jsx("span",{className:l?"text-xs":"text-sm",children:""})]})}),i.jsxs("div",{className:ne.container,children:[i.jsx("div",{className:ne.searchContainer,children:i.jsx(fc,{})}),i.jsx("div",{className:ne.cardContainer,children:i.jsx(ae.div,{className:ne.gridLayout,initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:X.map((w,O)=>i.jsx(uc,{...w,index:O,moveCard:f,onSave:L,onDelete:W=>{e(t.filter(z=>z.id!==W))}},w.id))})}),D&&i.jsx(Ec,{onClose:()=>S(!1),websites:t,setWebsites:e}),r&&r.emailVerified&&i.jsxs("div",{className:ne.userInfo,children:[i.jsxs("button",{onClick:H,className:`bg-white/20 backdrop-blur-sm rounded-lg ${l?"px-2 py-1":"px-3 py-2"} flex items-center space-x-2 hover:bg-white/30 transition-colors cursor-pointer`,children:[i.jsx("i",{className:`fa-solid fa-user text-white/80 ${l?"text-xs":""}`}),i.jsx("span",{className:`text-white/90 ${l?"text-xs":"text-sm"} font-medium ${l&&o.length>8?"max-w-[60px] truncate":""}`,children:o})]}),$&&!l&&i.jsxs("div",{className:`absolute top-full right-0 mt-2 bg-white/95 backdrop-blur-sm rounded-lg px-4 py-3 shadow-lg border border-white/20 transition-opacity duration-300 ${$?"opacity-100":"opacity-0"}`,children:[i.jsx("p",{className:"text-gray-800 text-sm font-medium whitespace-nowrap",children:I>=10?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-red-500",children:""})," "]}):`"${o}"`}),i.jsx("div",{className:"absolute -top-2 right-4 w-0 h-0 border-l-4 border-r-4 border-b-4 border-l-transparent border-r-transparent border-b-white/95"})]})]}),i.jsx("div",{className:ne.settingsButton,children:i.jsx("button",{onClick:()=>S(!0),className:"p-2 text-white/70 hover:text-white transition-colors","aria-label":"",children:i.jsx("i",{className:`fa-solid fa-sliders ${l?"text-base":"text-lg"}`})})}),!l&&i.jsx(hc,{})]})]})}function $c({isOpen:t,onClose:e,localWebsites:s,cloudWebsites:n,onChoice:a}){const[r,o]=m.useState(!1);if(!t)return null;const l=async u=>{o(!0);try{await a(u),e()}catch(d){console.error(":",d)}finally{o(!1)}};return i.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:e}),i.jsxs(ae.div,{className:"w-96 bg-white rounded-xl shadow-2xl z-50 max-h-[80vh] flex flex-col",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:20,stiffness:300},children:[i.jsx("div",{className:"p-6 pb-0",children:i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-medium text-gray-800",children:""}),i.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",disabled:r,children:i.jsx("i",{className:"fa-solid fa-xmark text-lg"})})]})}),i.jsxs("div",{className:"flex-1 px-6 py-2 pb-6 space-y-4 overflow-y-auto",children:[i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:i.jsxs("p",{className:"text-sm text-blue-800 mb-2",children:[i.jsx("i",{className:"fa-solid fa-info-circle mr-2"}),""]})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[i.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:[i.jsx("i",{className:"fa-solid fa-computer mr-2"}),""]}),i.jsxs("p",{className:"text-xs text-gray-600",children:[s.length," "]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[i.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:[i.jsx("i",{className:"fa-solid fa-cloud mr-2"}),""]}),i.jsxs("p",{className:"text-xs text-gray-600",children:[n.length," "]})]})]}),i.jsxs("div",{className:"space-y-3 pt-4",children:[i.jsx("button",{onClick:()=>l("cloud"),disabled:r,className:"w-full p-4 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white rounded-lg transition-colors text-left",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("i",{className:"fa-solid fa-cloud-arrow-down text-lg mt-1"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:""}),i.jsx("div",{className:"text-xs text-blue-100",children:""})]})]})}),i.jsx("button",{onClick:()=>l("local"),disabled:r,className:"w-full p-4 bg-green-500 hover:bg-green-600 disabled:bg-gray-400 text-white rounded-lg transition-colors text-left",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("i",{className:"fa-solid fa-cloud-arrow-up text-lg mt-1"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:""}),i.jsx("div",{className:"text-xs text-green-100",children:""})]})]})}),i.jsx("button",{onClick:()=>l("merge"),disabled:r,className:"w-full p-4 bg-purple-500 hover:bg-purple-600 disabled:bg-gray-400 text-white rounded-lg transition-colors text-left",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("i",{className:"fa-solid fa-code-merge text-lg mt-1"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:""}),i.jsx("div",{className:"text-xs text-purple-100",children:""})]})]})})]}),r&&i.jsxs("div",{className:"flex items-center justify-center py-4",children:[i.jsx("i",{className:"fa-solid fa-spinner fa-spin mr-2"}),i.jsx("span",{className:"text-sm text-gray-600",children:"..."})]})]})]})]})}function Pc(t=!0){const{currentUser:e}=Ee(),[s,n]=m.useState({cloudWebsites:null,cloudSettings:null,loading:!1,error:null}),a=async()=>{if(!e||!e.emailVerified){n(o=>({...o,error:"",loading:!1}));return}n(o=>({...o,loading:!0,error:null}));try{const[o,l]=await Promise.all([xc(e),gc(e)]);n({cloudWebsites:o,cloudSettings:l,loading:!1,error:null}),console.log(" :",{websites:(o==null?void 0:o.length)||0,hasSettings:!!l})}catch(o){n(l=>({...l,loading:!1,error:": "+o.message})),console.error(" :",o)}},r=o=>s.cloudWebsites?yc(o,s.cloudWebsites):o;return m.useEffect(()=>{t&&e&&e.emailVerified?a():n({cloudWebsites:null,cloudSettings:null,loading:!1,error:null})},[e,t]),{...s,loadCloudData:a,mergeWithLocalData:r,hasCloudData:!!s.cloudWebsites||!!s.cloudSettings}}const Lc=()=>{m.useEffect(()=>{document.title="jiang_ai_web";const t=()=>{document.hidden?document.title="":document.title="jiang_ai_web"};return document.addEventListener("visibilitychange",t),()=>{document.removeEventListener("visibilitychange",t)}},[])};class Bc{constructor(){ue(this,"preloadedResources",new Set);ue(this,"preloadQueue",[]);ue(this,"isProcessing",!1);ue(this,"maxConcurrent",3)}async preloadImage(e){return this.preloadedResources.has(e)?!0:new Promise(s=>{const n=new Image;n.onload=()=>{this.preloadedResources.add(e),s(!0)},n.onerror=()=>{s(!1)},n.src=e})}async preloadImages(e){const s=e.filter(n=>!this.preloadedResources.has(n));if(s.length!==0)for(let n=0;n<s.length;n+=this.maxConcurrent){const a=s.slice(n,n+this.maxConcurrent);await Promise.allSettled(a.map(r=>this.preloadImage(r)))}}queuePreload(e){!this.preloadedResources.has(e)&&!this.preloadQueue.includes(e)&&(this.preloadQueue.push(e),this.processQueue())}async processQueue(){if(!(this.isProcessing||this.preloadQueue.length===0)){this.isProcessing=!0;try{"requestIdleCallback"in window?await new Promise(e=>{requestIdleCallback(()=>{this.processBatch(),e()})}):await new Promise(e=>{setTimeout(()=>{this.processBatch(),e()},16)})}finally{this.isProcessing=!1,this.preloadQueue.length>0&&setTimeout(()=>this.processQueue(),100)}}}async processBatch(){const e=this.preloadQueue.splice(0,this.maxConcurrent);e.length!==0&&await Promise.allSettled(e.map(s=>this.preloadImage(s)))}preloadFont(e,s){const n=document.createElement("link");if(n.rel="preload",n.as="font",n.type="font/woff2",n.crossOrigin="anonymous",n.href=e,document.head.appendChild(n),"FontFace"in window){const a=new FontFace(s,`url(${e})`);a.load().then(()=>{document.fonts.add(a)}).catch(r=>{console.warn(":",r)})}}preloadCSS(e){const s=document.createElement("link");s.rel="preload",s.as="style",s.href=e,s.onload=()=>{s.rel="stylesheet"},document.head.appendChild(s)}getStats(){return{preloaded:this.preloadedResources.size,queued:this.preloadQueue.length}}clear(){this.preloadedResources.clear(),this.preloadQueue.length=0}}const qt=new Bc;function Mc(t=!0){return m.useEffect(()=>t?(["https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/webfonts/fa-solid-900.woff2","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/webfonts/fa-regular-400.woff2"].forEach(o=>{qt.queuePreload(o)}),["https://bing.img.run","https://source.unsplash.com","https://www.google.com","https://favicon.yandex.net","https://icons.duckduckgo.com"].forEach(o=>{const l=document.createElement("link");l.rel="preconnect",l.href=o,document.head.querySelector(`link[href="${o}"]`)||document.head.appendChild(l)}),()=>{}):void 0,[t]),{preloadFavicons:a=>{const r=a.map(o=>o.favicon);qt.preloadImages(r)},preloadImage:a=>{qt.queuePreload(a)},getPreloadStats:()=>qt.getStats()}}function Fc({onAccept:t,onDecline:e,onCustomize:s}){const[n,a]=m.useState(!1),[r,o]=m.useState(!1);m.useEffect(()=>{if(!localStorage.getItem("cookie-consent")){const c=setTimeout(()=>{a(!0),o(!0)},2e3);return()=>clearTimeout(c)}},[]);const l=()=>{localStorage.setItem("cookie-consent","accepted"),localStorage.setItem("cookie-consent-date",new Date().toISOString()),o(!1),setTimeout(()=>{a(!1),t==null||t()},300),console.log(" Cookie")},u=()=>{localStorage.setItem("cookie-consent","declined"),localStorage.setItem("cookie-consent-date",new Date().toISOString()),o(!1);try{const f=["cookie-consent","cookie-consent-date"],c=[];for(let h=0;h<localStorage.length;h++){const p=localStorage.key(h);p&&!f.includes(p)&&c.push(p)}c.forEach(h=>localStorage.removeItem(h))}catch(f){console.error(":",f)}setTimeout(()=>{a(!1),e==null||e()},300),console.log(" Cookie")},d=()=>{s==null||s()};return n?i.jsx(Tt,{children:r&&i.jsxs(i.Fragment,{children:[i.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/20 z-[9998] pointer-events-none"}),i.jsxs(ae.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",damping:25,stiffness:200},className:"fixed bottom-0 left-0 right-0 z-[9999] bg-white border-t border-gray-200 shadow-2xl",children:[i.jsx("div",{className:"max-w-7xl mx-auto p-4 sm:p-6",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0 mt-1",children:i.jsx("i",{className:"fa-solid fa-cookie-bite text-amber-500 text-xl"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:" Cookie"}),i.jsxs("p",{className:"text-sm text-gray-600 leading-relaxed",children:["Cookie",i.jsx("br",{}),i.jsxs("span",{className:"inline-flex items-center gap-4 mt-1 text-xs",children:[i.jsx("span",{children:" "}),i.jsx("span",{children:" "}),i.jsx("span",{children:" "}),i.jsx("span",{children:" "})]})]}),i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Cookie",i.jsx("button",{className:"text-blue-600 hover:text-blue-800 underline mx-1",onClick:()=>window.open("https://github.com/your-repo/privacy-policy","_blank"),children:""})]})]})]})}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[i.jsxs("button",{onClick:d,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[i.jsx("i",{className:"fa-solid fa-cog mr-2"}),""]}),i.jsxs("button",{onClick:u,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[i.jsx("i",{className:"fa-solid fa-times mr-2"}),""]}),i.jsxs("button",{onClick:l,className:"px-6 py-2 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium",children:[i.jsx("i",{className:"fa-solid fa-check mr-2"}),""]})]})]})}),i.jsx("div",{className:"h-1 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500"})]})]})}):null}function Uc(t){const e=m.useRef(t.length),s=t.length;return e.current!==s&&(e.current=s),e.current}function zc(t,e){const s=[],n=new Map(t.map(d=>[d.id,d])),a=new Map(e.map(d=>[d.id,d])),r=new Set([...n.keys(),...a.keys()]);let o=0,l=0,u=0;for(const d of r){const f=n.get(d),c=a.get(d);if(f&&!c)s.push({id:d,type:"missing_cloud",localData:f}),o++;else if(!f&&c)s.push({id:d,type:"missing_local",cloudData:c}),l++;else if(f&&c){const h=[];f.name!==c.name&&h.push("name"),f.url!==c.url&&h.push("url"),f.note!==c.note&&h.push("note"),JSON.stringify(f.tags)!==JSON.stringify(c.tags)&&h.push("tags"),h.length>0&&(s.push({id:d,type:"different_content",localData:f,cloudData:c,fields:h}),u++)}}return{hasConflicts:s.length>0,conflicts:s,summary:{totalLocal:t.length,totalCloud:e.length,onlyLocal:o,onlyCloud:l,different:u}}}function Vc(t,e){return t.length!==e.length?!0:zc(t,e).hasConflicts}function Wc(){Lc();const{websites:t,setWebsites:e}=$a(),{currentUser:s}=Ee(),[n,a]=m.useState(!1),r=n&&(s==null?void 0:s.emailVerified),{cloudWebsites:o,cloudSettings:l,hasCloudData:u,mergeWithLocalData:d}=Pc(r);Mc(n);const{setCardOpacity:f,setSearchBarOpacity:c,setParallaxEnabled:h,setWallpaperResolution:p}=xt(),[b,D]=m.useState(!1),[S,T]=m.useState(!1),[F,$]=m.useState(!1);m.useEffect(()=>{const N=setTimeout(()=>{a(!0)},100);return()=>clearTimeout(N)},[]);const k=Uc(t);m.useEffect(()=>{if(r&&s&&s.emailVerified&&u&&o&&!S){const N=k,x=o.length;N>0&&x>0&&Vc(t,o)?D(!0):(x>0&&N===0&&e(o),T(!0))}},[r,s,u,o,k,S,e,t]),m.useEffect(()=>{r&&s&&s.emailVerified&&l&&(typeof l.cardOpacity=="number"&&f(l.cardOpacity),typeof l.searchBarOpacity=="number"&&c(l.searchBarOpacity),typeof l.parallaxEnabled=="boolean"&&h(l.parallaxEnabled),l.wallpaperResolution&&p(l.wallpaperResolution),l.theme&&localStorage.setItem("theme",l.theme))},[r,s,l,f,c,h,p]);const I=async N=>{if(!(!s||!o))try{let x=[];switch(N){case"cloud":x=o,e(x);break;case"local":x=t,await Cs(s,x);break;case"merge":x=d(t),e(x),await Cs(s,x);break}T(!0)}catch(x){console.error(" :",x)}};return i.jsxs(i.Fragment,{children:[i.jsx(Ga,{children:i.jsx(Ja,{path:"/",element:i.jsx(Dc,{websites:t,setWebsites:e})})}),b&&o&&i.jsx($c,{isOpen:b,onClose:()=>{D(!1),T(!0)},localWebsites:t,cloudWebsites:o,onChoice:I}),i.jsx(Fc,{onAccept:()=>{console.log(" Cookie")},onDecline:()=>{console.log(" Cookie")},onCustomize:()=>{$(!0)}}),F&&i.jsx(Da,{isOpen:F,onClose:()=>$(!1)})]})}function Zc(){return i.jsx(mc,{children:i.jsx(bc,{children:i.jsx(vc,{children:i.jsx(oc,{children:i.jsx(Ha,{backend:qa,children:i.jsx(Wc,{})})})})})})}const Hc=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",qc=Hc?void 0:"/jiang_ai_web",Kc=({error:t})=>i.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100vh",background:"white",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"20px",fontFamily:"Arial, sans-serif"},children:[i.jsx("h1",{style:{color:"red",marginBottom:"20px"},children:""}),i.jsxs("pre",{style:{background:"#f5f5f5",padding:"20px",borderRadius:"8px",fontSize:"14px",maxWidth:"80%",overflow:"auto"},children:[t.message,`

`,t.stack]})]});try{const t=document.getElementById("root");if(!t)throw new Error('id"root"');en.createRoot(t).render(i.jsx(m.StrictMode,{children:i.jsxs(Qa,{basename:qc,children:[i.jsx(Zc,{}),i.jsx(Gr,{})]})}))}catch(t){console.error(" React:",t),en.createRoot(document.getElementById("root")).render(i.jsx(Kc,{error:t}))}
